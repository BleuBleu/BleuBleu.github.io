<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="description" content="To import songs, simply open a file. On Windows it is also possible drag &amp; drop a file in the application.">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Importing Songs - FamiStudio Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/darcula.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">FamiStudio Documentation</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Welcome</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../install/" class="dropdown-item">Installation</a>
</li>
                                    
<li>
    <a href="../basics/" class="dropdown-item">Basics</a>
</li>
                                    
<li>
    <a href="../pianoroll/" class="dropdown-item">Editing Notes</a>
</li>
                                    
<li>
    <a href="../sequencer/" class="dropdown-item">Editing Patterns</a>
</li>
                                    
<li>
    <a href="../instruments/" class="dropdown-item">Editing Instruments & Arpeggios</a>
</li>
                                    
<li>
    <a href="../song/" class="dropdown-item">Editing Songs & Project</a>
</li>
                                    
<li>
    <a href="../dpcm/" class="dropdown-item">Editing DPCM Samples</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Importing Songs</a>
</li>
                                    
<li>
    <a href="../export/" class="dropdown-item">Exporting Songs</a>
</li>
                                    
<li>
    <a href="../expansion/" class="dropdown-item">Using Expansion Audio</a>
</li>
                                    
<li>
    <a href="../cleanup/" class="dropdown-item">Cleaning-up your Project</a>
</li>
                                    
<li>
    <a href="../config/" class="dropdown-item">Configuring FamiStudio</a>
</li>
                                    
<li>
    <a href="../cmdline/" class="dropdown-item">Command-line Processing</a>
</li>
                                    
<li>
    <a href="../soundengine/" class="dropdown-item">NES/Famicom Sound Engine</a>
</li>
                                    
<li>
    <a href="../troubleshooting/" class="dropdown-item">Troubleshooting</a>
</li>
                                    
<li>
    <a href="../thanks/" class="dropdown-item">Acknowledgements</a>
</li>
                                    
<li>
    <a href="../changelog/" class="dropdown-item">Change Log</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../dpcm/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../export/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#importing-songs" class="nav-link">Importing Songs</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#famitracker-text-or-binary" class="nav-link">FamiTracker Text or Binary</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#midi" class="nav-link">MIDI</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#famistudio-text" class="nav-link">FamiStudio Text</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#nintendo-sound-format" class="nav-link">Nintendo Sound Format</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#error-log" class="nav-link">Error Log</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="importing-songs">Importing Songs</h1>
<p>To import songs, simply open a file. On Windows it is also possible drag &amp; drop a file in the application.</p>
<h2 id="famitracker-text-or-binary">FamiTracker Text or Binary</h2>
<p>Import from FamiTracker (official 0.4.6 only) is supported through the text (TXT file) or binary format (FTM file). </p>
<p>Note that only a small subset of features is supported. Only the following effects are supported. Every other effect will be ignored:</p>
<ul>
<li>0xy (Arpeggio) : Will be converted to arpeggio, name will be based one the xy value.</li>
<li>1xx/2xx (Slide up/down) : Will be converted to slide notes</li>
<li>3xx (Portamento) : Will be converted to slide notes.</li>
<li>4xy (Vibrato) : Vibrator speed will be slightly modified, see table above for mapping.</li>
<li>Bxx (Jump) : Will be converted to loop point. </li>
<li>Cxx (Half) : Will truncate the song at the location of the effect and remove the loop point.</li>
<li>Dxx (Skip) : Will be converted to a custom pattern length.</li>
<li>Fxx (Speed) : Only speed is supported. Speed changed are not allowed to be delayed with Gxx. </li>
<li>Gxx (Note delay) : Fully supported.</li>
<li>Pxx (Fine pitch) : Fully supported.</li>
<li>Hxx (FDS Modulation depth) : Fully supported.</li>
<li>Ixx/Jxx (FDS Modulation speed) : Fully supported, but combined in one 16-bit value.</li>
<li>Sxx (Delayed cut) : Fully supported. </li>
<li>Vxx (Timbre) : Supported, but only affects the duty cycle of 2A03 and VRC6 square channels. Does not affect Saw or anything else.</li>
<li>Zxx (Delta counter) : Fully supported.</li>
</ul>
<p>Besides effects, there are also other limitations:</p>
<ul>
<li>VRC7 1xx/2xx/3xx/Qxx/Rxx effects will likely not sound like FamiTracker and will need manual corrections.</li>
<li>Instruments using both pitch and arpeggio envelopes at the same time will likely not sound the same as in FamiTracker. This is due to the vastly different way both applications handles these. FamiTracker resets the pitch at each arpeggio notes, while FamiStudio does not. </li>
<li>VRC6 saw channel is not influenced by duty cycle in FamiStudio. FamiStudio has a "saw master volume" on VRC6 instruments. Import/export process does not try account for this. Manual corrections may be needed.</li>
<li>Vibrato effect might sound a bit different, please see table above for exact mappings.</li>
</ul>
<p>When importing from FamiTracker, all possible slide effects (1xx, 2xx, 3xx, Qxx and Rxx) will be converted to slide notes. Sometimes attack will be disabled as well to mimic the same behavior. This in an inherently imperfect process since they approaches are so different. For this reason, importing/exporting slide notes with FamiTracker should be considered a <strong>lossy</strong> process.</p>
<h2 id="midi">MIDI</h2>
<p>Standard MIDI files can be imported with the desktop version of FamiStudio. </p>
<p>Notes, time signature and tempo changes will be imported. Only blank instruments, named after their GM instrument, will be created. Users should not expect the imported song to sound anything like the original. </p>
<p>Moreover, since the NES can only play one note at a time for a given channel, any kind of polyphony is not supported. Users are responsible for properly processing their MIDI files before importing them. That being said, this can be a handy feature to bring notes from an old project in FamiStudio.</p>
<p><img alt="" src="../images/ImportMIDI.png#center" /></p>
<p>Available options:</p>
<ul>
<li><strong>Expansion</strong>: Allows selecting the expansion audio to set for the project. This will add extra sound channels.</li>
<li><strong>Polyphony behavior</strong>: Although polyphony is not supported, if it were to happen, there are 2 ways FamiStudio can resolve it:<ul>
<li><strong>Favor most recent note</strong>: If a new note is triggered while one was still playing, the old note will be stopped and the new note will start.</li>
<li><strong>Favor currently playing note</strong>: If a new note is triggered while one was still playing, the old note will keep playing and the new note will be ignored.</li>
</ul>
</li>
<li><strong>Measures per pattern</strong>: Having a single measure per pattern tends to create too many patterns. FamiStudio can try to pack multiple measures in a single pattern. Note that tempo/time signature changes will always cause a new pattern to start.</li>
<li><strong>Import velocity as volume</strong>: Will convert velocity values to volume effects. </li>
<li><strong>Create PAL project</strong>: Will create a PAL project and do all BPMs calculations using PAL speeds.</li>
</ul>
<p>At the bottom of the dialog is the channel mapping table. For each of the NES channels, you can specific which MIDI data should be put in that channel. Double-clicking on a NES channel will bring up more options. </p>
<p><img alt="" src="../images/ImportMIDIChannel.png#center" /></p>
<p>There are 3 MIDI sources from which MIDI data can be read from:</p>
<ul>
<li><strong>Channel</strong>: Data from the specified MIDI channel will be assigned to the NES channel. This is basically a 1:1 mapping between NES an channel and a MIDI channel.</li>
<li><strong>Track</strong>: If the MIDI file has proper tracks defined, data from the that track can be assigned to the NES channel.</li>
<li><strong>None</strong>: Will not read any data in this channel. The NES channel will be left blank.</li>
</ul>
<p>The MIDI channel 10 is special an specific keys can be selected to filter specific drum sounds.</p>
<h2 id="famistudio-text">FamiStudio Text</h2>
<p>The FamiStudio text format is supported, please see the documentation above for the format specification.</p>
<h2 id="nintendo-sound-format">Nintendo Sound Format</h2>
<p>NSF (and NSFE) files can be imported in the desktop version of FamiStudio. This includes NSF with expansion audio. When opening and NSF file, you will be presented a dialog box.</p>
<p><img alt="" src="../images/ImportNsf.png#center" /></p>
<p>Most NSF files will not contain the names of songs, so they will usually have placeholder names. Besides the song to import, are the most important settings :</p>
<ul>
<li><strong>Duration</strong> : Time (in sec) to extract from the NSF. </li>
<li><strong>Pattern Length</strong> : Number of frames in a pattern.</li>
<li><strong>Start frame</strong> : Used to offset the entire song by a number of frames. This is useful when a song has an intro that is not the same length as the other patterns.</li>
<li><strong>Remove intro silence</strong> : Some songs start with a bit of silence, this will wait until any sound is produced to start recording.</li>
<li><strong>Reverse DPCM bits</strong> : This will set the "Reverse Bits" flag on all the imported samples. This come from a recent discovery that quite a few games had packed their bits in the wrong order, leading to samples sounding worse than they should.</li>
<li><strong>Preserve DPCM padding bytes</strong> : Force FamiStudio to keep the last byte of every sample, this will make all samples 16 bytes larger simply to keep an extra byte. This could be useful to keep looping samples intact. Should remain off most of the time since most games seem to ignore this byte.</li>
</ul>
<p>NSF file are essentially programs designed to run on actual hardware. They will contain no instrument, no envelopes, no repeating pattern, etc. All the volumes and pitches will be set through the effect panel. They are going to appear extremely messy and unoptimized. </p>
<p>That being said, NSF can still be extremely useful to reverse engineer how songs were made. In fact, this is how most of the Demo Songs that come with FamiStudio were made. </p>
<p>In the example below, we can imagine that the notes on the left were all using the same instrument with a decreasing volume envelope. The note of the right clearly was using a vibrato effect or a pitch envelope. </p>
<p><img alt="" src="../images/NsfMess.png#center" /></p>
<p>Only features that are supported by FamiStudio will be imported. Things like hardware sweeps &amp; advanced DPCM manipulations will all be ignored.</p>
<h1 id="error-log">Error Log</h1>
<p>When importing/exporting from/to specific format, an error log may appear providing a list of warnings/errors that occurred during the process. Please pay attention to these as they may explain why your song sound differently than intended.</p>
<p><img alt="" src="../images/ErrorLog.png#center" /></p>
<p>The mobile version does not display these types of errors. So if you encounter a weird behavior, opening the file with the desktop version may help diagnose the issue.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
