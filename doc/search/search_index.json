{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome Welcome to the FamiStudio documentation. Please use the User Guide menu above to navigate the the various sections or use the Table of Contents below. Also, you can use the Search button to search for a specific topic. Table of Contents Installation Procedure & Troubleshooting FamiStudio Basics Editing Notes Editing Patterns Editing Instruments & Arpeggios Editing Songs & Project Editing DPCM Samples Importing Songs Exporting Songs Using Expansion Audio Cleaning-up your Project Configuring FamiStudio Command-line Processing NES/Famicom Sound Engine Acknowledgements Troubleshooting Change Log Tutorial for FamiStudio desktop The quickest way of getting started with FamiStudio is simply to follow this tutorial video step by step. It will walk you through the creation a simple song, from beginning to end. Tutorial for FamiStudio mobile If you are using the mobile version of FamiStudio, please check out this tutorial to get you started! Discord Server If you need to talk other users or have a casual conversation with the developer, please come see us on Discord !","title":"Welcome"},{"location":"#welcome","text":"Welcome to the FamiStudio documentation. Please use the User Guide menu above to navigate the the various sections or use the Table of Contents below. Also, you can use the Search button to search for a specific topic.","title":"Welcome"},{"location":"#table-of-contents","text":"Installation Procedure & Troubleshooting FamiStudio Basics Editing Notes Editing Patterns Editing Instruments & Arpeggios Editing Songs & Project Editing DPCM Samples Importing Songs Exporting Songs Using Expansion Audio Cleaning-up your Project Configuring FamiStudio Command-line Processing NES/Famicom Sound Engine Acknowledgements Troubleshooting Change Log","title":"Table of Contents"},{"location":"#tutorial-for-famistudio-desktop","text":"The quickest way of getting started with FamiStudio is simply to follow this tutorial video step by step. It will walk you through the creation a simple song, from beginning to end.","title":"Tutorial for FamiStudio desktop"},{"location":"#tutorial-for-famistudio-mobile","text":"If you are using the mobile version of FamiStudio, please check out this tutorial to get you started!","title":"Tutorial for FamiStudio mobile"},{"location":"#discord-server","text":"If you need to talk other users or have a casual conversation with the developer, please come see us on Discord !","title":"Discord Server"},{"location":"basics/","text":"Concepts A FamiStudio project contains: A list of Songs A list of Instruments A list of DPCM samples A list of Arpeggios Songs are made of Patterns, which are on one of the five Channels supported by the NES. Patterns contain Notes which are played by an Instrument (DPCM samples do not require an instrument) and may refer to an arpeggio. Instruments may have some of their attributes (pitch, volume, arpeggio) modulated by Envelopes. Basic Desktop Controls Most of the operations are performed with the mouse. In general: The left mouse button adds and removes stuff. Single-clicking add notes/patterns. Double-clicking deletes notes/patterns. Alternatively Shift+click can be used. The right mouse button opens context menus and selects things. Right-clicking quickly will open a context menu. Right-clicking + holding and dragging will select a range of notes or patterns in the piano roll or sequencer. The middle mouse button is used for navigation: Middle-clicking + holding and dragging will pan the viewport. Rotating the mouse wheel will zoom the viewport in/out. Alternatively, if your mouse does not have a middle mouse button or mouse wheel: All actions requiring pressing the middle mouse buttons can be done with Alt+Left click if the \"Alt+Left emulates Middle\" option is enabled in the settings. All actions requiring rotating the mouse wheel can be performed with Alt+Right click, then dragging up/down. If you are working on a trackpad, please check out how to enable Trackpad controls in the configuration dialog. Basic Mobile Controls On mobile, there are 3 main gestures used: A quick tap will usually add stuff. Tapping on an certain objects (notes, patterns, instruments, etc.) will sometimes toggle a white highlight around them. When an object has a white highlight, it will allow you to perform other actions such as moving them. A swipe will usually pan when clicking in the background. Swiping on the header will select a time range. Swiping on a item with a white highlight will usually drag/move it. A long press on something will sometimes reveal advanced options. Main Window The main window has 4 main components: The Toolbar (on top) The Project Explorer (on the right) is where you add/remove/edit songs and instruments. The Sequencer (below the toolbar) is where you schedule your patterns on one of the 5 channels. It gives a high-level view of the song. The Piano Roll (below the sequencer) is where you edit your patterns. At any given moment there is always: A selected channel, in bold in the sequencer A selected song, in bold in the project explorer song list A selected instrument, in bold in the project explorer instrument list. A selected arpeggio, in bold in the project explorer arpeggio list. The sequencer and piano roll will display the information for the currently selected song. When pressing the keys on the piano roll, it will play notes for the currently selected instrument, and output it on the currently selected channel. The same applies if you have a MIDI keyboard connected. Toolbar The main toolbar contains your usual stuff: file operation, undo/redo, timecode, oscilloscope and play controls. Here is the meaning of each toolbar icon and some additional actions that can be performed. Unless specified, additionnal actions are performed by right-clicking on desktop, or long pressing on mobile. Icon Click Action Additional Actions (Right click on desktop, long-press on mobile) New project Open FamiStudio project or other file format On desktop, opens a list of recently opened files Save project Open a context menu to \"Save As...\". Export to various formats Project Open a context menu that allows repeating the last export, if any/ Copy selection Cut selection Paste Opens a context menu to \"Special Paste\" (paste with advanced options). Delete selection (mobile only) On mobile, long press to \"Special Delete\" (delete with advanced options) Undo Redo Transform/cleanup project/songs Application settings Play song Opens a context menu to play from different locations or change the playback speed. Toggle recording mode Rewing to beginning Change looping mode Toggle QWERTY input (desktop only) Toggle pop-up piano (mobile only) Toggle metronome click Toggle playback machine Toggle follow mode Reveal hidden toolbar buttons (mobile only) Tooltip Keyboard shortcuts or special actions are always displayed as tooltips in the upper-right corner of the toolbar. Please keep an eye on it to learn new functionalities. Playing/pausing the song The toolbar is used to play/pause the song. Alternatively, the keyboard can also be used: Space is used to play/pause the song. Shift+Space plays from the beginning of the song. Ctrl+Space plays from the beginning of the current pattern. Ctrl+Shift+Space plays from the loop point of the song. Changing the playback speed Right-clicking on the play button will open a context menu allowing you to change the playback speed to 1/2 or 1/4 speed. This is useful to hear very small/short notes. Changing the looping mode There are 4 looping modes, but only 2 are usable at any given time: Song or None : Loops the entire song if a loop point is step, stops at the end if there are no loop point. Pattern or Selection : Loops over the current pattern if there is no selection in the sequencer. If there is a selection, will loop over that selection. The icon in the toolbar will change to reflection this. Toggling the metronome The metronome can be enabled by clicking the icon on the toolbar. The metronome will tick at every beat and will only work when the song is playing. Saving the project Clicking on the icon save the project, right-clicking will open a context menu allowing you to \"Save As...\" and prompt you for a new filename. Exporting to various formats Please see the Export section for details on how to export to various formats. Cleanup dialog Please see the Cleanup section for details on how to cleanup your project. Configuration dialog Please see the Configuration section for details on how to configure FamiStudio. Project Explorer The project explorer displays the list of songs and instruments in the current project. For more details on what you can do with the Project Explorer, please check out these sections: Editing Songs & Project Editing Instruments & Arpeggios Sequencer The sequencer is where you organize the high-level structure of the song: which patterns play and when they play. The thumbnails of the patterns in the sequencer are by no mean accurate. Please visit the Editing Patterns section for more details. You can hide the channels that do not contain any pattern by pressing the little nosy character icon in the top left corner. This is known as \"shy mode\" and is borrowed from Adobe After Effects. Piano Roll The piano roll is where you editing the actual notes of the song, the instrument envelopes, as well as some special effects. Please check out the Editing Notes section for more details. The piano roll can be maximized to full screen by pressing the little maximize button in the top right corner, or by pressing 1 on the keyboard. Quick Access Bar (Mobile Only) The \"Quick Access Bar\" is specific to the mobile version, is the bar on the right hand side of the screen (of the bottom when in portrait mode). Its content will change depending on the context but will typically give you a series of convenient shortcuts (such as changing the active channel, instrument, etc.) so you do not have to go back and forth between the other views. Pop-Up Piano (Mobile Only) Another little view that is unique to the mobile version is the pop-up piano that lets you preview the sound of instrument. This is also used in recording mode, which will be covered later in the documentation. Keyboard shortcuts Here is a list of useful keyboard shortcuts: Space : Play/stop the stop Enter : Toggles recording mode. Ctrl+Space : Plays from beginning of current pattern. Shift+Space : Plays from beginning of the song. Ctrl+Shift+Space : Plays from loop point of the song (if any). Home : Seeks back to beginning of the song. Ctrl+Home : Seeks to beginning of the current pattern. Esc : Stops any lingering sound, stops recording mode, clears the selection. Ctrl+Z : Undo Ctrl+Y : Redo Ctrl+N : New project Ctrl+S : Save Ctrl+Shift+S : Save As... Ctrl+E : Export Ctrl+Shift+E : Repeat last export Ctrl+O : Open Shift+Q : Toggle QWERTY keyboard input. Delete : Delete selected patterns or notes. Escape : Deselects patterns or notes, stops any sound that is stuck playing. F1...F24 : Changes the active channel (more than 5 if you have expansion audio enabled). Ctrl+F1...F24 : Force display a channel. (more than 5 if you have expansion audio enabled). 1 : Toggle maximize the piano roll. Ctrl+1 : Toggle the effect panel. Shift+S : Toggle snapping in the piano roll. Alt+1 , Alt+2 , Alt+3 , Alt+4 : Changes snap precision to 1, 1/2, 1/4 and 1/8 of a beat respectively. Some keyboard shortcuts specific to the sequencer: L+Click : Sets the loop point at the clicked pattern. Some keyboard shortcuts specific to the piano roll: R+Click : Adds a release note. S+Click (and drag): Creates or edit a slide note. A+Click : Toggles the attack of a note. I+Click : Instrument picker T+Click : Adds an orphan stop note. Shift+S : Toggles snapping. When QWERTY keyboard input is active, some of the keys will be overridden to support piano input. This is default layout for an en-US keyboard. The Configuration Dialog allows re-mapping the keys for other types of keyboards.","title":"Basics"},{"location":"basics/#concepts","text":"A FamiStudio project contains: A list of Songs A list of Instruments A list of DPCM samples A list of Arpeggios Songs are made of Patterns, which are on one of the five Channels supported by the NES. Patterns contain Notes which are played by an Instrument (DPCM samples do not require an instrument) and may refer to an arpeggio. Instruments may have some of their attributes (pitch, volume, arpeggio) modulated by Envelopes.","title":"Concepts"},{"location":"basics/#basic-desktop-controls","text":"Most of the operations are performed with the mouse. In general: The left mouse button adds and removes stuff. Single-clicking add notes/patterns. Double-clicking deletes notes/patterns. Alternatively Shift+click can be used. The right mouse button opens context menus and selects things. Right-clicking quickly will open a context menu. Right-clicking + holding and dragging will select a range of notes or patterns in the piano roll or sequencer. The middle mouse button is used for navigation: Middle-clicking + holding and dragging will pan the viewport. Rotating the mouse wheel will zoom the viewport in/out. Alternatively, if your mouse does not have a middle mouse button or mouse wheel: All actions requiring pressing the middle mouse buttons can be done with Alt+Left click if the \"Alt+Left emulates Middle\" option is enabled in the settings. All actions requiring rotating the mouse wheel can be performed with Alt+Right click, then dragging up/down. If you are working on a trackpad, please check out how to enable Trackpad controls in the configuration dialog.","title":"Basic Desktop Controls"},{"location":"basics/#basic-mobile-controls","text":"On mobile, there are 3 main gestures used: A quick tap will usually add stuff. Tapping on an certain objects (notes, patterns, instruments, etc.) will sometimes toggle a white highlight around them. When an object has a white highlight, it will allow you to perform other actions such as moving them. A swipe will usually pan when clicking in the background. Swiping on the header will select a time range. Swiping on a item with a white highlight will usually drag/move it. A long press on something will sometimes reveal advanced options.","title":"Basic Mobile Controls"},{"location":"basics/#main-window","text":"The main window has 4 main components: The Toolbar (on top) The Project Explorer (on the right) is where you add/remove/edit songs and instruments. The Sequencer (below the toolbar) is where you schedule your patterns on one of the 5 channels. It gives a high-level view of the song. The Piano Roll (below the sequencer) is where you edit your patterns. At any given moment there is always: A selected channel, in bold in the sequencer A selected song, in bold in the project explorer song list A selected instrument, in bold in the project explorer instrument list. A selected arpeggio, in bold in the project explorer arpeggio list. The sequencer and piano roll will display the information for the currently selected song. When pressing the keys on the piano roll, it will play notes for the currently selected instrument, and output it on the currently selected channel. The same applies if you have a MIDI keyboard connected.","title":"Main Window"},{"location":"basics/#toolbar","text":"The main toolbar contains your usual stuff: file operation, undo/redo, timecode, oscilloscope and play controls. Here is the meaning of each toolbar icon and some additional actions that can be performed. Unless specified, additionnal actions are performed by right-clicking on desktop, or long pressing on mobile. Icon Click Action Additional Actions (Right click on desktop, long-press on mobile) New project Open FamiStudio project or other file format On desktop, opens a list of recently opened files Save project Open a context menu to \"Save As...\". Export to various formats Project Open a context menu that allows repeating the last export, if any/ Copy selection Cut selection Paste Opens a context menu to \"Special Paste\" (paste with advanced options). Delete selection (mobile only) On mobile, long press to \"Special Delete\" (delete with advanced options) Undo Redo Transform/cleanup project/songs Application settings Play song Opens a context menu to play from different locations or change the playback speed. Toggle recording mode Rewing to beginning Change looping mode Toggle QWERTY input (desktop only) Toggle pop-up piano (mobile only) Toggle metronome click Toggle playback machine Toggle follow mode Reveal hidden toolbar buttons (mobile only)","title":"Toolbar"},{"location":"basics/#tooltip","text":"Keyboard shortcuts or special actions are always displayed as tooltips in the upper-right corner of the toolbar. Please keep an eye on it to learn new functionalities.","title":"Tooltip"},{"location":"basics/#playingpausing-the-song","text":"The toolbar is used to play/pause the song. Alternatively, the keyboard can also be used: Space is used to play/pause the song. Shift+Space plays from the beginning of the song. Ctrl+Space plays from the beginning of the current pattern. Ctrl+Shift+Space plays from the loop point of the song.","title":"Playing/pausing the song"},{"location":"basics/#changing-the-playback-speed","text":"Right-clicking on the play button will open a context menu allowing you to change the playback speed to 1/2 or 1/4 speed. This is useful to hear very small/short notes.","title":"Changing the playback speed"},{"location":"basics/#changing-the-looping-mode","text":"There are 4 looping modes, but only 2 are usable at any given time: Song or None : Loops the entire song if a loop point is step, stops at the end if there are no loop point. Pattern or Selection : Loops over the current pattern if there is no selection in the sequencer. If there is a selection, will loop over that selection. The icon in the toolbar will change to reflection this.","title":"Changing the looping mode"},{"location":"basics/#toggling-the-metronome","text":"The metronome can be enabled by clicking the icon on the toolbar. The metronome will tick at every beat and will only work when the song is playing.","title":"Toggling the metronome"},{"location":"basics/#saving-the-project","text":"Clicking on the icon save the project, right-clicking will open a context menu allowing you to \"Save As...\" and prompt you for a new filename.","title":"Saving the project"},{"location":"basics/#exporting-to-various-formats","text":"Please see the Export section for details on how to export to various formats.","title":"Exporting to various formats"},{"location":"basics/#cleanup-dialog","text":"Please see the Cleanup section for details on how to cleanup your project.","title":"Cleanup dialog"},{"location":"basics/#configuration-dialog","text":"Please see the Configuration section for details on how to configure FamiStudio.","title":"Configuration dialog"},{"location":"basics/#project-explorer","text":"The project explorer displays the list of songs and instruments in the current project. For more details on what you can do with the Project Explorer, please check out these sections: Editing Songs & Project Editing Instruments & Arpeggios","title":"Project Explorer"},{"location":"basics/#sequencer","text":"The sequencer is where you organize the high-level structure of the song: which patterns play and when they play. The thumbnails of the patterns in the sequencer are by no mean accurate. Please visit the Editing Patterns section for more details. You can hide the channels that do not contain any pattern by pressing the little nosy character icon in the top left corner. This is known as \"shy mode\" and is borrowed from Adobe After Effects.","title":"Sequencer"},{"location":"basics/#piano-roll","text":"The piano roll is where you editing the actual notes of the song, the instrument envelopes, as well as some special effects. Please check out the Editing Notes section for more details. The piano roll can be maximized to full screen by pressing the little maximize button in the top right corner, or by pressing 1 on the keyboard.","title":"Piano Roll"},{"location":"basics/#quick-access-bar-mobile-only","text":"The \"Quick Access Bar\" is specific to the mobile version, is the bar on the right hand side of the screen (of the bottom when in portrait mode). Its content will change depending on the context but will typically give you a series of convenient shortcuts (such as changing the active channel, instrument, etc.) so you do not have to go back and forth between the other views.","title":"Quick Access Bar (Mobile Only)"},{"location":"basics/#pop-up-piano-mobile-only","text":"Another little view that is unique to the mobile version is the pop-up piano that lets you preview the sound of instrument. This is also used in recording mode, which will be covered later in the documentation.","title":"Pop-Up Piano (Mobile Only)"},{"location":"basics/#keyboard-shortcuts","text":"Here is a list of useful keyboard shortcuts: Space : Play/stop the stop Enter : Toggles recording mode. Ctrl+Space : Plays from beginning of current pattern. Shift+Space : Plays from beginning of the song. Ctrl+Shift+Space : Plays from loop point of the song (if any). Home : Seeks back to beginning of the song. Ctrl+Home : Seeks to beginning of the current pattern. Esc : Stops any lingering sound, stops recording mode, clears the selection. Ctrl+Z : Undo Ctrl+Y : Redo Ctrl+N : New project Ctrl+S : Save Ctrl+Shift+S : Save As... Ctrl+E : Export Ctrl+Shift+E : Repeat last export Ctrl+O : Open Shift+Q : Toggle QWERTY keyboard input. Delete : Delete selected patterns or notes. Escape : Deselects patterns or notes, stops any sound that is stuck playing. F1...F24 : Changes the active channel (more than 5 if you have expansion audio enabled). Ctrl+F1...F24 : Force display a channel. (more than 5 if you have expansion audio enabled). 1 : Toggle maximize the piano roll. Ctrl+1 : Toggle the effect panel. Shift+S : Toggle snapping in the piano roll. Alt+1 , Alt+2 , Alt+3 , Alt+4 : Changes snap precision to 1, 1/2, 1/4 and 1/8 of a beat respectively. Some keyboard shortcuts specific to the sequencer: L+Click : Sets the loop point at the clicked pattern. Some keyboard shortcuts specific to the piano roll: R+Click : Adds a release note. S+Click (and drag): Creates or edit a slide note. A+Click : Toggles the attack of a note. I+Click : Instrument picker T+Click : Adds an orphan stop note. Shift+S : Toggles snapping. When QWERTY keyboard input is active, some of the keys will be overridden to support piano input. This is default layout for an en-US keyboard. The Configuration Dialog allows re-mapping the keys for other types of keyboards.","title":"Keyboard shortcuts"},{"location":"changelog/","text":"Change Log Version history / release notes for each release. Version 4.0.1 (Linux & Android Hotfix) Fixes: Fixed file dialog on Linux. Fixed some piano touches being ignored on Android. Version 4.0.0 Changes: Revamped desktop version : Redesigned controls, more similar to mobile version : Context menus, Gizmos, etc. Based on GLFW using custom drawn widgets, consistent across Win/MacOS/Linux Getting rid of all dependencies to OpenTK, WinForms, GTK# and System.Drawing in preparation to eventual migration to modern .NET. Animated GIFs for intro tutorial More control over sequencer height and ability to hide unused channels on desktop Support to multiple audio expansions with EPSM Support for multiple waveforms for N163 Support for single audio expansions for ROM export Wave resampling for N163/FDS waveforms, import WAV files and adjust period & offset. Basic NSFe export support, only track names and durations for now. Improved oscilloscope stability: Use of emulation-generated triggers when rendering oscilloscope in exported video or in toolbar when previewing instruments. Improved trigger detection for toolbar oscilloscope when playing a song (using \"peak speed trigger\" algorithm). Audio delay effect when exporting video or audio. Snapping improvements, most notably: Alt+1 , Alt+2 , Alt+3 and Alt+4 quickly changes between common snapping values Hold Alt anytime when resizing or moving notes to temporarily disable snapping Context menu to set snapping to a specific note duration Option to snap effect values Breaking/Behavior changes: The sound engine now has a dedicated define for release note. If you use release notes you now must set FAMISTUDIO_USE_RELEASE_NOTES . Version 3.3.1 (Hotfix) Fixes/Changes: Fixed crash when exporting (or cancelling export) to audio or video Fixed crash when undo-ing certain manipulations in the Sequencer Allowing register viewer on Mobile (off by default) Version 3.3.0 Changes: EPSM support (Thanks Perkka!) Register viewer (desktop version only) Delta Counter (Zxx) effect support Ability to override initial DMC value for each sample assignment VGM export (Thanks Perkka!) Bamboo Tracker instruments import (desktop version only) (Thanks Perkka!) Minor cosmetic changes (ADSR diagrams, tabs in instrument editor, etc.) CTRL+A selects all patterns/notes in sequencer/piano roll on desktop Additional selection options on mobile (select note/pattern/all) Option not to clamp periods/notes to make the app behave more like the NSF driver Experimental file association on MacOS (Thanks beetrootpaul!) Tons of small bugfixes (N163 tuning, crashes, etc.) Version 3.2.3 (Hotfix) Fixes/Changes: Fixed OpenGL crash at startup when SDL2.dll is found Fixed export to sound engine when using an audio expansion Fixed release of wrong instrument being played when editing envelopes Fixed FTM import of some noise channel notes Clamping pitch values to the range supported by FamiStudio (-64...63) when importing Famitracker files Added a new tutorial about snapping Saving snap settings to INI file Version 3.2.2 (Hotfix) Fixes/Changes: Fixed issue where some effect values could go beyond their intended range, and lead to crashes desktop. Fixed FDS modulation on Mobile. Fixed crash in MIDI import dialog when lots of channels are present (desktop only) Potential CPU/GPU usage reduction on some computers (desktop only) Version 3.2.1 (Hotfix) Fixes/Changes: Added option to disable vibration (new \"Mobile\" section of Settings) Added support for importing 8-bit and 24-bit WAV files for DPCM samples. Added support for importing NSF2, if they do not use any of the advanced features. Fixed FamiTracker text export not asking for a filename. Fixed DPCM samples not playing if placing the seek bar exactly on their attack. Fixed NSF export tempo issue when using grooves in specific situations. Creating new effect values will respect snapping on mobile. Drawing note attacks for force display channel to help readability. Fixed an issue with release note that are beyond the visual duration of the note. Correct emulation of Tri-Noise-DMC volumes when using stereo export (+hidden INI option to also do it for separate channels) Experimental \"double-tap to delete patterns/note\" option (off by default) Minor UI tweaks (hit boxes of buttons, zoom levels, scroll bar issues, etc.). Version 3.2.0 Changes: Android app (free on Play Store) Multi-expansion support Proper emulation of triangle/noise/DPCM volume interactions Significant graphic optimizations, especially on lower-end machines or large projects. Minor quality of life features Minor cosmetic UI changes (icons, envelope editor, coloring piano with DPCM colors, etc.) Behavior changes: Snapping precision is now expressed in beats. So with the default settings, 1 means a quarter note. Channel volumes have been slightly adjusted to match the NES hardware more closely. Version 3.1.1 (Hotfix) Fixes: Fixed piano roll piano keys not highlighting when exporting video Fixed application stalling when closing on MacOS Fixed \"advanced properties\" buttons growing when using >100% scaling on Windows Adding failsafe when time signature cannot be computed when exporting MIDI Associating FMS files with FamiStudio on startup in portable mode Experimental support for OpenH264 in video export Version 3.1.0 Changes: OGG export Oscilloscope video export Stereo WAV/MP3/OGG/Video export Metronome Noise slides Volume slides Noise emulation improvements Portable mode (save settings in root folder if portable.txt is detected) Import samples from other projects Loop in selection mode ROM export now uses MMC3 mapper Fine tuning + DMC initial value parameters on DPCM samples Option to auto-save copy every 2 minutes Option for thicker scroll bars Minor sequencer selection improvements MacOS Monterey Beta support, Beta 3 or newer needed (Thanks OpenTK team!) Sound Engine CC65 bindings (Contribution from jroweboy!) Breaking/behavior changes: Pattern numbers in the sequencer and piano roll now start at 1 instead of 0. This is a purely esthetic change and does not impact anything. Version 3.0.2 (Hotfix) Fixes: Fixed crash when pasting past the end of an envelope Fixed FamiTracker (FTM/TXT) import when a jump or skip effect is exactly at row 255 Fixed FamiStudio corrupting the keyboard state on some European keyboards Fixed oscilloscope vertical orientation in toolbar + video export Fixed crash when using 150% scaling on Linux Fixed crash when parsing FamiStudio text file using VRC6 expansion. Fixed fine effect adjustment (shift + drag) again Stopping all audio when undo/redo happens to change the selected song Showing all 8 channels when importing MIDI using N163 expansion Added error message when trying to import a corrupted WAV file Made auto-scrolling when selecting more gradual in both sequencer and piano roll. Version 3.0.1 (Hotfix) Fixes: Fixed crash on startup on Linux when RtMidi fails to initialize Fixed fine effect adjustment (SHIFT + drag) when multiple values are selected Fixed race condition when stopping song playback that could cause a crash Fixed small OpenGL leaks Fixed pattern duplication when CTRL+SHIFT were already pressed when starting the drag Fixed import of MIDI files containing polyphonic key pressure events Fixed duplicated labels when exporting projects containing multiple songs to Famitone2 or FamiStudio sound engine Fixed crash when double clicking or left clicking in some cells of grids Fixed export of VRC6 duty cycles to FamiTracker Properly shutting down MIDI input on Windows Adding error message when trying to import NSF using multiple expansion chips Version 3.0.0 Changes : Redesigned FamiStudio tempo Redesigned note editing MIDI import/export support Oscilloscope in toolbar Optional scrollbars Revamped Mac version 1/2 and 1/4 playback speed Configurable QWERTY keyboard keys Improved sound engine music data compression (15-30% smaller) Audio expansion volume/low-pass filter configuration S5B and VRC7 and now properly low-pass filtered Ability to re-order songs Hi-DPI support on Linux Quick DPCM source data reload Improved video rendering speed Breaking/behavior changes: Setting a zero volume on the volume track of the triangle channel will now stop the sound. This was always the intention (this is what SoundEngine/NSF and FamiTracker does) but it was not correctly implemented inside FamiStudio. Version 2.4.2 (Hotfix) Fixes: Fixed crash on startup. Fixed crash when exporting SFX to sound engine from command-line. Version 2.4.1 (Hotfix) Fixes: Fixed corruption when importing looping samples from .FTI files. Fixed minor graphical issue in piano roll. Fixed issues on Windows 7 installations that are missing some D3D11 components such as KB2670838. Removed 320 kbps MP3 export option since it creates choppy audio. Version 2.4.0 Changes : Basic DPCM sample editor Darker theme and more color choices Ability to use QWERTY keyboard input without using recording mode Slightly reduced audio latency and configurable number of buffered frames Right-clicking anywhere in the background also starts a selection Seek bar can be dragged and respects snapping precision Pattern duplication preserves names when possible Instrument picker tool (hold \"I\" + click on a note) Paste special in Sequencer Pattern are created automatically when adding notes. Quickly repeat last export by right clicking button or CTRL+SHIFT+E Edit multiple custom patterns at once Video export resolution/framerate options (Contributed by Thomas McGrew) Multiple VRC7 fixes Multiple FamiTracker fixes Multiple sound engine improvements & fixes Blaarg smooth vibrato support for SFX Unlimited SFX size (Contributed by Brad Smith) Linker support in CA65 (Based on idea by Brad Smith) Breaking/behavior changes: Songs will always be sorted alphabetically. This include songs loaded from any file format. This was always the intention but was poorly enforced in previous versions. There was a bug in 2.3.x where instrument with volume envelope consisting exclusively of zeroes would play at full volume. This is no longer the case and the instruments will be silent. Version 2.3.2 (Hotfix) Changes: Added loop count to video export. Fixes: Fixed scaling issues on Retina display. Fixed lingering noise when dragging/adding notes in VRC7. Fixed multiple FamiTracker import (Text + Binary) issues/crashes. Fixed potential de-sync in NSF/sound engine when using delayed notes. Fixed various issues with expansion instruments UI (sliders/checkboxes for VRC7/FDS/N163). Fixed import of older FamiStudio text files (pre 2.3.0). Fixed NSF/sound engine crash when exporting empty arpeggios. Fixed issue with arpeggios sometimes persisting when a song loops. Version 2.3.1 (Linux Hotfix) Fixes: Fix startup crash on Linux. Version 2.3.0 Changes: MP3 export Video export Song merge functionality Duty cycle effect track support (equivalent of Vxx in FamiTracker) Special paste improvements (repeat, effects, etc.) Special delete Copy patterns to different channels in sequencer Option to display note labels in piano roll FamiTracker tempo improvements (delayed notes, cuts, fixes). Added support for Cxx (Halt) FamiTracker effect. Option to export each channel to a separate WAV/MP3 file. Small DPCM improvements (Drag & drop, bit reverse option) Small tempo improvements Sound engine code size reduction Version 2.2.1 (Hotfix) Changes: Fixed import of slide notes from FamiStudio Text format. Added option to not trim unused data when exporting to FamiStudio Text format. Fixed crash when exporting to some formats on MacOS Fixed crash when exporting FamiStudio/FamiTone2 SFX longer than 256 bytes. Fixed glibc dependency issue on Linux that go introduced in 2.2.0. Version 2.2.0 Changes: Recording mode to record note-by-note using MIDI controller or QWERTY keyboard Arpeggio support Official FamiStudio Sound Engine release Follow mode Displaying the piano roll view range in the sequencer FDS disk export Basic tutorials for first time users Error logging when importing/exporting files Wav export loop count Option to disable dragging sounds when a song is playing Version 2.1.1 (Hotfix) Changes: Fixed first frame not being audible when pressing play Fixed multiple crashes & issues when exporting to NSF Fixed missing notes on noise channel when importing NSFs Fixed import of FamiTracker FTM files that uses expansion audio Fixed incorrect DPCM samples alignment when exporting NSF, ROM & FamiTone2 Renaming .so files on Linux to support older version of Mono Setting correct file extension when saving on Linux FamiTone2 sound effect export fixes Version 2.1.0 New features: First Linux release Trackpad controls Note snapping in the piano roll New time format (MM:SS:mmm) Command-line interface Import of instruments from any supported format Duplication of patterns in the sequencer Mix paste Improved WAV export FamiTone2 sound effect export support Support for pasting text values in envelopes (comma, semicolon, space, tab or newline seperated) PAL native authoring for FamiStudio tempo MacOS+Linux MIDI keyboard support Shift+Space plays from the beginning of the song Alt+Right click up/down as an alternate zooming method Breaking/behavior changes: There was a bug in 2.0.x where release notes would abrutly interrupt slide notes (the NSF was doing it correctly). This is no longer the case. Version 2.0.3 (Hotfix) New features: Fix crash when clicking on a note when a incompatible instrument is selected. Fix WAV file export when using a sample rate different than 44100Hz. Version 2.0.2 (Hotfix) New features: Fixing seek bar position in sequencer on Hi-DPI (Retina on MacOS or scaling > 100% on Windows). Fixing crash when importing FTM containing multiple songs with the same name. Fixing missing or out-of-order songs when exporting to FamiTone2. Interpreting zero-velocity MIDI note on events as note off as per specification. Highlighting notes being dragged on the piano roll. Detection of audio device changes on Windows 7. Handling of D3D device lost to improve stability on Windows 7. Version 2.0.1 (Hotfix) New features: Hotfix for 150% scaling crash. Version 2.0.0 New features: More audio expansions: FDS, MMC5, VRC7, Namco 163 & Sunsoft S5B. Real-time expansion instrument parameters edition NSF import Note drag & drop with audio preview FamiTracker FTM import ROM export Fine pitch effect track New tempo mode PAL support FamiStudio text import/export Custom pattern settings and loop point Breaking/behavior changes: VRC6 saw is no longer affected by duty. The 0 to 15 volume range will map to the entire 0 to 31 possible range. Songs using VRC6 created prior to 2.0.0 will have to cut the volume in half to sound the same (either using volume track or instrument envelope). Notes without attack will remain without attack until a new note with attack is reached (even after a stop note). Version 1.4.0 New features: VRC6 audio expansion support Slide notes Vibrato effect Workaround \"pops\" on square channels (Blaarg's smooth vibrato technique) NSF improvements Ability to remove attack on notes Relative pitch envelopes Breaking/behavior changes: Jumps and skips will now be applied at the END of the frame, as opposed to the beginning. This is how FamiTracker and the rest of the world does it. Version 1.3.0 New features: Selection, cut, copy & paste support for piano roll and sequencer FamiTracker instrument file import (thanks @Tgamemaker!) More helpful tooltips Bug fixes and improvements Version 1.2.1 (Hotfix) New features: Windows 7 hotfix Version 1.2.0 New features: macOS support Extended note range to 8 octaves Volume tracks support Release envelopes & release notes Hi-DPI support (100%, 150% and 200% scaling on Windows, Retina on macOS) Config dialog MIDI improvements (device selection and note release) Improved NSF memory usage Misc bug fixes Version 1.1.0 New features: New export dialog Added WAV export Added FamiTracker Text export (see the wiki for limitations) Added NSF export (see the wiki for limitations) Bug fixes and code refactoring. Version 1.0.0 Initial release.","title":"Change Log"},{"location":"changelog/#change-log","text":"Version history / release notes for each release.","title":"Change Log"},{"location":"changelog/#version-401-linux-android-hotfix","text":"Fixes: Fixed file dialog on Linux. Fixed some piano touches being ignored on Android.","title":"Version 4.0.1 (Linux &amp; Android Hotfix)"},{"location":"changelog/#version-400","text":"Changes: Revamped desktop version : Redesigned controls, more similar to mobile version : Context menus, Gizmos, etc. Based on GLFW using custom drawn widgets, consistent across Win/MacOS/Linux Getting rid of all dependencies to OpenTK, WinForms, GTK# and System.Drawing in preparation to eventual migration to modern .NET. Animated GIFs for intro tutorial More control over sequencer height and ability to hide unused channels on desktop Support to multiple audio expansions with EPSM Support for multiple waveforms for N163 Support for single audio expansions for ROM export Wave resampling for N163/FDS waveforms, import WAV files and adjust period & offset. Basic NSFe export support, only track names and durations for now. Improved oscilloscope stability: Use of emulation-generated triggers when rendering oscilloscope in exported video or in toolbar when previewing instruments. Improved trigger detection for toolbar oscilloscope when playing a song (using \"peak speed trigger\" algorithm). Audio delay effect when exporting video or audio. Snapping improvements, most notably: Alt+1 , Alt+2 , Alt+3 and Alt+4 quickly changes between common snapping values Hold Alt anytime when resizing or moving notes to temporarily disable snapping Context menu to set snapping to a specific note duration Option to snap effect values Breaking/Behavior changes: The sound engine now has a dedicated define for release note. If you use release notes you now must set FAMISTUDIO_USE_RELEASE_NOTES .","title":"Version 4.0.0"},{"location":"changelog/#version-331-hotfix","text":"Fixes/Changes: Fixed crash when exporting (or cancelling export) to audio or video Fixed crash when undo-ing certain manipulations in the Sequencer Allowing register viewer on Mobile (off by default)","title":"Version 3.3.1 (Hotfix)"},{"location":"changelog/#version-330","text":"Changes: EPSM support (Thanks Perkka!) Register viewer (desktop version only) Delta Counter (Zxx) effect support Ability to override initial DMC value for each sample assignment VGM export (Thanks Perkka!) Bamboo Tracker instruments import (desktop version only) (Thanks Perkka!) Minor cosmetic changes (ADSR diagrams, tabs in instrument editor, etc.) CTRL+A selects all patterns/notes in sequencer/piano roll on desktop Additional selection options on mobile (select note/pattern/all) Option not to clamp periods/notes to make the app behave more like the NSF driver Experimental file association on MacOS (Thanks beetrootpaul!) Tons of small bugfixes (N163 tuning, crashes, etc.)","title":"Version 3.3.0"},{"location":"changelog/#version-323-hotfix","text":"Fixes/Changes: Fixed OpenGL crash at startup when SDL2.dll is found Fixed export to sound engine when using an audio expansion Fixed release of wrong instrument being played when editing envelopes Fixed FTM import of some noise channel notes Clamping pitch values to the range supported by FamiStudio (-64...63) when importing Famitracker files Added a new tutorial about snapping Saving snap settings to INI file","title":"Version 3.2.3 (Hotfix)"},{"location":"changelog/#version-322-hotfix","text":"Fixes/Changes: Fixed issue where some effect values could go beyond their intended range, and lead to crashes desktop. Fixed FDS modulation on Mobile. Fixed crash in MIDI import dialog when lots of channels are present (desktop only) Potential CPU/GPU usage reduction on some computers (desktop only)","title":"Version 3.2.2 (Hotfix)"},{"location":"changelog/#version-321-hotfix","text":"Fixes/Changes: Added option to disable vibration (new \"Mobile\" section of Settings) Added support for importing 8-bit and 24-bit WAV files for DPCM samples. Added support for importing NSF2, if they do not use any of the advanced features. Fixed FamiTracker text export not asking for a filename. Fixed DPCM samples not playing if placing the seek bar exactly on their attack. Fixed NSF export tempo issue when using grooves in specific situations. Creating new effect values will respect snapping on mobile. Drawing note attacks for force display channel to help readability. Fixed an issue with release note that are beyond the visual duration of the note. Correct emulation of Tri-Noise-DMC volumes when using stereo export (+hidden INI option to also do it for separate channels) Experimental \"double-tap to delete patterns/note\" option (off by default) Minor UI tweaks (hit boxes of buttons, zoom levels, scroll bar issues, etc.).","title":"Version 3.2.1 (Hotfix)"},{"location":"changelog/#version-320","text":"Changes: Android app (free on Play Store) Multi-expansion support Proper emulation of triangle/noise/DPCM volume interactions Significant graphic optimizations, especially on lower-end machines or large projects. Minor quality of life features Minor cosmetic UI changes (icons, envelope editor, coloring piano with DPCM colors, etc.) Behavior changes: Snapping precision is now expressed in beats. So with the default settings, 1 means a quarter note. Channel volumes have been slightly adjusted to match the NES hardware more closely.","title":"Version 3.2.0"},{"location":"changelog/#version-311-hotfix","text":"Fixes: Fixed piano roll piano keys not highlighting when exporting video Fixed application stalling when closing on MacOS Fixed \"advanced properties\" buttons growing when using >100% scaling on Windows Adding failsafe when time signature cannot be computed when exporting MIDI Associating FMS files with FamiStudio on startup in portable mode Experimental support for OpenH264 in video export","title":"Version 3.1.1 (Hotfix)"},{"location":"changelog/#version-310","text":"Changes: OGG export Oscilloscope video export Stereo WAV/MP3/OGG/Video export Metronome Noise slides Volume slides Noise emulation improvements Portable mode (save settings in root folder if portable.txt is detected) Import samples from other projects Loop in selection mode ROM export now uses MMC3 mapper Fine tuning + DMC initial value parameters on DPCM samples Option to auto-save copy every 2 minutes Option for thicker scroll bars Minor sequencer selection improvements MacOS Monterey Beta support, Beta 3 or newer needed (Thanks OpenTK team!) Sound Engine CC65 bindings (Contribution from jroweboy!) Breaking/behavior changes: Pattern numbers in the sequencer and piano roll now start at 1 instead of 0. This is a purely esthetic change and does not impact anything.","title":"Version 3.1.0"},{"location":"changelog/#version-302-hotfix","text":"Fixes: Fixed crash when pasting past the end of an envelope Fixed FamiTracker (FTM/TXT) import when a jump or skip effect is exactly at row 255 Fixed FamiStudio corrupting the keyboard state on some European keyboards Fixed oscilloscope vertical orientation in toolbar + video export Fixed crash when using 150% scaling on Linux Fixed crash when parsing FamiStudio text file using VRC6 expansion. Fixed fine effect adjustment (shift + drag) again Stopping all audio when undo/redo happens to change the selected song Showing all 8 channels when importing MIDI using N163 expansion Added error message when trying to import a corrupted WAV file Made auto-scrolling when selecting more gradual in both sequencer and piano roll.","title":"Version 3.0.2 (Hotfix)"},{"location":"changelog/#version-301-hotfix","text":"Fixes: Fixed crash on startup on Linux when RtMidi fails to initialize Fixed fine effect adjustment (SHIFT + drag) when multiple values are selected Fixed race condition when stopping song playback that could cause a crash Fixed small OpenGL leaks Fixed pattern duplication when CTRL+SHIFT were already pressed when starting the drag Fixed import of MIDI files containing polyphonic key pressure events Fixed duplicated labels when exporting projects containing multiple songs to Famitone2 or FamiStudio sound engine Fixed crash when double clicking or left clicking in some cells of grids Fixed export of VRC6 duty cycles to FamiTracker Properly shutting down MIDI input on Windows Adding error message when trying to import NSF using multiple expansion chips","title":"Version 3.0.1 (Hotfix)"},{"location":"changelog/#version-300","text":"Changes : Redesigned FamiStudio tempo Redesigned note editing MIDI import/export support Oscilloscope in toolbar Optional scrollbars Revamped Mac version 1/2 and 1/4 playback speed Configurable QWERTY keyboard keys Improved sound engine music data compression (15-30% smaller) Audio expansion volume/low-pass filter configuration S5B and VRC7 and now properly low-pass filtered Ability to re-order songs Hi-DPI support on Linux Quick DPCM source data reload Improved video rendering speed Breaking/behavior changes: Setting a zero volume on the volume track of the triangle channel will now stop the sound. This was always the intention (this is what SoundEngine/NSF and FamiTracker does) but it was not correctly implemented inside FamiStudio.","title":"Version 3.0.0"},{"location":"changelog/#version-242-hotfix","text":"Fixes: Fixed crash on startup. Fixed crash when exporting SFX to sound engine from command-line.","title":"Version 2.4.2 (Hotfix)"},{"location":"changelog/#version-241-hotfix","text":"Fixes: Fixed corruption when importing looping samples from .FTI files. Fixed minor graphical issue in piano roll. Fixed issues on Windows 7 installations that are missing some D3D11 components such as KB2670838. Removed 320 kbps MP3 export option since it creates choppy audio.","title":"Version 2.4.1 (Hotfix)"},{"location":"changelog/#version-240","text":"Changes : Basic DPCM sample editor Darker theme and more color choices Ability to use QWERTY keyboard input without using recording mode Slightly reduced audio latency and configurable number of buffered frames Right-clicking anywhere in the background also starts a selection Seek bar can be dragged and respects snapping precision Pattern duplication preserves names when possible Instrument picker tool (hold \"I\" + click on a note) Paste special in Sequencer Pattern are created automatically when adding notes. Quickly repeat last export by right clicking button or CTRL+SHIFT+E Edit multiple custom patterns at once Video export resolution/framerate options (Contributed by Thomas McGrew) Multiple VRC7 fixes Multiple FamiTracker fixes Multiple sound engine improvements & fixes Blaarg smooth vibrato support for SFX Unlimited SFX size (Contributed by Brad Smith) Linker support in CA65 (Based on idea by Brad Smith) Breaking/behavior changes: Songs will always be sorted alphabetically. This include songs loaded from any file format. This was always the intention but was poorly enforced in previous versions. There was a bug in 2.3.x where instrument with volume envelope consisting exclusively of zeroes would play at full volume. This is no longer the case and the instruments will be silent.","title":"Version 2.4.0"},{"location":"changelog/#version-232-hotfix","text":"Changes: Added loop count to video export. Fixes: Fixed scaling issues on Retina display. Fixed lingering noise when dragging/adding notes in VRC7. Fixed multiple FamiTracker import (Text + Binary) issues/crashes. Fixed potential de-sync in NSF/sound engine when using delayed notes. Fixed various issues with expansion instruments UI (sliders/checkboxes for VRC7/FDS/N163). Fixed import of older FamiStudio text files (pre 2.3.0). Fixed NSF/sound engine crash when exporting empty arpeggios. Fixed issue with arpeggios sometimes persisting when a song loops.","title":"Version 2.3.2 (Hotfix)"},{"location":"changelog/#version-231-linux-hotfix","text":"Fixes: Fix startup crash on Linux.","title":"Version 2.3.1 (Linux Hotfix)"},{"location":"changelog/#version-230","text":"Changes: MP3 export Video export Song merge functionality Duty cycle effect track support (equivalent of Vxx in FamiTracker) Special paste improvements (repeat, effects, etc.) Special delete Copy patterns to different channels in sequencer Option to display note labels in piano roll FamiTracker tempo improvements (delayed notes, cuts, fixes). Added support for Cxx (Halt) FamiTracker effect. Option to export each channel to a separate WAV/MP3 file. Small DPCM improvements (Drag & drop, bit reverse option) Small tempo improvements Sound engine code size reduction","title":"Version 2.3.0"},{"location":"changelog/#version-221-hotfix","text":"Changes: Fixed import of slide notes from FamiStudio Text format. Added option to not trim unused data when exporting to FamiStudio Text format. Fixed crash when exporting to some formats on MacOS Fixed crash when exporting FamiStudio/FamiTone2 SFX longer than 256 bytes. Fixed glibc dependency issue on Linux that go introduced in 2.2.0.","title":"Version 2.2.1 (Hotfix)"},{"location":"changelog/#version-220","text":"Changes: Recording mode to record note-by-note using MIDI controller or QWERTY keyboard Arpeggio support Official FamiStudio Sound Engine release Follow mode Displaying the piano roll view range in the sequencer FDS disk export Basic tutorials for first time users Error logging when importing/exporting files Wav export loop count Option to disable dragging sounds when a song is playing","title":"Version 2.2.0"},{"location":"changelog/#version-211-hotfix","text":"Changes: Fixed first frame not being audible when pressing play Fixed multiple crashes & issues when exporting to NSF Fixed missing notes on noise channel when importing NSFs Fixed import of FamiTracker FTM files that uses expansion audio Fixed incorrect DPCM samples alignment when exporting NSF, ROM & FamiTone2 Renaming .so files on Linux to support older version of Mono Setting correct file extension when saving on Linux FamiTone2 sound effect export fixes","title":"Version 2.1.1 (Hotfix)"},{"location":"changelog/#version-210","text":"New features: First Linux release Trackpad controls Note snapping in the piano roll New time format (MM:SS:mmm) Command-line interface Import of instruments from any supported format Duplication of patterns in the sequencer Mix paste Improved WAV export FamiTone2 sound effect export support Support for pasting text values in envelopes (comma, semicolon, space, tab or newline seperated) PAL native authoring for FamiStudio tempo MacOS+Linux MIDI keyboard support Shift+Space plays from the beginning of the song Alt+Right click up/down as an alternate zooming method Breaking/behavior changes: There was a bug in 2.0.x where release notes would abrutly interrupt slide notes (the NSF was doing it correctly). This is no longer the case.","title":"Version 2.1.0"},{"location":"changelog/#version-203-hotfix","text":"New features: Fix crash when clicking on a note when a incompatible instrument is selected. Fix WAV file export when using a sample rate different than 44100Hz.","title":"Version 2.0.3 (Hotfix)"},{"location":"changelog/#version-202-hotfix","text":"New features: Fixing seek bar position in sequencer on Hi-DPI (Retina on MacOS or scaling > 100% on Windows). Fixing crash when importing FTM containing multiple songs with the same name. Fixing missing or out-of-order songs when exporting to FamiTone2. Interpreting zero-velocity MIDI note on events as note off as per specification. Highlighting notes being dragged on the piano roll. Detection of audio device changes on Windows 7. Handling of D3D device lost to improve stability on Windows 7.","title":"Version 2.0.2 (Hotfix)"},{"location":"changelog/#version-201-hotfix","text":"New features: Hotfix for 150% scaling crash.","title":"Version 2.0.1 (Hotfix)"},{"location":"changelog/#version-200","text":"New features: More audio expansions: FDS, MMC5, VRC7, Namco 163 & Sunsoft S5B. Real-time expansion instrument parameters edition NSF import Note drag & drop with audio preview FamiTracker FTM import ROM export Fine pitch effect track New tempo mode PAL support FamiStudio text import/export Custom pattern settings and loop point Breaking/behavior changes: VRC6 saw is no longer affected by duty. The 0 to 15 volume range will map to the entire 0 to 31 possible range. Songs using VRC6 created prior to 2.0.0 will have to cut the volume in half to sound the same (either using volume track or instrument envelope). Notes without attack will remain without attack until a new note with attack is reached (even after a stop note).","title":"Version 2.0.0"},{"location":"changelog/#version-140","text":"New features: VRC6 audio expansion support Slide notes Vibrato effect Workaround \"pops\" on square channels (Blaarg's smooth vibrato technique) NSF improvements Ability to remove attack on notes Relative pitch envelopes Breaking/behavior changes: Jumps and skips will now be applied at the END of the frame, as opposed to the beginning. This is how FamiTracker and the rest of the world does it.","title":"Version 1.4.0"},{"location":"changelog/#version-130","text":"New features: Selection, cut, copy & paste support for piano roll and sequencer FamiTracker instrument file import (thanks @Tgamemaker!) More helpful tooltips Bug fixes and improvements","title":"Version 1.3.0"},{"location":"changelog/#version-121-hotfix","text":"New features: Windows 7 hotfix","title":"Version 1.2.1 (Hotfix)"},{"location":"changelog/#version-120","text":"New features: macOS support Extended note range to 8 octaves Volume tracks support Release envelopes & release notes Hi-DPI support (100%, 150% and 200% scaling on Windows, Retina on macOS) Config dialog MIDI improvements (device selection and note release) Improved NSF memory usage Misc bug fixes","title":"Version 1.2.0"},{"location":"changelog/#version-110","text":"New features: New export dialog Added WAV export Added FamiTracker Text export (see the wiki for limitations) Added NSF export (see the wiki for limitations) Bug fixes and code refactoring.","title":"Version 1.1.0"},{"location":"changelog/#version-100","text":"Initial release.","title":"Version 1.0.0"},{"location":"cleanup/","text":"Cleaning-up Your Project Clean-up Dialog The clean-up dialog dialog is accessed from the toolbar. It can perform various cleaning operations, such as deleting unused elements and merging identical ones. Cleaning-up Song Here are the operations that can be performed on songs: Merge identical patterns : Patterns that are identical on the same channel will be assumed to be the same and will all be replaced by instances of a single one. To be identical, patterns must have the exact same notes, effects, etc. Delete empty patterns : Patterns with zero notes or effect values will be deleted. Only applies to the selected songs. Cleaning-up Projects Here are the operations that can be performed on the project: Merge identical instruments : Instruments that have the same settings and envelopes will be combined into one and every notes using the instruments to be deleted will use the new one. Delete unused instruments : Instruments without a single note played will be deleted. Unassign unused DPCM instrument keys : Unassign samples to keys of the DPCM instrument that are not used by any song in the project. Delete unassigned samples : Samples that are not assigned to any key of the DPCM instrument will be deleted. Permanently apply all DPCM sample processing : Remove all the source data of any DPCM sample and replaces it with its processed DMC data. This will also reset all the processing parameters. Only do this when you know you are completely done adjusting your samples, to reduce the file size (it you were using WAV files as source). This will not affect the sound of the song, but will severely limit your ability to go back and adjust things like volume, etc. in a lossless way. Discard resampled wav data for NSF/N163 : Discards any source data for FDS/N163 instrument that are resampled from a wav file. You can do this to reduce the size of your project when you are done adjusting the resampling parameters. Delete unused arpeggios : Arpeggios that are not used by a single note will be deleted.","title":"Cleaning-up your Project"},{"location":"cleanup/#cleaning-up-your-project","text":"","title":"Cleaning-up Your Project"},{"location":"cleanup/#clean-up-dialog","text":"The clean-up dialog dialog is accessed from the toolbar. It can perform various cleaning operations, such as deleting unused elements and merging identical ones.","title":"Clean-up Dialog"},{"location":"cleanup/#cleaning-up-song","text":"Here are the operations that can be performed on songs: Merge identical patterns : Patterns that are identical on the same channel will be assumed to be the same and will all be replaced by instances of a single one. To be identical, patterns must have the exact same notes, effects, etc. Delete empty patterns : Patterns with zero notes or effect values will be deleted. Only applies to the selected songs.","title":"Cleaning-up Song"},{"location":"cleanup/#cleaning-up-projects","text":"Here are the operations that can be performed on the project: Merge identical instruments : Instruments that have the same settings and envelopes will be combined into one and every notes using the instruments to be deleted will use the new one. Delete unused instruments : Instruments without a single note played will be deleted. Unassign unused DPCM instrument keys : Unassign samples to keys of the DPCM instrument that are not used by any song in the project. Delete unassigned samples : Samples that are not assigned to any key of the DPCM instrument will be deleted. Permanently apply all DPCM sample processing : Remove all the source data of any DPCM sample and replaces it with its processed DMC data. This will also reset all the processing parameters. Only do this when you know you are completely done adjusting your samples, to reduce the file size (it you were using WAV files as source). This will not affect the sound of the song, but will severely limit your ability to go back and adjust things like volume, etc. in a lossless way. Discard resampled wav data for NSF/N163 : Discards any source data for FDS/N163 instrument that are resampled from a wav file. You can do this to reduce the size of your project when you are done adjusting the resampling parameters. Delete unused arpeggios : Arpeggios that are not used by a single note will be deleted.","title":"Cleaning-up Projects"},{"location":"cmdline/","text":"Command-line processing You can import from any supported format and export to any supported format via the command line. To see the list of options, simply run: FamiStudio.exe -? or FamiStudio.exe -help Usage The general command line syntax is: FamiStudio <input> <command> <output> [-options] Examples: FamiStudio music.fms wav-export music.wav -export-songs:2 -wav-export-rate:48000 FamiStudio music.fms famitracker-txt-export music.txt -export-songs:0,1,2 FamiStudio music.fms famitone2-export music.s -famitone2-format:ca65 To see the full list of commands and their options, please run the help command.","title":"Command-line Processing"},{"location":"cmdline/#command-line-processing","text":"You can import from any supported format and export to any supported format via the command line. To see the list of options, simply run: FamiStudio.exe -? or FamiStudio.exe -help","title":"Command-line processing"},{"location":"cmdline/#usage","text":"The general command line syntax is: FamiStudio <input> <command> <output> [-options] Examples: FamiStudio music.fms wav-export music.wav -export-songs:2 -wav-export-rate:48000 FamiStudio music.fms famitracker-txt-export music.txt -export-songs:0,1,2 FamiStudio music.fms famitone2-export music.s -famitone2-format:ca65 To see the full list of commands and their options, please run the help command.","title":"Usage"},{"location":"config/","text":"Configuring FamiStudio The configuration dialog is accessed from the main toolbar. Configuration Dialog The configuration dialog dialog is accessed from the toolbar. General Configuration Check for updates : At startup FamiStudio checks for new version online. This can be disabled. Show Tutorial at Startup : If enabled, the on-boarding tutorial will be showed when FamiStudio is launched. Clear Undo/Redo on save : Wipes the undo/redo stack every time the project is saved. This help keep the memory usage lower, but limits your ability to undo indefinitely. Open last project on start : Remember which project you last open and re-opens it next time you launch FamiStudio. Auto-save a copy every 2 minutes : Save a backup copy of the current project every 2 minutes. This may prevent loosing data when the application crashes. User Interface Configuration Scaling : By default, FamiStudio will use the scaling of your primary monitor on Windows (100%, 150% and 200% are support) and on macOS it will choose between 100% or 200% depending on if you have a retina display or not. This behavior can be overridden by a scaling of your choosing. This requires restarting the app: Time Format : Allow changing the format of the timer in the main toolbar of the application. Follow Mode : Select which type of follow mode to use: Jump : Once the play position reaches the right edge of the screen, advances by a full screen. Continuous : Once the play position is at least 75% of the way to the right, starts scrolling smoothly. Follow Views : Select which views to scroll: Sequencer : Only enables follow mode in the sequencer. Piano Roll : Only enables follow mode in the piano roll. Both : Enables follow mode on both controls. Scroll Bars : Display scrolls bars in the Sequencer and the Piano Roll. None : No scroll bares. Thin : Small scroll bars. Thick : Large scroll bars. Ideal Sequencer Height : The ideal height of the Sequencer, in percentage of the height of the FamiStudio window. Note that patterns have a minimum size, so this ideal size may not be achievable when there are many channels. Allow Sequencer Vertical Scrolling : If enabled and the ideal height above cannot be achieve (usually because there are too many channels), will allow vertically scrolling in the sequencer instead of going above the ideal size. Show FamiTracker Stop Notes : When using FamiTracker tempo mode, display implicit stop notes (whenever a note ends without being interrupted by another note) as little triangles. This makes it easier to set note delays for those. Show Piano Roll View Range : Displays a yellow rectangle in the sequencer representing the view range of the piano roll. Input Configuration Trackpad controls : Enabling trackpad controls will switch to a control scheme that is better suited for trackpad users: You will be able to swipe up/down/left/right on the trackpad to pan around. Pinch to zoom (or alternatively Ctrl+Swipe ) will zoom in/out. This gesture is not supported on Linux. Reverse trackpad scroll X/Y : Can be used to flip the direction of the trackpad scrolling. Trackpad scroll sensitivity : Can be used to increase/decrease the sensitivity of the trackpad controls. Alt+Left emulates Middle : For use with mouses that do not have a middle mouse button. Will allow using Alt+Left as a substitute. Sound Configuration Number of buffered frames : Number of NES/Famicom frames to buffer ahead of time. Higher values help prevent audio starvation, but also raise latency. The minimum is 2 and requires a relatively fast CPU to run without audio starvation. Stop instrument after : When instruments have release notes, there is no way for FamiStudio to know when to stop the notes. This allows stopping any sound after a specified number of seconds. This only applies to MIDI or when previewing instruments on the piano roll and has no impact on the actual song. Prevent popping on square channels : The NES/Famicom had a bug where the phase of square channels will reset around some notes (A-3, A-2, D-2, A-1, F-1, D-1, and B-0 on NTSC, or A#3, A#2, D#2, A#1, F#1, D#1, and C-0 on PAL), resulting in audible clicks or pops. This option will work around that bug using the Smooth Vibrato technique by Blaarg, resulting in smooth pitch changes. Note that this option will not carry over to FamiTracker if you export. Clamp periods and notes : Notes that go below the lowest possible note or above the highest possible note will typically wrap around when listening the song on real hardware. This is due to the fact that currently the SoundEngine does not clamp notes or period to the valid range. The emulation inside FamiStudio does it by default. If you want a more hardware accurate behavior, you can disable this option. Mute piano roll interactions during playback : When enabled, dragging/adding notes in the piano roll will not preview the notes when the song is playing. Some users find this distracting. Metronome volume : Volume of the metronome. Mixer This section allows adjusting the global volume of FamiStudio and the volume/treble of each audio expansion in the FamiStudio NES sound emulation. The global audio volume may need to be lowered to avoid clipping when using a massive amount of audio expansions at the same time. Audio expansion volume is a tricky subject since even different revisions of the Famicom had different resistor values which dramatically affected the volume of expansion audio. Here you can set any value you want. The treble (low-pass filter) has a logarithmic rolloff to treble dB at half sampling rate. Negative values reduce treble, small positive values (0 to 5.0) increase treble. FamiStudio emulates audio at 44.1KHz. Note that these settings have no effect outside of FamiStudio. MIDI Configuration Device : Allows choosing the MIDI device to use for previewing instruments. FFMpeg Configuration FFMpeg is a video encoder required to enable video export. You can download it from here . Once downloaded and installed somewhere on your computer, you will need to tell FamiStudio where it is. QWERTY Configuration This section allows remapping the keyboard keys for keyboard-piano input. This allows FamiStudio to support AZERTY, QWERTZ or any other international keyboard. Up to 2 keys can be assigned to a note. Mobile Configuration This section is only available on the Mobile version of FamiStudio. Allow vibration : Toggle for all vibration effect in the app. Configuration File All FamiStudio settings are saved in \"FamiStudio.ini\". The location of this file will vary depending on the operating system. On Windows it will be in AppData\\Local\\FamiStudio , unless you are using the portable version, in which case it will be in the root folder. On Linux it will be in ~/.config/FamiStudio On MacOS it will be in ~/Library/Application Support/FamiStudio On Android it is not user accessible. Undocumented Settings Almost all settings are configurable through the user interface. This section will contain some settings that can only be changed directly in the INI file. Value Description SeparateChannelsExportTndMode This define if the triangle-noise-DPCM volume interactions should be emulated when exporting to a WAV file using separate channels (1 WAV file per channel). Possible values are 0, 1 and 2. - 0 (default) will not emulate those at all - 1 will emulated them fully, which will give the correct triangle channel volume but will also make the three channels bleed into each other slightly. - 2 will allow the triangle/noise to be affected by the DPCM, but not the other way around. This will give the correct triangle volume, but will prevent bleeding into the DPCM channel.","title":"Configuring FamiStudio"},{"location":"config/#configuring-famistudio","text":"The configuration dialog is accessed from the main toolbar.","title":"Configuring FamiStudio"},{"location":"config/#configuration-dialog","text":"The configuration dialog dialog is accessed from the toolbar.","title":"Configuration Dialog"},{"location":"config/#general-configuration","text":"Check for updates : At startup FamiStudio checks for new version online. This can be disabled. Show Tutorial at Startup : If enabled, the on-boarding tutorial will be showed when FamiStudio is launched. Clear Undo/Redo on save : Wipes the undo/redo stack every time the project is saved. This help keep the memory usage lower, but limits your ability to undo indefinitely. Open last project on start : Remember which project you last open and re-opens it next time you launch FamiStudio. Auto-save a copy every 2 minutes : Save a backup copy of the current project every 2 minutes. This may prevent loosing data when the application crashes.","title":"General Configuration"},{"location":"config/#user-interface-configuration","text":"Scaling : By default, FamiStudio will use the scaling of your primary monitor on Windows (100%, 150% and 200% are support) and on macOS it will choose between 100% or 200% depending on if you have a retina display or not. This behavior can be overridden by a scaling of your choosing. This requires restarting the app: Time Format : Allow changing the format of the timer in the main toolbar of the application. Follow Mode : Select which type of follow mode to use: Jump : Once the play position reaches the right edge of the screen, advances by a full screen. Continuous : Once the play position is at least 75% of the way to the right, starts scrolling smoothly. Follow Views : Select which views to scroll: Sequencer : Only enables follow mode in the sequencer. Piano Roll : Only enables follow mode in the piano roll. Both : Enables follow mode on both controls. Scroll Bars : Display scrolls bars in the Sequencer and the Piano Roll. None : No scroll bares. Thin : Small scroll bars. Thick : Large scroll bars. Ideal Sequencer Height : The ideal height of the Sequencer, in percentage of the height of the FamiStudio window. Note that patterns have a minimum size, so this ideal size may not be achievable when there are many channels. Allow Sequencer Vertical Scrolling : If enabled and the ideal height above cannot be achieve (usually because there are too many channels), will allow vertically scrolling in the sequencer instead of going above the ideal size. Show FamiTracker Stop Notes : When using FamiTracker tempo mode, display implicit stop notes (whenever a note ends without being interrupted by another note) as little triangles. This makes it easier to set note delays for those. Show Piano Roll View Range : Displays a yellow rectangle in the sequencer representing the view range of the piano roll.","title":"User Interface Configuration"},{"location":"config/#input-configuration","text":"Trackpad controls : Enabling trackpad controls will switch to a control scheme that is better suited for trackpad users: You will be able to swipe up/down/left/right on the trackpad to pan around. Pinch to zoom (or alternatively Ctrl+Swipe ) will zoom in/out. This gesture is not supported on Linux. Reverse trackpad scroll X/Y : Can be used to flip the direction of the trackpad scrolling. Trackpad scroll sensitivity : Can be used to increase/decrease the sensitivity of the trackpad controls. Alt+Left emulates Middle : For use with mouses that do not have a middle mouse button. Will allow using Alt+Left as a substitute.","title":"Input Configuration"},{"location":"config/#sound-configuration","text":"Number of buffered frames : Number of NES/Famicom frames to buffer ahead of time. Higher values help prevent audio starvation, but also raise latency. The minimum is 2 and requires a relatively fast CPU to run without audio starvation. Stop instrument after : When instruments have release notes, there is no way for FamiStudio to know when to stop the notes. This allows stopping any sound after a specified number of seconds. This only applies to MIDI or when previewing instruments on the piano roll and has no impact on the actual song. Prevent popping on square channels : The NES/Famicom had a bug where the phase of square channels will reset around some notes (A-3, A-2, D-2, A-1, F-1, D-1, and B-0 on NTSC, or A#3, A#2, D#2, A#1, F#1, D#1, and C-0 on PAL), resulting in audible clicks or pops. This option will work around that bug using the Smooth Vibrato technique by Blaarg, resulting in smooth pitch changes. Note that this option will not carry over to FamiTracker if you export. Clamp periods and notes : Notes that go below the lowest possible note or above the highest possible note will typically wrap around when listening the song on real hardware. This is due to the fact that currently the SoundEngine does not clamp notes or period to the valid range. The emulation inside FamiStudio does it by default. If you want a more hardware accurate behavior, you can disable this option. Mute piano roll interactions during playback : When enabled, dragging/adding notes in the piano roll will not preview the notes when the song is playing. Some users find this distracting. Metronome volume : Volume of the metronome.","title":"Sound Configuration"},{"location":"config/#mixer","text":"This section allows adjusting the global volume of FamiStudio and the volume/treble of each audio expansion in the FamiStudio NES sound emulation. The global audio volume may need to be lowered to avoid clipping when using a massive amount of audio expansions at the same time. Audio expansion volume is a tricky subject since even different revisions of the Famicom had different resistor values which dramatically affected the volume of expansion audio. Here you can set any value you want. The treble (low-pass filter) has a logarithmic rolloff to treble dB at half sampling rate. Negative values reduce treble, small positive values (0 to 5.0) increase treble. FamiStudio emulates audio at 44.1KHz. Note that these settings have no effect outside of FamiStudio.","title":"Mixer"},{"location":"config/#midi-configuration","text":"Device : Allows choosing the MIDI device to use for previewing instruments.","title":"MIDI Configuration"},{"location":"config/#ffmpeg-configuration","text":"FFMpeg is a video encoder required to enable video export. You can download it from here . Once downloaded and installed somewhere on your computer, you will need to tell FamiStudio where it is.","title":"FFMpeg Configuration"},{"location":"config/#qwerty-configuration","text":"This section allows remapping the keyboard keys for keyboard-piano input. This allows FamiStudio to support AZERTY, QWERTZ or any other international keyboard. Up to 2 keys can be assigned to a note.","title":"QWERTY Configuration"},{"location":"config/#mobile-configuration","text":"This section is only available on the Mobile version of FamiStudio. Allow vibration : Toggle for all vibration effect in the app.","title":"Mobile Configuration"},{"location":"config/#configuration-file","text":"All FamiStudio settings are saved in \"FamiStudio.ini\". The location of this file will vary depending on the operating system. On Windows it will be in AppData\\Local\\FamiStudio , unless you are using the portable version, in which case it will be in the root folder. On Linux it will be in ~/.config/FamiStudio On MacOS it will be in ~/Library/Application Support/FamiStudio On Android it is not user accessible.","title":"Configuration File"},{"location":"config/#undocumented-settings","text":"Almost all settings are configurable through the user interface. This section will contain some settings that can only be changed directly in the INI file. Value Description SeparateChannelsExportTndMode This define if the triangle-noise-DPCM volume interactions should be emulated when exporting to a WAV file using separate channels (1 WAV file per channel). Possible values are 0, 1 and 2. - 0 (default) will not emulate those at all - 1 will emulated them fully, which will give the correct triangle channel volume but will also make the three channels bleed into each other slightly. - 2 will allow the triangle/noise to be affected by the DPCM, but not the other way around. This will give the correct triangle volume, but will prevent bleeding into the DPCM channel.","title":"Undocumented Settings"},{"location":"dpcm/","text":"Editing DPCM Samples DPCM (Delta Pulse Code Modulation) samples are 1-bit digital samples that the NES/Famicom supports. They are of very low quality but have been used quite successfully for drums and basses. To use a DPCM sample, it first needs to be loaded, then it needs to be assigned to a key of the piano, in the DPCM instrument. The samples workflow in FamiStudio is lossless in a way that once a sample is imported, any modification done to it will not modify the source data. Every time a parameter is changed, the source data will be re-processed to generate the final sample. This short 6 minutes tutorial will teach you the general workflow of DPCM samples in FamiStudio. This second tutorial is more advanced and will teach you how to sample instruments and dealing with looping samples. If you do not wish to use the built-in DPCM sample editor of FamiStudio there are many other alternative : FamiTracker , RJDMC and MakeDPCM . Loading DPCM Samples Samples are loaded by clicking the little folder icon next to the \"DPCM Samples\" section in the project explorer. FamiStudio can import samples from WAV files or from a DMC files. Note that importing DMC files and doing extensive processing is not recommended as these samples are very low-quality to begin with and any extra processing will degrade it further. It is also possible to import samples from another FamiStudio project. Note that doing this will not import the sample assignments to keys of the piano (DPCM Instrument). To import those as well, you maybe want to import the DPCM instrument in the Instrument section of the Project Explorer. Once loaded, you can rename a sample or change its color by clicking the gear icon (or double-clicking on it)button. You can also play the sample by clicking the little play button next to it: Left-clicking will play the processed sample. Right-clicking will play the source sample (DMC or WAV). Modifying DPCM Samples Once a sample is loaded, it can be expanded by clicking the little arrow to reveal some of its properties. Preview Rate : Rate at which to preview the sample when pressing the little Play button. It has no impact on the processing of the sample. These sample rates are the sample rates supported by the NES/Famicom and are the same as when you assign a sample to a key of the piano. These will change slighting depending if you are playing back in NTSC or PAL mode. Sample Rate : Rate at which to re-sample the sample. This can be useful to lower the size of the final sample, but will also degrade the quality significantly. To keep the pitch consistent, you probably should adjust the preview rate to match the sample rate. Padding Mode : Affects how the final size of the sample is calculated: Unpadded : The sample will be unpadded. Pad to 16 : The sample will be padded with silence until a multiple of 16 bytes is reached. This is what most games did and will cause an extra byte of garbage to be played every time the sample is played, but this is usually not audible. Pad to 16 + 1 : The sample will be padded with silence until a multiple of 16 bytes (plus one) is reached. This is technically the best way to process samples and it will ensure that no extra garbage sample is played but will waste 15 bytes. Round to 16 : The sample will be resampled in a way that the end of sample aligned to 16 bytes. This may affect the pitch slightly. This will cause an extra byte of garbage to be played every time the sample is played, but this is usually not audible. Round to 16 + 1 : The sample will be resampled in a way that the end of sample aligned to 16 bytes (plus one). This may affect the pitch slightly. This is a good mode to create looping samples. DMC Initial Value : Initial value of the DMC counter (0-63, values are actually 1/2 of what the hardware uses). This can be tweaked to that the first value matches the initial value of the WAV file, or to off the entire DMC data as a whole. Volume Adjust : Global volume adjustment, from 0% to 200%. Fine Tuning : Fine adjustment to the pitch, from 95% to 105%. Useful to adjust samples that are out of tune. Process as PAL : Perform all resampling/processing using PAL sample rates. Trim Zero Volume : Remove leading/trailing parts of the waveform that have near-zero volume. Reverse Bits : This option is only enabled when the source data is a DMC file. Will reverse the bits of each byte. This can be used correct problem is some existing games where samples were packed backwards. Editing DPCM Waveform Waveform overview Clicking on the waveform icon next to a sample will reveal its waveform in the piano roll. The source sample is display in gray The processed sample is display in the color of the sample The color of in the header will also show the length of the processed sample, which may be shorter than the source. Selecting and deleting samples Zooming in will reveal the individual samples of both waveforms. It is possible to select samples of the source data to trim them (by pressing the Delete key). Note that deleting samples manually is the only destructive operation that you can perform on the source data. Adjusting volume with the volume envelope Much like when editing notes, the effect panel can be expanded by clicking the little arrow in the upper left corner of the piano roll. This will reveal the 4-point volume envelope which can be used to adjust the volume of sample with more precision. The center line represents 100% volume which the bottom and top represent 0% and 200% respectively. You can drag the envelope points by left clicking and dragging them. Note that the first and last vertex will always be at the beginning and end of the sample. Right-clicking on a vertex will reset its volume to 100%. This is especially powerful when combined with the \"Trim Zero Volume\" option. For example, in the example above, the sample is made a lot shorter (and smaller) without deleting anything from the source data by reducing the volume to zero and letting FamiStudio trim the part with zero volume. Exporting DPCM samples Clicking on the little disk icon in the Project Explorer allows you to export a sample. Both the source and processed data can be exported. Left-clicking will export the processed sample as a DMC file. Right-clicking will export the source data (in its original format, WAV or DMC) Assigning a DPCM sample to a key of the DPCM instrument Once a sample is loaded, it can be assign to a key of the \"DPCM instrument\". Clicking on the little icon next to the DPCM Instrument in the project explorer will open the piano roll in DPCM edition mode. Samples can be assign to a key in 2 ways: Click in the piano roll will prompt you to select sample Dragging a sample from the Project Explorer will allow you to place it anywhere on the keyboard Unassigning a DPCM sample Right clicking on a sample that has been mapped to a key will remove it from that key. The memory for a sample will not be freed if it is still being used by another key. Moving DPCM samples to another key DPCM samples can be dragged to another key. When the drag is completed, FamiStudio will offer you to transpose all notes using the old key to the new key. Editing DPCM samples properties Double-clicking on an existing sample will show its properties. These are the property of the assignment of the sample to this key, not of the sample itself (the same sample can be used at different pitch, for example). Pitch : Allows pitching the sample down. These pitch values are the sample rates that the NES/Famicom supports and will sound a bit different on NTSC or PAL. Loop : Makes the sample loop or not. Sampling Instruments Contribution by .Hayabusa , thanks! If you want to sample some instrument, for example the Sunsoft Bass on your own, you can try this method. This is the same technique that was used in Sunsoft games. All you need to have is 5 different samples of same instrument, those samples should play these notes : A#, B, C, C#, D. These samples should be relatively high-pitched, since we will be pitching these down. Also this will help keeping the size down. Assign those 5 samples to corresponding notes, furthermore you will use these samples on lower notes, by assigning each one with lower pitch, to it's corresponding notes. For example let's take first source sample, A#, which with pitch 15, which is, of course the same A#. If you will lower the pitch to 14, it will become note F. With pitch 13, it will become D. And you will assign this same sample, by lowering pitch like that to it's corresponding notes. Here is a chart of how many semitones it goes down by decreasing the pitch, currently as i write this, i only got to pitch 7, which is -24 semitones, so in theory, you can sample whole 2 octaves by using just 5 samples. Pitch Semitones (approximate) 15 0 14 -5 13 -8 12 -12 11 -15 10 -17 9 -19 8 -22 7 -24 Here is a spreadsheet of which is the best sample (A#, B, C, C# or D) and the best pitch (0-15) to use to cover the entire keyboard while keeping things in tune. Note that this was generated for NTSC only. Please get in touch with me for a PAL version.","title":"Editing DPCM Samples"},{"location":"dpcm/#editing-dpcm-samples","text":"DPCM (Delta Pulse Code Modulation) samples are 1-bit digital samples that the NES/Famicom supports. They are of very low quality but have been used quite successfully for drums and basses. To use a DPCM sample, it first needs to be loaded, then it needs to be assigned to a key of the piano, in the DPCM instrument. The samples workflow in FamiStudio is lossless in a way that once a sample is imported, any modification done to it will not modify the source data. Every time a parameter is changed, the source data will be re-processed to generate the final sample. This short 6 minutes tutorial will teach you the general workflow of DPCM samples in FamiStudio. This second tutorial is more advanced and will teach you how to sample instruments and dealing with looping samples. If you do not wish to use the built-in DPCM sample editor of FamiStudio there are many other alternative : FamiTracker , RJDMC and MakeDPCM .","title":"Editing DPCM Samples"},{"location":"dpcm/#loading-dpcm-samples","text":"Samples are loaded by clicking the little folder icon next to the \"DPCM Samples\" section in the project explorer. FamiStudio can import samples from WAV files or from a DMC files. Note that importing DMC files and doing extensive processing is not recommended as these samples are very low-quality to begin with and any extra processing will degrade it further. It is also possible to import samples from another FamiStudio project. Note that doing this will not import the sample assignments to keys of the piano (DPCM Instrument). To import those as well, you maybe want to import the DPCM instrument in the Instrument section of the Project Explorer. Once loaded, you can rename a sample or change its color by clicking the gear icon (or double-clicking on it)button. You can also play the sample by clicking the little play button next to it: Left-clicking will play the processed sample. Right-clicking will play the source sample (DMC or WAV).","title":"Loading DPCM Samples"},{"location":"dpcm/#modifying-dpcm-samples","text":"Once a sample is loaded, it can be expanded by clicking the little arrow to reveal some of its properties. Preview Rate : Rate at which to preview the sample when pressing the little Play button. It has no impact on the processing of the sample. These sample rates are the sample rates supported by the NES/Famicom and are the same as when you assign a sample to a key of the piano. These will change slighting depending if you are playing back in NTSC or PAL mode. Sample Rate : Rate at which to re-sample the sample. This can be useful to lower the size of the final sample, but will also degrade the quality significantly. To keep the pitch consistent, you probably should adjust the preview rate to match the sample rate. Padding Mode : Affects how the final size of the sample is calculated: Unpadded : The sample will be unpadded. Pad to 16 : The sample will be padded with silence until a multiple of 16 bytes is reached. This is what most games did and will cause an extra byte of garbage to be played every time the sample is played, but this is usually not audible. Pad to 16 + 1 : The sample will be padded with silence until a multiple of 16 bytes (plus one) is reached. This is technically the best way to process samples and it will ensure that no extra garbage sample is played but will waste 15 bytes. Round to 16 : The sample will be resampled in a way that the end of sample aligned to 16 bytes. This may affect the pitch slightly. This will cause an extra byte of garbage to be played every time the sample is played, but this is usually not audible. Round to 16 + 1 : The sample will be resampled in a way that the end of sample aligned to 16 bytes (plus one). This may affect the pitch slightly. This is a good mode to create looping samples. DMC Initial Value : Initial value of the DMC counter (0-63, values are actually 1/2 of what the hardware uses). This can be tweaked to that the first value matches the initial value of the WAV file, or to off the entire DMC data as a whole. Volume Adjust : Global volume adjustment, from 0% to 200%. Fine Tuning : Fine adjustment to the pitch, from 95% to 105%. Useful to adjust samples that are out of tune. Process as PAL : Perform all resampling/processing using PAL sample rates. Trim Zero Volume : Remove leading/trailing parts of the waveform that have near-zero volume. Reverse Bits : This option is only enabled when the source data is a DMC file. Will reverse the bits of each byte. This can be used correct problem is some existing games where samples were packed backwards.","title":"Modifying DPCM Samples"},{"location":"dpcm/#editing-dpcm-waveform","text":"","title":"Editing DPCM Waveform"},{"location":"dpcm/#waveform-overview","text":"Clicking on the waveform icon next to a sample will reveal its waveform in the piano roll. The source sample is display in gray The processed sample is display in the color of the sample The color of in the header will also show the length of the processed sample, which may be shorter than the source.","title":"Waveform overview"},{"location":"dpcm/#selecting-and-deleting-samples","text":"Zooming in will reveal the individual samples of both waveforms. It is possible to select samples of the source data to trim them (by pressing the Delete key). Note that deleting samples manually is the only destructive operation that you can perform on the source data.","title":"Selecting and deleting samples"},{"location":"dpcm/#adjusting-volume-with-the-volume-envelope","text":"Much like when editing notes, the effect panel can be expanded by clicking the little arrow in the upper left corner of the piano roll. This will reveal the 4-point volume envelope which can be used to adjust the volume of sample with more precision. The center line represents 100% volume which the bottom and top represent 0% and 200% respectively. You can drag the envelope points by left clicking and dragging them. Note that the first and last vertex will always be at the beginning and end of the sample. Right-clicking on a vertex will reset its volume to 100%. This is especially powerful when combined with the \"Trim Zero Volume\" option. For example, in the example above, the sample is made a lot shorter (and smaller) without deleting anything from the source data by reducing the volume to zero and letting FamiStudio trim the part with zero volume.","title":"Adjusting volume with the volume envelope"},{"location":"dpcm/#exporting-dpcm-samples","text":"Clicking on the little disk icon in the Project Explorer allows you to export a sample. Both the source and processed data can be exported. Left-clicking will export the processed sample as a DMC file. Right-clicking will export the source data (in its original format, WAV or DMC)","title":"Exporting DPCM samples"},{"location":"dpcm/#assigning-a-dpcm-sample-to-a-key-of-the-dpcm-instrument","text":"Once a sample is loaded, it can be assign to a key of the \"DPCM instrument\". Clicking on the little icon next to the DPCM Instrument in the project explorer will open the piano roll in DPCM edition mode. Samples can be assign to a key in 2 ways: Click in the piano roll will prompt you to select sample Dragging a sample from the Project Explorer will allow you to place it anywhere on the keyboard","title":"Assigning a DPCM sample to a key of the DPCM instrument"},{"location":"dpcm/#unassigning-a-dpcm-sample","text":"Right clicking on a sample that has been mapped to a key will remove it from that key. The memory for a sample will not be freed if it is still being used by another key.","title":"Unassigning a DPCM sample"},{"location":"dpcm/#moving-dpcm-samples-to-another-key","text":"DPCM samples can be dragged to another key. When the drag is completed, FamiStudio will offer you to transpose all notes using the old key to the new key.","title":"Moving DPCM samples to another key"},{"location":"dpcm/#editing-dpcm-samples-properties","text":"Double-clicking on an existing sample will show its properties. These are the property of the assignment of the sample to this key, not of the sample itself (the same sample can be used at different pitch, for example). Pitch : Allows pitching the sample down. These pitch values are the sample rates that the NES/Famicom supports and will sound a bit different on NTSC or PAL. Loop : Makes the sample loop or not.","title":"Editing DPCM samples properties"},{"location":"dpcm/#sampling-instruments","text":"Contribution by .Hayabusa , thanks! If you want to sample some instrument, for example the Sunsoft Bass on your own, you can try this method. This is the same technique that was used in Sunsoft games. All you need to have is 5 different samples of same instrument, those samples should play these notes : A#, B, C, C#, D. These samples should be relatively high-pitched, since we will be pitching these down. Also this will help keeping the size down. Assign those 5 samples to corresponding notes, furthermore you will use these samples on lower notes, by assigning each one with lower pitch, to it's corresponding notes. For example let's take first source sample, A#, which with pitch 15, which is, of course the same A#. If you will lower the pitch to 14, it will become note F. With pitch 13, it will become D. And you will assign this same sample, by lowering pitch like that to it's corresponding notes. Here is a chart of how many semitones it goes down by decreasing the pitch, currently as i write this, i only got to pitch 7, which is -24 semitones, so in theory, you can sample whole 2 octaves by using just 5 samples. Pitch Semitones (approximate) 15 0 14 -5 13 -8 12 -12 11 -15 10 -17 9 -19 8 -22 7 -24 Here is a spreadsheet of which is the best sample (A#, B, C, C# or D) and the best pitch (0-15) to use to cover the entire keyboard while keeping things in tune. Note that this was generated for NTSC only. Please get in touch with me for a PAL version.","title":"Sampling Instruments"},{"location":"expansion/","text":"Using Expansion Audio Overview Expansion audio refers to extra hardware that were present on some Famicom cartridges (or add-on in the case of the Famicom Disk System). These chips added a few extra audio channels on top of the standard 5 channels. List of expansions supported: Konami VRC6 : Adds 2 square channels and a Sawtooth channel. The square channels are better quality than the stock square as they give more control over the duty cycle and don't suffer for the phase reset bug. Konami VRC7 : Adds 6 FM synthesis channels. It was based off the Yamaha YM2413 OPLL. Qualitatively, it sounds like an old SoundBlaster card from the 90's. It has 15 preset patches and a user-defined one. Since only 1 user-defined patch can be defined, one has to be careful not to use multiple custom patches at the same time from different channels. Famicom Disk System : Adds an extra channel that uses a wavetable and a modulation unit to create a wide range of sound. Nintendo MMC5 : Adds 2 extra square channels. They are extremely similar to the regular square channels of the Famicom, and also suffer from the same phase reset issue. Unlike the stock square channels, the reset bug cannot be worked around. Namco 163 : Adds up to 8 wavetable channels. It has 128 bytes of RAM to store all the currently used waveforms. Waveforms can be 4, 8, 16 and 32 in size. Smaller waveforms will sound worse, but you can have more of them at any given time. FamiStudio will work at its best with a sample size of 16. Also, it should be noted that for technical reasons, the more channels you add, the worse the audio quality will be. It is recommended that you use 4 channels or less, which is what most games using the expansion did. Sunsoft S5B : Add 3 extra square channels. These channels are fixed at a duty cycle or 50%. It was based off the Yamaha YM2149F. While this expansion was extremely powerful, it was only ever used in one game (Gimmick!) and this game did not make use of any advanced features of the chip. For this reason, FamiStudio (and most emulator) only support a small subset of features. EPSM : EPSM is not an audio expansion that ever used, or even existed in the lifetime of the NES, but rather the pet project of Perkka who designed a small circuit board that can be plugged in the expansion port of the NES and controlled by it to produce sound. The expansion is based off the Yamaha YMF288 chip and adds 3 extra square channels, 6 FM synthesis channels and 6 rhythm channels. The square are fixed at a duty cycle or 50%. Those are essentially the same as Sunsoft S5B. The FM channels are 4-OP channels that can be configured independently. The rhythm channels are 6 pre-defined drum samples. Enabling expansion audio The audio expansion(s) used is set in the project properties, which you can access by double-clicking on the project name (first row in the Project Explorer). Enabling any kind of expansion audio will automatically disable PAL support since no audio expansion were ever available in PAL territories. Note that while using multiple audio expansion(s) is supported in FamiStudio, no NES game has ever shipped with multiple expansions. This probably would not have been possible for multiple reasons (cost, competing companies, hardware conflicts, etc.). So be aware that you are bending the rules of reality when using multiple expansions. Expansion instruments Almost all expansion audio requires using special instruments on the expansion channels, the only exception being MMC5 because of its similarity with the regular square channels. When you have an expansion enabled and try to create an instrument, you will be asked what time of instrument you want to create. Certain expansion instrument have parameters that are very different from standard instrument. Some of these parameters are accessed by expanding the instrument by clicking on the little triangle on the left of its name. VRC6 VRC6 have a single extra parameter: Saw Master Volume : The saw channel tends to be very loud and its volume ranges from 0 to 63 (although FamiStudio always work in the 0 to 15 range). Full : Maps the 0-15 range to the full 0-63 range, very loud. Half : Maps the 0-15 range to the full 0-31 range, probably the best compromise. Quarter : Use the 0-15 values as is, quiet. VRC7 VRC7 instruments are by far the ones with the most parameters of the old expansions. Roughly speaking, the chip generates a carrier frequency, which is then modified by a modulator. To configure this properly, you should be familiar with the Attack-Decay-Sustain-Release (ADSR) way of generating sound. Patch : Allows you to select one of the built-in patch. Changing any parameter value will revert back to the \"Custom\" patch as it is the only one that can be configured. Carrier / Modulator : Tremolo : Toggle use of tremolo. The rate of the tremolo is fixed and cannot be changed. Vibrato : Toggle use of vibrato. The rate of the vibrato is fixed and cannot be changed. Sustained : Toggle use of sustain in the envelope. Wave Rectified : If enabled, clips the waveform to zero. Key Scaling : Toggle use of the KeyScaling Level parameter. KeyScaling Level : Affects the speed of the ADSR envelope speed. FreqMultiplier : Multiplier on the frequency. Attack : Speed of the attack. Decay : Speed of the decay. Sustain : Attenuation after decay. Release : Speed of release. Modulator Level : Output level of the modulator. Feedback : Feedback applied to the modulator. Famicom Disk System FDS instrument features a single user-drawn waveform, of fixed length (64). The waveform can also be resampled from a WAV file, see the resampling section for more details. The FDS instruments have 2 extra envelopes and a few extra parameter. The extra envelopes are: Waveform : The waveform of the instrument. It has a fixed length of 64 and can be fully customised. You can also choose from one of the presets. Modulation Table : The modulation table is used to modulate the waveform. It has a fixed length of 32 and can be fully customized. You can also choose from one of the presets. It has no effect if the modulation speed or depth is zero. Note that the way the modulation table is edited is very different from FamiTracker. All the internal complexity is hidden. The parameters are: Master Volume : At full volume the FDS can be significantly louder than the regular channels. The chip also supported 40%, 50% and 66% which makes the sound a lot more balanced. Wave Preset : A few preset that you can use to set the waveform envelope. Mod Preset : A few preset that you can use to set the modulation envelope. Mod Speed : The speed of the modulation. Mod Depth : The depth of the modulation. Mod Delay : A delay, in frames (1/60th of a second) before enabling modulation. Resample Period , Offset and Normalize : See the resampling section When changing the values of the sliders with huge values (such as the Mod Speed), you can hold Shift while dragging to fine tune the exact value. Namco 163 N163 instrument can have custom user-drawn waveforms. The size of the waveform is configurable, but limited by the amount of N163 RAM available, which decreases as more N163 channels are added. Waveforms can also be resampled from a WAV file, see the resampling section for more details. FamiStudio also supports cycling through multiple waveform in time. All the waveforms are presented visually as a single massive waveform, and each individual waveform can be repeated for a number of frames by setting the value of the \"Repeat\" effect in the effect panel. Moreover, both Loop and Release points can be configured. The current maximum number of wave data is currently 1024 bytes per instrument. So a wave size of 32 will be limited to 32 individual waves, where as a wave size of 16 will be able to have twice that amount. In the example below, 4 waveforms are setup and the number of repeats for each increases over time. Here are the parameters available. Extra envelope: Waveform : The waveform of the instrument. It will of a fixed length, as specified by the \"Wave Size\" parameter. The parameters are: Wave Preset : A few preset that you can use to set the waveform envelope. Wave Size : The N163 chip had only 128 of RAM to store all the waveforms used at any given time. For example, if you use waveforms of size 32, you can only use 4 unique instrument at any given time. Using more will result in channels using wrong instruments. Wave Position : The position, in the 128 bytes of memory, of the waveform. You must manually make sure that different waveforms don't overlap. Wave Count : The position, in the 128 bytes of memory, of the waveform. You must manually make sure that different waveforms don't overlap. Resample Period , Offset and Normalize : See the resampling section EPSM EPSM instruments are by far the ones with the most parameters. Roughly speaking, the chip generates a carrier frequency, which is then modified by a modulator. To configure this properly, you should be familiar with the Attack-Decay-Sustain-Release (ADSR) way of generating sound. Patch : Allows you to select the FamiStudio default pre-defined patch, it will automatically change to custom when a parameter is changed. Algorithm : Configuration of how the different operators affect each-other. Feedback : Audio feedback to OP1. Left : Enable Left channel. Right : Enable Right channel. AMS : Amplitude modulation sensitivity. PMS : Period modulation sensitivity. LF Oscillator EN : Enable low frequency oscillator LF Oscillator : Low frequency oscillator rate OPx : Detune : Detune is a parameter that gives cycle several gap slight in each slot as for frequency information made from F-Number. Frequency Ratio : Multiplier on the frequency. Volume : Operator volume. Key Scale : Affects the speed of the ADSR envelope speed. Attack Rate : Speed of the attack of note. Amplitude Modulation : Enable amplitude modulation for operator. Decay Rate : Speed of the decay to sustain level after attack. Sustain Rate : Sustain rate is a speed that attenuates from sustain level Sustain Level : Sustain level is the level (amount of attenuation) that changes from decay rate into sustain rate. Release Rate : The release rate is Key off speed of the following attenuation. SSG Envelope EN : Enable SSG Envelope. SSG Envelope : Selection of SSG Envelope type. Resampling WAV files for N163 and FDS Both expansions using wavetables (N163 and FDS) can import and resample short WAV files. To import a WAV file, simply right-click on the instrument and select the \"Resample Wav File...\" option. Only very short files can be loaded and they will be truncated if they are too long. Once a WAV file is loaded, the instrument will be set to the \"Resample\" profile which means its waveform is generated from the loaded WAV file. You can then adjust the \"Offset\" and \"Period\" to align the waveform to the boundaries of the wavetable, as you see fit. Optionally, the \"Normalize\" option will adjust the volume to use the full range by detecting the min/max volume in the input WAV file. Any manual modification to the waveform will switch the instrument to the \"Custom\" profile and disable resampling entirely. Pro-tip : You can hold Ctrl while using the sliders in the project explorer more more accurate scrolling.","title":"Using Expansion Audio"},{"location":"expansion/#using-expansion-audio","text":"","title":"Using Expansion Audio"},{"location":"expansion/#overview","text":"Expansion audio refers to extra hardware that were present on some Famicom cartridges (or add-on in the case of the Famicom Disk System). These chips added a few extra audio channels on top of the standard 5 channels. List of expansions supported: Konami VRC6 : Adds 2 square channels and a Sawtooth channel. The square channels are better quality than the stock square as they give more control over the duty cycle and don't suffer for the phase reset bug. Konami VRC7 : Adds 6 FM synthesis channels. It was based off the Yamaha YM2413 OPLL. Qualitatively, it sounds like an old SoundBlaster card from the 90's. It has 15 preset patches and a user-defined one. Since only 1 user-defined patch can be defined, one has to be careful not to use multiple custom patches at the same time from different channels. Famicom Disk System : Adds an extra channel that uses a wavetable and a modulation unit to create a wide range of sound. Nintendo MMC5 : Adds 2 extra square channels. They are extremely similar to the regular square channels of the Famicom, and also suffer from the same phase reset issue. Unlike the stock square channels, the reset bug cannot be worked around. Namco 163 : Adds up to 8 wavetable channels. It has 128 bytes of RAM to store all the currently used waveforms. Waveforms can be 4, 8, 16 and 32 in size. Smaller waveforms will sound worse, but you can have more of them at any given time. FamiStudio will work at its best with a sample size of 16. Also, it should be noted that for technical reasons, the more channels you add, the worse the audio quality will be. It is recommended that you use 4 channels or less, which is what most games using the expansion did. Sunsoft S5B : Add 3 extra square channels. These channels are fixed at a duty cycle or 50%. It was based off the Yamaha YM2149F. While this expansion was extremely powerful, it was only ever used in one game (Gimmick!) and this game did not make use of any advanced features of the chip. For this reason, FamiStudio (and most emulator) only support a small subset of features. EPSM : EPSM is not an audio expansion that ever used, or even existed in the lifetime of the NES, but rather the pet project of Perkka who designed a small circuit board that can be plugged in the expansion port of the NES and controlled by it to produce sound. The expansion is based off the Yamaha YMF288 chip and adds 3 extra square channels, 6 FM synthesis channels and 6 rhythm channels. The square are fixed at a duty cycle or 50%. Those are essentially the same as Sunsoft S5B. The FM channels are 4-OP channels that can be configured independently. The rhythm channels are 6 pre-defined drum samples.","title":"Overview"},{"location":"expansion/#enabling-expansion-audio","text":"The audio expansion(s) used is set in the project properties, which you can access by double-clicking on the project name (first row in the Project Explorer). Enabling any kind of expansion audio will automatically disable PAL support since no audio expansion were ever available in PAL territories. Note that while using multiple audio expansion(s) is supported in FamiStudio, no NES game has ever shipped with multiple expansions. This probably would not have been possible for multiple reasons (cost, competing companies, hardware conflicts, etc.). So be aware that you are bending the rules of reality when using multiple expansions.","title":"Enabling expansion audio"},{"location":"expansion/#expansion-instruments","text":"Almost all expansion audio requires using special instruments on the expansion channels, the only exception being MMC5 because of its similarity with the regular square channels. When you have an expansion enabled and try to create an instrument, you will be asked what time of instrument you want to create. Certain expansion instrument have parameters that are very different from standard instrument. Some of these parameters are accessed by expanding the instrument by clicking on the little triangle on the left of its name.","title":"Expansion instruments"},{"location":"expansion/#vrc6","text":"VRC6 have a single extra parameter: Saw Master Volume : The saw channel tends to be very loud and its volume ranges from 0 to 63 (although FamiStudio always work in the 0 to 15 range). Full : Maps the 0-15 range to the full 0-63 range, very loud. Half : Maps the 0-15 range to the full 0-31 range, probably the best compromise. Quarter : Use the 0-15 values as is, quiet.","title":"VRC6"},{"location":"expansion/#vrc7","text":"VRC7 instruments are by far the ones with the most parameters of the old expansions. Roughly speaking, the chip generates a carrier frequency, which is then modified by a modulator. To configure this properly, you should be familiar with the Attack-Decay-Sustain-Release (ADSR) way of generating sound. Patch : Allows you to select one of the built-in patch. Changing any parameter value will revert back to the \"Custom\" patch as it is the only one that can be configured. Carrier / Modulator : Tremolo : Toggle use of tremolo. The rate of the tremolo is fixed and cannot be changed. Vibrato : Toggle use of vibrato. The rate of the vibrato is fixed and cannot be changed. Sustained : Toggle use of sustain in the envelope. Wave Rectified : If enabled, clips the waveform to zero. Key Scaling : Toggle use of the KeyScaling Level parameter. KeyScaling Level : Affects the speed of the ADSR envelope speed. FreqMultiplier : Multiplier on the frequency. Attack : Speed of the attack. Decay : Speed of the decay. Sustain : Attenuation after decay. Release : Speed of release. Modulator Level : Output level of the modulator. Feedback : Feedback applied to the modulator.","title":"VRC7"},{"location":"expansion/#famicom-disk-system","text":"FDS instrument features a single user-drawn waveform, of fixed length (64). The waveform can also be resampled from a WAV file, see the resampling section for more details. The FDS instruments have 2 extra envelopes and a few extra parameter. The extra envelopes are: Waveform : The waveform of the instrument. It has a fixed length of 64 and can be fully customised. You can also choose from one of the presets. Modulation Table : The modulation table is used to modulate the waveform. It has a fixed length of 32 and can be fully customized. You can also choose from one of the presets. It has no effect if the modulation speed or depth is zero. Note that the way the modulation table is edited is very different from FamiTracker. All the internal complexity is hidden. The parameters are: Master Volume : At full volume the FDS can be significantly louder than the regular channels. The chip also supported 40%, 50% and 66% which makes the sound a lot more balanced. Wave Preset : A few preset that you can use to set the waveform envelope. Mod Preset : A few preset that you can use to set the modulation envelope. Mod Speed : The speed of the modulation. Mod Depth : The depth of the modulation. Mod Delay : A delay, in frames (1/60th of a second) before enabling modulation. Resample Period , Offset and Normalize : See the resampling section When changing the values of the sliders with huge values (such as the Mod Speed), you can hold Shift while dragging to fine tune the exact value.","title":"Famicom Disk System"},{"location":"expansion/#namco-163","text":"N163 instrument can have custom user-drawn waveforms. The size of the waveform is configurable, but limited by the amount of N163 RAM available, which decreases as more N163 channels are added. Waveforms can also be resampled from a WAV file, see the resampling section for more details. FamiStudio also supports cycling through multiple waveform in time. All the waveforms are presented visually as a single massive waveform, and each individual waveform can be repeated for a number of frames by setting the value of the \"Repeat\" effect in the effect panel. Moreover, both Loop and Release points can be configured. The current maximum number of wave data is currently 1024 bytes per instrument. So a wave size of 32 will be limited to 32 individual waves, where as a wave size of 16 will be able to have twice that amount. In the example below, 4 waveforms are setup and the number of repeats for each increases over time. Here are the parameters available. Extra envelope: Waveform : The waveform of the instrument. It will of a fixed length, as specified by the \"Wave Size\" parameter. The parameters are: Wave Preset : A few preset that you can use to set the waveform envelope. Wave Size : The N163 chip had only 128 of RAM to store all the waveforms used at any given time. For example, if you use waveforms of size 32, you can only use 4 unique instrument at any given time. Using more will result in channels using wrong instruments. Wave Position : The position, in the 128 bytes of memory, of the waveform. You must manually make sure that different waveforms don't overlap. Wave Count : The position, in the 128 bytes of memory, of the waveform. You must manually make sure that different waveforms don't overlap. Resample Period , Offset and Normalize : See the resampling section","title":"Namco 163"},{"location":"expansion/#epsm","text":"EPSM instruments are by far the ones with the most parameters. Roughly speaking, the chip generates a carrier frequency, which is then modified by a modulator. To configure this properly, you should be familiar with the Attack-Decay-Sustain-Release (ADSR) way of generating sound. Patch : Allows you to select the FamiStudio default pre-defined patch, it will automatically change to custom when a parameter is changed. Algorithm : Configuration of how the different operators affect each-other. Feedback : Audio feedback to OP1. Left : Enable Left channel. Right : Enable Right channel. AMS : Amplitude modulation sensitivity. PMS : Period modulation sensitivity. LF Oscillator EN : Enable low frequency oscillator LF Oscillator : Low frequency oscillator rate OPx : Detune : Detune is a parameter that gives cycle several gap slight in each slot as for frequency information made from F-Number. Frequency Ratio : Multiplier on the frequency. Volume : Operator volume. Key Scale : Affects the speed of the ADSR envelope speed. Attack Rate : Speed of the attack of note. Amplitude Modulation : Enable amplitude modulation for operator. Decay Rate : Speed of the decay to sustain level after attack. Sustain Rate : Sustain rate is a speed that attenuates from sustain level Sustain Level : Sustain level is the level (amount of attenuation) that changes from decay rate into sustain rate. Release Rate : The release rate is Key off speed of the following attenuation. SSG Envelope EN : Enable SSG Envelope. SSG Envelope : Selection of SSG Envelope type.","title":"EPSM"},{"location":"expansion/#resampling-wav-files-for-n163-and-fds","text":"Both expansions using wavetables (N163 and FDS) can import and resample short WAV files. To import a WAV file, simply right-click on the instrument and select the \"Resample Wav File...\" option. Only very short files can be loaded and they will be truncated if they are too long. Once a WAV file is loaded, the instrument will be set to the \"Resample\" profile which means its waveform is generated from the loaded WAV file. You can then adjust the \"Offset\" and \"Period\" to align the waveform to the boundaries of the wavetable, as you see fit. Optionally, the \"Normalize\" option will adjust the volume to use the full range by detecting the min/max volume in the input WAV file. Any manual modification to the waveform will switch the instrument to the \"Custom\" profile and disable resampling entirely. Pro-tip : You can hold Ctrl while using the sliders in the project explorer more more accurate scrolling.","title":"Resampling WAV files for N163 and FDS"},{"location":"export/","text":"6# Exporting Songs The export dialog is access through the main toolbar or with CTRL+E on the keyboard. To quickly repeat a previous export (same format and output file), you can right click on the export icon in the toolbar or press CTRL+SHIFT+E. Wave / MP3 / OGG Vorbis File Only a single song can be exported at a time. You can choose the sample rate (and bitrate in case of MP3/OGG). It is recommended to stick to 44.1KHz if you want the sound to be exactly as you hear it in FamiStudio. Lower sample rate might lack high frequencies. The song can be exported in one of two modes: Play N Times : Will play the song a specified number of times. Duration : Will loop though the song for the specified number of seconds. Other options: Delay (ms) : Optional audio delay effect that will include an echo of the audio at the specified delay. Highly recommanded to use with Stereo and heavy L/R panning (ex: set channels entirely on one side) as the echo effect will be on the opposite side. Separate channel files : Will output each channel in a separate audio file. Separate intro file : Will output the part before the loop point (intro) in a separate file. Stereo : Will output a stereo file and will allow setting the panning % in the channel list. Note that the quality of the MP3 encoding may not going to be as good as full fledged MP3 encoder such as LAME, but should be good enough for sending quick previews to people. Channels can optionally be muted. This can be used, for example, to create stereo mix using and external application. OGG Vorbis is currently only available on the desktop version of FamiStudio. Video (Piano Roll and Oscilloscope) Video export is a great way to add a visual element to your songs when sharing them on YouTube/social media. For this to work, you will need to manually download FFmpeg and extract it somewhere on your computer. Example of the piano roll format: Example of the oscilloscope format: Besides the audio/video quality settings, there are a few options to control the look and feel of the video: Audio Delay (ms) : Optional audio delay effect that will include an echo of the audio at the specified delay. Highly recommanded to use with Stereo and heavy L/R panning (ex: set channels entirely on one side) as the echo effect will be on the opposite side. Loop count : Number of times to repeat the looping part of the song. Stereo : Same as WAV/MP3/OGG. Channels : It is recommended to not export channels that do not have any notes, this will leave more space to the other channels. Options specific to piano roll video: Piano roll zoom : The higher the zoom, the faster notes will scroll by. Options specific to oscilloscope video: Oscilloscope Columns : Number of columns to split the channels into. Oscilloscope Thickness : Thickness of the oscilloscope line, in pixels. Oscilloscope Color : Can color the oscilloscope using the colors of the instruments or samples. Otherwise will use a neutral light grey. Nintendo Sound Format (NSF) Every feature supported by FamiStudio can be used in an NSF. Options: Format : You can choose between NSF/NSFe. NSF is more widely support, NSFe adds support for per-track names and durations. Mode : Song that do not use any audio expansion can export as PAL and Dual mode, where as only NTSC is available for expansion audio. The maximum song size is approximately 28KB minus the size of the DPCM samples used. Note that this size are not printed anywhere and are not related to the size of the *.fms file. Best to simply try and see if it works. ROM / FDS Disk Song(s) can be exported to a NES ROM file or a Famicom Disk System disk to play if back on an emulator or on actual hardware. The exported ROMs can run on actual hardware using devices such as the Everdrive N8 . Here are the mappers used for each audio expansions: None : MMC3 - iNES Mapper 004 VRC6 : VRC6a - iNES Mapper 024 VRC7 : VRC7 - iNES Mapper 085 MMC5 : MMC5 - iNES Mapper 005 N163 : N163 - iNES Mapper 019 S5B : FME-7 - iNES Mapper 069 EPSM : MMC3 - iNES Mapper 004 Note that projects using multiple audio expansions cannot be exported to ROM/FDS. The user interface is very simple, pressing left/right on the D-PAD will change the current track. Track/song names will be truncated to 28 characters. For something a lot more customizable, check out EZNSF by Brad Smith. For FDS export, the process is very similar and will output a FDS disk image instead of a ROM. It has been tested on actual hardware using the FDSStick . Songs are loaded on demand from the disk, so switching tracks will be a bit slower on FDS than on a ROM. MIDI Songs created using the FamiStudio tempo mode can be exported to MIDI. This is only available in the desktop version. There are 2 ways in which FamiStudio can assign General-MIDI instruments: Instrument : Each FamiStudio instrument will be assigned to a GM instrument. Program changes will be inserted in the song to change to these instruments. Channel : A single instrument per-channel will be used. At the bottom of the dialog is the instrument table. This is where you can assign instrument to channels or FamiStudio instrument (depending on the Instrument Mode). Double-clicking on a row will allow selecting the instrument. FamiTracker Text You can export songs to FamiTracker using their Text Export format. This is only available in the desktop version. There are some limitations: Pitch envelopes with looping sections will be modified on export so that the looping part sums to zero. This is done to prevent pitch from drifting up/down every time the envelope loops. The reason for this is that FamiTracker's pitch envelopes are relative while FamiStudio's are absolute. Instruments using both pitch and arpeggio envelopes at the same time will not sound correct in FamiTracker. This is due to the vastly different way both applications handles these. FamiTracker re-triggers the pitch envelope at each arpeggio notes (probably the more sensible way), while FamiStudio simply runs both at the same time. For slide notes, FamiStudio will do its very best to choose which FamiTracker effect to use. Note that importing/exporting slide notes with FamiTracker should be considered a lossy process. Here are the general rules: If the slide note and its target are within 16 semitones, Qxx/Rxx (note slide up/down) will be favored as it is the most similar effect to what we are doing. Otherwise, if the previous note has the same pitch as the slide note, 3xx (auto-portamento) will be used. Finally, if none of these conditions are satisfied, 1xx/2xx (slide up/down) will be used. This is not ideal since the pitch might not exactly match the target note. Slide notes of VRC7 will definitely not export perfectly due to the different way in which both applications handle VRC7 pitches. VRC6 saw channel is not influenced by duty cycle in FamiStudio. FamiStudio always allow the full volume range for the saw. Import/export process does not try account for this. This might lead to volume inconsistencies between FamiTracker and FamiStudio where the volume needs to be doubled or halved to sound correct. Vibrato effect might sound slightly different once exported to FamiTracker. The speed values in FamiStudio are slightly different than FamiTracker. Here is a table relating the speeds in FamiStudio and FamiTracker (this is applied automatically when importing/exporting): FamiTracker speed FamiTracker period FamiStudio speed FamiStudio period 1 64 1 64 2 32 2 32 3 21.3 3 21 4 16 4 16 5 12.8 5 13 6 10.7 6 11 7 9.1 7 9 8 8 8 8 9 7.1 9 7 10 6.4 10 6 11 5.8 10 6 12 5.3 11 5 13 4.9 11 5 14 4.6 11 5 15 4.3 12 4 FamiStudio Text FamiStudio text format is a textual representation of the of the binary FamiStudio format. It is designed to favor interoperability with other apps, tools and sound engines. Unlike .FMS files, this format is not forward or backward compatible. FamiStudio can only read FamiStudio text files generated with the same major and minor version (ex: 3.0.x). Exporting or importing using this format mostly lossless. These are the features that will not be preserved: The custom colors assigned to songs, instruments, patterns, arpeggios and DPCM samples will not be preserved, they will be randomized every time you re-import the file. Only the final processed data of DPCM samples will exported. The source data as well as any processing parameter will be lost. Only the desktop version of FamiStudio supports exporting to this format. Format Specification The format describe one object per line followed by some attributes and values. Attribute are always between double-quotes. All indentation is purely cosmetic. Object Attribute1=\"Value1\" Attribute2=\"Value2\" Double quotes in values can be escaped by doubling them, similar to some CSV dialects: Object Attribute1=\"Example \"\"Quoted\"\" Value1\" Attribute2=\"Value2\" The general structure of a file has these objects nested like this: Project : The root of the file. DPCMSample : A DPCM sample DPCMMapping : Maps a piano key to a DPCMSample. Instrument : An instrument Envelope : One envelope of an instrument Song : A song PatternCustomSettings : Custom length or tempo settings of a pattern column. Channel : A channel of the NES (or audio expansion) Pattern : A short part of the song that can be repeated. Note : A note inside a pattern. PatternInstance : An instance (copy) of a pattern at a specific time. Here is an example of a very short file: Project Version=\"2.0.0\" TempoMode=\"FamiStudio\" Name=\"FamiStudio Tutorial\" Author=\"NesBleuBleu\" DPCMSample Name=\"BassDrum\" Data=\"aaaaaaaaaaaff09e9ff006ae7c1b98f0000300\" DPCMMapping Note=\"C3\" Sample=\"BassDrum\" Pitch=\"15\" Loop=\"False\" Instrument Name=\"Lead\" Envelope Type=\"Volume\" Length=\"1\" Values=\"12\" Envelope Type=\"DutyCycle\" Length=\"1\" Values=\"2\" Instrument Name=\"Lead2\" Envelope Type=\"Volume\" Length=\"12\" Values=\"15,12,11,9,7,6,5,4,3,2,1,1\" Song Name=\"Tutorial Song\" Length=\"5\" LoopPoint=\"1\" PatternLength=\"16\" BeatLength=\"4\" NoteLength=\"7\" PatternCustomSettings Time=\"0\" Length=\"10\" NoteLength=\"7\" BeatLength=\"4\" Channel Type=\"Square1\" Pattern Name=\"Intro1\" Note Time=\"0\" Value=\"G3\" Instrument=\"Lead\" Note Time=\"14\" Value=\"A#3\" Instrument=\"Lead\" Note Time=\"28\" Value=\"G3\" Instrument=\"Lead\" Note Time=\"42\" Value=\"A#3\" Instrument=\"Lead\" Note Time=\"63\" Value=\"A#3\" Instrument=\"Lead\" SlideTarget=\"C4\" Pattern Name=\"Melody1\" Note Time=\"0\" Value=\"C4\" Instrument=\"Lead2\" Volume=\"15\" Note Time=\"70\" Value=\"D#4\" Instrument=\"Lead2\" Note Time=\"98\" Value=\"D4\" Instrument=\"Lead2\" PatternInstance Time=\"0\" Pattern=\"Intro1\" PatternInstance Time=\"1\" Pattern=\"Melody1\" The possible types of objects and their attributes: Object Attributes Mandatory Description Project Version Yes The FamiStudio version that exported the file. Expansion Expansion audio used by the project: VRC6, VRC7, FDS, MMC5, N163 or S5B TempoMode FamiTracker or FamiStudio Name Name of the project Author Author of the project Copyright Copyright of the project DPCMSample Name Yes The name of the sample. Data Yes The processed data as a series of hexadecimal nibbles. DPCMMapping Note Yes Piano note to map the sample to (Between C1 and D6). Sample Yes Name of the DPCMSample to map. Pitch Pitch of the sample. Loop True or False. Arpeggio Name Yes Name of the arpeggio. Length Yes Length of the arpeggio note sequence, 0 to 255. Loop Yes The loop point of the envelope. Values Yes Coma separated values of the arpeggio -64 to 63 range. Instrument Name Yes Name of the instrument. Expansion Expansion audio of the instrument: VRC6, VRC7, FDS, MMC5, N163, S5B FdsWavePreset (FDS instrument only) Sine, Triangle, Sawtooth, Square 50%, Square 25%, Flat or Custom. FdsModPreset (FDS instrument only) Sine, Triangle, Sawtooth, Square 50%, Square 25%, Flat or Custom. FdsMasterVolume (FDS instrument only) 0 to 3. FdsModSpeed (FDS instrument only) 0 to 4095. FdsModDepth (FDS instrument only) 0 to 63. FdsModDelay (FDS instrument only) 0 to 255. N163WavePreset (N163 instrument only) Sine, Triangle, Sawtooth, Square 50%, Square 25%, Flat or Custom. N163WaveSize (N163 instrument only) 4 to 248, multiple of 4 (4, 8, 12, etc.). N163WavePos (N163 instrument only) 0 to 244, multiple of 4 (4, 8, 12, etc.). Vrc6SawMasterVolume (VRC6 instrument only) Full, Half or Quarter. Vrc7Patch (VRC7 instrument only) 0 to 15. Vrc7Reg{1 to 8} (VRC7 instrument only, if Vrc7Patch is 0) Values of the 8 custom patch registers. Envelope Type Yes Volume, Arpeggio, Pitch, DutyCycle, FDSWave, FDSMod or N163Wave. Length Yes Length of the envelope, 0 to 255. Loop The loop point of the envelope. Release (Volume envelope only) The release point of the envelope. Relative (Pitch envelope only) True or False. Values Yes Coma separated values of the envelopes -64 to 63 range. Song Name Yes The name of the song. Length Yes The length of the song in number of patterns. LoopPoint Yes The loop point of the song, -1 to disable. PatternLength Yes The number of notes in a pattern. BeatLength Yes The number of notes in a beat. NoteLength Yes (FamiStudio tempo only) The number of frames in a note. Groove Yes (FamiStudio tempo only) GroovePaddingMode Yes (FamiStudio tempo only) FamiTrackerTempo Yes (FamiTracker tempo only) The FamiTracker tempo. FamiTrackerSpeed Yes (FamiTracker tempo only) The FamiTracker speed. PatternCustomSettings Time Yes Index of the column of pattern that uses these custom settings. Length Yes The custom length (in notes or frames) of the pattern. NoteLength Yes (FamiStudio tempo only) The number of frames in a note. BeatLength Yes (FamiStudio tempo only) The number of notes in a beat. Groove Yes (FamiStudio tempo only) GroovePaddingMode Yes (FamiStudio tempo only) Channel Type Yes Square1, Square2, Triangle, Noise, DPCM, VRC6Square1, VRC6Square2, VRC6Saw, VRC7FM1, VRC7FM2, VRC7FM3, VRC7FM4, VRC7FM5, VRC7FM6, FDS, MMC5Square1, MMC5Square2, MMC5DPCM, N163Wave1, N163Wave2, N163Wave3, N163Wave4, N163Wave5, N163Wave6, N163Wave7, N163Wave8, S5BSquare1, S5BSquare2 or S5BSquare3 Pattern Name Yes Name of the pattern. Note Time Yes The frame (or note) number inside the pattern where this note is. Value Note from C0 to B7, unspecified for non-musical notes. \"Stop\" for orphan stop notes. Duration Note duration, only for musical notes. Instrument (Only if note has a musical value, from C0 to B7) Name of the instrument to use. Arpeggio Optional, name of the arpeggio to use. Attack If the note has an attack, True of False. Volume The volume of the note, 0 to 15. VolumeSlide If specified, the note has a volume slide and slides to the specified value. Must also have a Volume. VibratoSpeed The Vibrato speed, 0 to 12. VibratoDepth The Vibrato depth, 0 to 15. Speed (FamiTracker tempo only) Updates the FamiTracker speed to a new value. FinePitch The fine pitch, -128 to 127. SlideTarget The slide note target, from C0 to B7. FdsModSpeed FDS modulation speed, 0 to 4095. FdsModDepth FDS modulation depth, 0 to 63. DutyCycle Duty cycle, 0 to 3 on most channels, 0 to 7 on VRC6 squares. NoteDelay Number of frames to delay the note, 0 to 31. CutDelay Stops the note after a number of frames, 0 to 31. PatternInstance Time Yes Index of the column of patterns where to place this instance. Pattern Yes Name of the pattern to instantiate. FamiStudio / FamiTone2 Music Exporting music to the FamiStudio Sound Engine or FamiTone2 work very similarly. It will generate assembly code that can be included in your homebrew project and played using the FamiTone2 sound engine. When exporting file in separate files, you can specific a name format template for each song. The {project} and {song} macros are available. When exporting as a single file (non-separate), you will be prompt to name the output assembly file. If any of the exported songs uses DPCM samples, a .dmc file of the same name will also be outputted. Only the desktop version of FamiStudio supports exporting to this format. FamiStudio / FamiTone2 SFX The same goes for sound effect export. In this mode, one song is one sound effect, so songs should be very short. Unlike the FamiStudio/FamiTone2 music format which only support a subset of all the FamiTracker/FamiStudio features, here any feature (except DPCM samples) can be used and the sound effect should export correctly. Only the desktop version of FamiStudio supports exporting to this format.","title":"Exporting Songs"},{"location":"export/#wave-mp3-ogg-vorbis-file","text":"Only a single song can be exported at a time. You can choose the sample rate (and bitrate in case of MP3/OGG). It is recommended to stick to 44.1KHz if you want the sound to be exactly as you hear it in FamiStudio. Lower sample rate might lack high frequencies. The song can be exported in one of two modes: Play N Times : Will play the song a specified number of times. Duration : Will loop though the song for the specified number of seconds. Other options: Delay (ms) : Optional audio delay effect that will include an echo of the audio at the specified delay. Highly recommanded to use with Stereo and heavy L/R panning (ex: set channels entirely on one side) as the echo effect will be on the opposite side. Separate channel files : Will output each channel in a separate audio file. Separate intro file : Will output the part before the loop point (intro) in a separate file. Stereo : Will output a stereo file and will allow setting the panning % in the channel list. Note that the quality of the MP3 encoding may not going to be as good as full fledged MP3 encoder such as LAME, but should be good enough for sending quick previews to people. Channels can optionally be muted. This can be used, for example, to create stereo mix using and external application. OGG Vorbis is currently only available on the desktop version of FamiStudio.","title":"Wave / MP3 / OGG Vorbis File"},{"location":"export/#video-piano-roll-and-oscilloscope","text":"Video export is a great way to add a visual element to your songs when sharing them on YouTube/social media. For this to work, you will need to manually download FFmpeg and extract it somewhere on your computer. Example of the piano roll format: Example of the oscilloscope format: Besides the audio/video quality settings, there are a few options to control the look and feel of the video: Audio Delay (ms) : Optional audio delay effect that will include an echo of the audio at the specified delay. Highly recommanded to use with Stereo and heavy L/R panning (ex: set channels entirely on one side) as the echo effect will be on the opposite side. Loop count : Number of times to repeat the looping part of the song. Stereo : Same as WAV/MP3/OGG. Channels : It is recommended to not export channels that do not have any notes, this will leave more space to the other channels. Options specific to piano roll video: Piano roll zoom : The higher the zoom, the faster notes will scroll by. Options specific to oscilloscope video: Oscilloscope Columns : Number of columns to split the channels into. Oscilloscope Thickness : Thickness of the oscilloscope line, in pixels. Oscilloscope Color : Can color the oscilloscope using the colors of the instruments or samples. Otherwise will use a neutral light grey.","title":"Video (Piano Roll and Oscilloscope)"},{"location":"export/#nintendo-sound-format-nsf","text":"Every feature supported by FamiStudio can be used in an NSF. Options: Format : You can choose between NSF/NSFe. NSF is more widely support, NSFe adds support for per-track names and durations. Mode : Song that do not use any audio expansion can export as PAL and Dual mode, where as only NTSC is available for expansion audio. The maximum song size is approximately 28KB minus the size of the DPCM samples used. Note that this size are not printed anywhere and are not related to the size of the *.fms file. Best to simply try and see if it works.","title":"Nintendo Sound Format (NSF)"},{"location":"export/#rom-fds-disk","text":"Song(s) can be exported to a NES ROM file or a Famicom Disk System disk to play if back on an emulator or on actual hardware. The exported ROMs can run on actual hardware using devices such as the Everdrive N8 . Here are the mappers used for each audio expansions: None : MMC3 - iNES Mapper 004 VRC6 : VRC6a - iNES Mapper 024 VRC7 : VRC7 - iNES Mapper 085 MMC5 : MMC5 - iNES Mapper 005 N163 : N163 - iNES Mapper 019 S5B : FME-7 - iNES Mapper 069 EPSM : MMC3 - iNES Mapper 004 Note that projects using multiple audio expansions cannot be exported to ROM/FDS. The user interface is very simple, pressing left/right on the D-PAD will change the current track. Track/song names will be truncated to 28 characters. For something a lot more customizable, check out EZNSF by Brad Smith. For FDS export, the process is very similar and will output a FDS disk image instead of a ROM. It has been tested on actual hardware using the FDSStick . Songs are loaded on demand from the disk, so switching tracks will be a bit slower on FDS than on a ROM.","title":"ROM / FDS Disk"},{"location":"export/#midi","text":"Songs created using the FamiStudio tempo mode can be exported to MIDI. This is only available in the desktop version. There are 2 ways in which FamiStudio can assign General-MIDI instruments: Instrument : Each FamiStudio instrument will be assigned to a GM instrument. Program changes will be inserted in the song to change to these instruments. Channel : A single instrument per-channel will be used. At the bottom of the dialog is the instrument table. This is where you can assign instrument to channels or FamiStudio instrument (depending on the Instrument Mode). Double-clicking on a row will allow selecting the instrument.","title":"MIDI"},{"location":"export/#famitracker-text","text":"You can export songs to FamiTracker using their Text Export format. This is only available in the desktop version. There are some limitations: Pitch envelopes with looping sections will be modified on export so that the looping part sums to zero. This is done to prevent pitch from drifting up/down every time the envelope loops. The reason for this is that FamiTracker's pitch envelopes are relative while FamiStudio's are absolute. Instruments using both pitch and arpeggio envelopes at the same time will not sound correct in FamiTracker. This is due to the vastly different way both applications handles these. FamiTracker re-triggers the pitch envelope at each arpeggio notes (probably the more sensible way), while FamiStudio simply runs both at the same time. For slide notes, FamiStudio will do its very best to choose which FamiTracker effect to use. Note that importing/exporting slide notes with FamiTracker should be considered a lossy process. Here are the general rules: If the slide note and its target are within 16 semitones, Qxx/Rxx (note slide up/down) will be favored as it is the most similar effect to what we are doing. Otherwise, if the previous note has the same pitch as the slide note, 3xx (auto-portamento) will be used. Finally, if none of these conditions are satisfied, 1xx/2xx (slide up/down) will be used. This is not ideal since the pitch might not exactly match the target note. Slide notes of VRC7 will definitely not export perfectly due to the different way in which both applications handle VRC7 pitches. VRC6 saw channel is not influenced by duty cycle in FamiStudio. FamiStudio always allow the full volume range for the saw. Import/export process does not try account for this. This might lead to volume inconsistencies between FamiTracker and FamiStudio where the volume needs to be doubled or halved to sound correct. Vibrato effect might sound slightly different once exported to FamiTracker. The speed values in FamiStudio are slightly different than FamiTracker. Here is a table relating the speeds in FamiStudio and FamiTracker (this is applied automatically when importing/exporting): FamiTracker speed FamiTracker period FamiStudio speed FamiStudio period 1 64 1 64 2 32 2 32 3 21.3 3 21 4 16 4 16 5 12.8 5 13 6 10.7 6 11 7 9.1 7 9 8 8 8 8 9 7.1 9 7 10 6.4 10 6 11 5.8 10 6 12 5.3 11 5 13 4.9 11 5 14 4.6 11 5 15 4.3 12 4","title":"FamiTracker Text"},{"location":"export/#famistudio-text","text":"FamiStudio text format is a textual representation of the of the binary FamiStudio format. It is designed to favor interoperability with other apps, tools and sound engines. Unlike .FMS files, this format is not forward or backward compatible. FamiStudio can only read FamiStudio text files generated with the same major and minor version (ex: 3.0.x). Exporting or importing using this format mostly lossless. These are the features that will not be preserved: The custom colors assigned to songs, instruments, patterns, arpeggios and DPCM samples will not be preserved, they will be randomized every time you re-import the file. Only the final processed data of DPCM samples will exported. The source data as well as any processing parameter will be lost. Only the desktop version of FamiStudio supports exporting to this format.","title":"FamiStudio Text"},{"location":"export/#format-specification","text":"The format describe one object per line followed by some attributes and values. Attribute are always between double-quotes. All indentation is purely cosmetic. Object Attribute1=\"Value1\" Attribute2=\"Value2\" Double quotes in values can be escaped by doubling them, similar to some CSV dialects: Object Attribute1=\"Example \"\"Quoted\"\" Value1\" Attribute2=\"Value2\" The general structure of a file has these objects nested like this: Project : The root of the file. DPCMSample : A DPCM sample DPCMMapping : Maps a piano key to a DPCMSample. Instrument : An instrument Envelope : One envelope of an instrument Song : A song PatternCustomSettings : Custom length or tempo settings of a pattern column. Channel : A channel of the NES (or audio expansion) Pattern : A short part of the song that can be repeated. Note : A note inside a pattern. PatternInstance : An instance (copy) of a pattern at a specific time. Here is an example of a very short file: Project Version=\"2.0.0\" TempoMode=\"FamiStudio\" Name=\"FamiStudio Tutorial\" Author=\"NesBleuBleu\" DPCMSample Name=\"BassDrum\" Data=\"aaaaaaaaaaaff09e9ff006ae7c1b98f0000300\" DPCMMapping Note=\"C3\" Sample=\"BassDrum\" Pitch=\"15\" Loop=\"False\" Instrument Name=\"Lead\" Envelope Type=\"Volume\" Length=\"1\" Values=\"12\" Envelope Type=\"DutyCycle\" Length=\"1\" Values=\"2\" Instrument Name=\"Lead2\" Envelope Type=\"Volume\" Length=\"12\" Values=\"15,12,11,9,7,6,5,4,3,2,1,1\" Song Name=\"Tutorial Song\" Length=\"5\" LoopPoint=\"1\" PatternLength=\"16\" BeatLength=\"4\" NoteLength=\"7\" PatternCustomSettings Time=\"0\" Length=\"10\" NoteLength=\"7\" BeatLength=\"4\" Channel Type=\"Square1\" Pattern Name=\"Intro1\" Note Time=\"0\" Value=\"G3\" Instrument=\"Lead\" Note Time=\"14\" Value=\"A#3\" Instrument=\"Lead\" Note Time=\"28\" Value=\"G3\" Instrument=\"Lead\" Note Time=\"42\" Value=\"A#3\" Instrument=\"Lead\" Note Time=\"63\" Value=\"A#3\" Instrument=\"Lead\" SlideTarget=\"C4\" Pattern Name=\"Melody1\" Note Time=\"0\" Value=\"C4\" Instrument=\"Lead2\" Volume=\"15\" Note Time=\"70\" Value=\"D#4\" Instrument=\"Lead2\" Note Time=\"98\" Value=\"D4\" Instrument=\"Lead2\" PatternInstance Time=\"0\" Pattern=\"Intro1\" PatternInstance Time=\"1\" Pattern=\"Melody1\" The possible types of objects and their attributes: Object Attributes Mandatory Description Project Version Yes The FamiStudio version that exported the file. Expansion Expansion audio used by the project: VRC6, VRC7, FDS, MMC5, N163 or S5B TempoMode FamiTracker or FamiStudio Name Name of the project Author Author of the project Copyright Copyright of the project DPCMSample Name Yes The name of the sample. Data Yes The processed data as a series of hexadecimal nibbles. DPCMMapping Note Yes Piano note to map the sample to (Between C1 and D6). Sample Yes Name of the DPCMSample to map. Pitch Pitch of the sample. Loop True or False. Arpeggio Name Yes Name of the arpeggio. Length Yes Length of the arpeggio note sequence, 0 to 255. Loop Yes The loop point of the envelope. Values Yes Coma separated values of the arpeggio -64 to 63 range. Instrument Name Yes Name of the instrument. Expansion Expansion audio of the instrument: VRC6, VRC7, FDS, MMC5, N163, S5B FdsWavePreset (FDS instrument only) Sine, Triangle, Sawtooth, Square 50%, Square 25%, Flat or Custom. FdsModPreset (FDS instrument only) Sine, Triangle, Sawtooth, Square 50%, Square 25%, Flat or Custom. FdsMasterVolume (FDS instrument only) 0 to 3. FdsModSpeed (FDS instrument only) 0 to 4095. FdsModDepth (FDS instrument only) 0 to 63. FdsModDelay (FDS instrument only) 0 to 255. N163WavePreset (N163 instrument only) Sine, Triangle, Sawtooth, Square 50%, Square 25%, Flat or Custom. N163WaveSize (N163 instrument only) 4 to 248, multiple of 4 (4, 8, 12, etc.). N163WavePos (N163 instrument only) 0 to 244, multiple of 4 (4, 8, 12, etc.). Vrc6SawMasterVolume (VRC6 instrument only) Full, Half or Quarter. Vrc7Patch (VRC7 instrument only) 0 to 15. Vrc7Reg{1 to 8} (VRC7 instrument only, if Vrc7Patch is 0) Values of the 8 custom patch registers. Envelope Type Yes Volume, Arpeggio, Pitch, DutyCycle, FDSWave, FDSMod or N163Wave. Length Yes Length of the envelope, 0 to 255. Loop The loop point of the envelope. Release (Volume envelope only) The release point of the envelope. Relative (Pitch envelope only) True or False. Values Yes Coma separated values of the envelopes -64 to 63 range. Song Name Yes The name of the song. Length Yes The length of the song in number of patterns. LoopPoint Yes The loop point of the song, -1 to disable. PatternLength Yes The number of notes in a pattern. BeatLength Yes The number of notes in a beat. NoteLength Yes (FamiStudio tempo only) The number of frames in a note. Groove Yes (FamiStudio tempo only) GroovePaddingMode Yes (FamiStudio tempo only) FamiTrackerTempo Yes (FamiTracker tempo only) The FamiTracker tempo. FamiTrackerSpeed Yes (FamiTracker tempo only) The FamiTracker speed. PatternCustomSettings Time Yes Index of the column of pattern that uses these custom settings. Length Yes The custom length (in notes or frames) of the pattern. NoteLength Yes (FamiStudio tempo only) The number of frames in a note. BeatLength Yes (FamiStudio tempo only) The number of notes in a beat. Groove Yes (FamiStudio tempo only) GroovePaddingMode Yes (FamiStudio tempo only) Channel Type Yes Square1, Square2, Triangle, Noise, DPCM, VRC6Square1, VRC6Square2, VRC6Saw, VRC7FM1, VRC7FM2, VRC7FM3, VRC7FM4, VRC7FM5, VRC7FM6, FDS, MMC5Square1, MMC5Square2, MMC5DPCM, N163Wave1, N163Wave2, N163Wave3, N163Wave4, N163Wave5, N163Wave6, N163Wave7, N163Wave8, S5BSquare1, S5BSquare2 or S5BSquare3 Pattern Name Yes Name of the pattern. Note Time Yes The frame (or note) number inside the pattern where this note is. Value Note from C0 to B7, unspecified for non-musical notes. \"Stop\" for orphan stop notes. Duration Note duration, only for musical notes. Instrument (Only if note has a musical value, from C0 to B7) Name of the instrument to use. Arpeggio Optional, name of the arpeggio to use. Attack If the note has an attack, True of False. Volume The volume of the note, 0 to 15. VolumeSlide If specified, the note has a volume slide and slides to the specified value. Must also have a Volume. VibratoSpeed The Vibrato speed, 0 to 12. VibratoDepth The Vibrato depth, 0 to 15. Speed (FamiTracker tempo only) Updates the FamiTracker speed to a new value. FinePitch The fine pitch, -128 to 127. SlideTarget The slide note target, from C0 to B7. FdsModSpeed FDS modulation speed, 0 to 4095. FdsModDepth FDS modulation depth, 0 to 63. DutyCycle Duty cycle, 0 to 3 on most channels, 0 to 7 on VRC6 squares. NoteDelay Number of frames to delay the note, 0 to 31. CutDelay Stops the note after a number of frames, 0 to 31. PatternInstance Time Yes Index of the column of patterns where to place this instance. Pattern Yes Name of the pattern to instantiate.","title":"Format Specification"},{"location":"export/#famistudio-famitone2-music","text":"Exporting music to the FamiStudio Sound Engine or FamiTone2 work very similarly. It will generate assembly code that can be included in your homebrew project and played using the FamiTone2 sound engine. When exporting file in separate files, you can specific a name format template for each song. The {project} and {song} macros are available. When exporting as a single file (non-separate), you will be prompt to name the output assembly file. If any of the exported songs uses DPCM samples, a .dmc file of the same name will also be outputted. Only the desktop version of FamiStudio supports exporting to this format.","title":"FamiStudio / FamiTone2 Music"},{"location":"export/#famistudio-famitone2-sfx","text":"The same goes for sound effect export. In this mode, one song is one sound effect, so songs should be very short. Unlike the FamiStudio/FamiTone2 music format which only support a subset of all the FamiTracker/FamiStudio features, here any feature (except DPCM samples) can be used and the sound effect should export correctly. Only the desktop version of FamiStudio supports exporting to this format.","title":"FamiStudio / FamiTone2 SFX"},{"location":"ffmpeg/","text":"FFmpeg Download Here are some download links for ffmpeg. If you are a more advanced user, feel free to get a more recent version, these links are simply here for convenience. Whatever you do, be sure to download the GPL version . Both of these website offer nightly builds (their usually have weird numbers in the name) and stable builds (with nice version number like '4.3.1'). Stable versions are recommended. Windows : Download recent stable version with \"win64-gpl-shared\" in the name. MacOS : Download the stable version on the right side. On Linux, simply use your favorite package manager. You should be able to figure it out.","title":"FFmpeg Download"},{"location":"ffmpeg/#ffmpeg-download","text":"Here are some download links for ffmpeg. If you are a more advanced user, feel free to get a more recent version, these links are simply here for convenience. Whatever you do, be sure to download the GPL version . Both of these website offer nightly builds (their usually have weird numbers in the name) and stable builds (with nice version number like '4.3.1'). Stable versions are recommended. Windows : Download recent stable version with \"win64-gpl-shared\" in the name. MacOS : Download the stable version on the right side. On Linux, simply use your favorite package manager. You should be able to figure it out.","title":"FFmpeg Download"},{"location":"import/","text":"Importing Songs To import songs, simply open a file. On Windows it is also possible drag & drop a file in the application. FamiTracker Text or Binary Import from FamiTracker (official 0.4.6 only) is supported through the text (TXT file) or binary format (FTM file). Note that only a small subset of features is supported. Only the following effects are supported. Every other effect will be ignored: 0xy (Arpeggio) : Will be converted to arpeggio, name will be based one the xy value. 1xx/2xx (Slide up/down) : Will be converted to slide notes 3xx (Portamento) : Will be converted to slide notes. 4xy (Vibrato) : Vibrator speed will be slightly modified, see table above for mapping. Bxx (Jump) : Will be converted to loop point. Cxx (Half) : Will truncate the song at the location of the effect and remove the loop point. Dxx (Skip) : Will be converted to a custom pattern length. Fxx (Speed) : Only speed is supported. Speed changed are not allowed to be delayed with Gxx. Gxx (Note delay) : Fully supported. Pxx (Fine pitch) : Fully supported. Hxx (FDS Modulation depth) : Fully supported. Ixx/Jxx (FDS Modulation speed) : Fully supported, but combined in one 16-bit value. Sxx (Delayed cut) : Fully supported. Vxx (Timbre) : Supported, but only affects the duty cycle of 2A03 and VRC6 square channels. Does not affect Saw or anything else. Zxx (Delta counter) : Fully supported. Besides effects, there are also other limitations: If multiple instruments assign DPCM samples to the same key of the DPCM instrument, only the first one will be assigned. Other samples will be loaded, but unassigned to any keys. All DPCM samples will be loaded (and potentially assigned to a key of the DPCM instrument) but any sample over the 16KB FamiStudio limit will not play correctly or at all. VRC7 1xx/2xx/3xx/Qxx/Rxx effects will likely not sound like FamiTracker and will need manual corrections. Instruments using both pitch and arpeggio envelopes at the same time will likely not sound the same as in FamiTracker. This is due to the vastly different way both applications handles these. FamiTracker resets the pitch at each arpeggio notes, while FamiStudio does not. VRC6 saw channel is not influenced by duty cycle in FamiStudio. FamiStudio has a \"saw master volume\" on VRC6 instruments. Import/export process does not try account for this. Manual corrections may be needed. Vibrato effect might sound a bit different, please see table above for exact mappings. When importing from FamiTracker, all possible slide effects (1xx, 2xx, 3xx, Qxx and Rxx) will be converted to slide notes. Sometimes attack will be disabled as well to mimic the same behavior. This in an inherently imperfect process since they approaches are so different. For this reason, importing/exporting slide notes with FamiTracker should be considered a lossy process. MIDI Standard MIDI files can be imported with the desktop version of FamiStudio. Notes, time signature and tempo changes will be imported. Only blank instruments, named after their GM instrument, will be created. Users should not expect the imported song to sound anything like the original. Moreover, since the NES can only play one note at a time for a given channel, any kind of polyphony is not supported. Users are responsible for properly processing their MIDI files before importing them. That being said, this can be a handy feature to bring notes from an old project in FamiStudio. Available options: Expansion : Allows selecting the expansion audio to set for the project. This will add extra sound channels. Polyphony behavior : Although polyphony is not supported, if it were to happen, there are 2 ways FamiStudio can resolve it: Favor most recent note : If a new note is triggered while one was still playing, the old note will be stopped and the new note will start. Favor currently playing note : If a new note is triggered while one was still playing, the old note will keep playing and the new note will be ignored. Measures per pattern : Having a single measure per pattern tends to create too many patterns. FamiStudio can try to pack multiple measures in a single pattern. Note that tempo/time signature changes will always cause a new pattern to start. Import velocity as volume : Will convert velocity values to volume effects. Create PAL project : Will create a PAL project and do all BPMs calculations using PAL speeds. At the bottom of the dialog is the channel mapping table. For each of the NES channels, you can specific which MIDI data should be put in that channel. Double-clicking on a NES channel will bring up more options. There are 3 MIDI sources from which MIDI data can be read from: Channel : Data from the specified MIDI channel will be assigned to the NES channel. This is basically a 1:1 mapping between NES an channel and a MIDI channel. Track : If the MIDI file has proper tracks defined, data from the that track can be assigned to the NES channel. None : Will not read any data in this channel. The NES channel will be left blank. The MIDI channel 10 is special an specific keys can be selected to filter specific drum sounds. FamiStudio Text The FamiStudio text format is support, please see the documentation above for the format specification. Nintendo Sound Format NSF (and NSFE) files can be imported in the desktop version of FamiStudio. This includes NSF with expansion audio. When opening and NSF file, you will be presented a dialog box. Most NSF file will not contain the names of songs so they will usually have placeholder names. Besides the song to import, are the most important settings : Duration : Time (in sec) to extract from the NSF. Pattern Length : Number of frames in a pattern. Start frame : Used to offset the entire song by a number of frames. This is useful when a song has an intro that is not the same length as the other patterns. Remove intro silence : Some songs start with a bit of silence, this will wait until any sound is produce to start recording. Reverse DPCM bits : This will set the \"Reverse Bits\" flag on all the imported samples. This come from a recent discovery that quite a few games had packed their bits in the wrong order, leading to samples sounding worse than they should. Preserve DPCM padding bytes : Force FamiStudio to keep the last byte of every sample, this will make all samples 16 bytes larger simply to keep an extra byte. This could be useful to keep looping samples intact. Should remain off most of the time since most games seem to ignore this byte. NSF file are essentially programs designed to run on actual hardware. They will contain no instrument, no envelopes, no repeating pattern, etc. All the volumes and pitches will be set through the effect panel. They are going to appear extremely messy and unoptimized. That being said, NSF can still be extremely useful to reverse engineer how songs were made. In fact, this is how most of the Demo Songs that come with FamiStudio were made. In the example below, we can imagine that the notes on the left were all using the same instrument with a decreasing volume envelope. The note of the right clearly was using a vibrato effect or a pitch envelope. Only features that are supported by FamiStudio will be imported. Things like hardware sweeps & advanced DPCM manipulations will all be ignored. Error Log When importing/exporting from/to specific format, an error log may appear providing a list of warnings/errors that occurred during the process. Please pay attention to these as they may explain why your song sound differently than intended. The mobile version does not display these types of errors. So if you encounter a weird behavior, opening the file with the desktop version may help diagnose the issue.","title":"Importing Songs"},{"location":"import/#importing-songs","text":"To import songs, simply open a file. On Windows it is also possible drag & drop a file in the application.","title":"Importing Songs"},{"location":"import/#famitracker-text-or-binary","text":"Import from FamiTracker (official 0.4.6 only) is supported through the text (TXT file) or binary format (FTM file). Note that only a small subset of features is supported. Only the following effects are supported. Every other effect will be ignored: 0xy (Arpeggio) : Will be converted to arpeggio, name will be based one the xy value. 1xx/2xx (Slide up/down) : Will be converted to slide notes 3xx (Portamento) : Will be converted to slide notes. 4xy (Vibrato) : Vibrator speed will be slightly modified, see table above for mapping. Bxx (Jump) : Will be converted to loop point. Cxx (Half) : Will truncate the song at the location of the effect and remove the loop point. Dxx (Skip) : Will be converted to a custom pattern length. Fxx (Speed) : Only speed is supported. Speed changed are not allowed to be delayed with Gxx. Gxx (Note delay) : Fully supported. Pxx (Fine pitch) : Fully supported. Hxx (FDS Modulation depth) : Fully supported. Ixx/Jxx (FDS Modulation speed) : Fully supported, but combined in one 16-bit value. Sxx (Delayed cut) : Fully supported. Vxx (Timbre) : Supported, but only affects the duty cycle of 2A03 and VRC6 square channels. Does not affect Saw or anything else. Zxx (Delta counter) : Fully supported. Besides effects, there are also other limitations: If multiple instruments assign DPCM samples to the same key of the DPCM instrument, only the first one will be assigned. Other samples will be loaded, but unassigned to any keys. All DPCM samples will be loaded (and potentially assigned to a key of the DPCM instrument) but any sample over the 16KB FamiStudio limit will not play correctly or at all. VRC7 1xx/2xx/3xx/Qxx/Rxx effects will likely not sound like FamiTracker and will need manual corrections. Instruments using both pitch and arpeggio envelopes at the same time will likely not sound the same as in FamiTracker. This is due to the vastly different way both applications handles these. FamiTracker resets the pitch at each arpeggio notes, while FamiStudio does not. VRC6 saw channel is not influenced by duty cycle in FamiStudio. FamiStudio has a \"saw master volume\" on VRC6 instruments. Import/export process does not try account for this. Manual corrections may be needed. Vibrato effect might sound a bit different, please see table above for exact mappings. When importing from FamiTracker, all possible slide effects (1xx, 2xx, 3xx, Qxx and Rxx) will be converted to slide notes. Sometimes attack will be disabled as well to mimic the same behavior. This in an inherently imperfect process since they approaches are so different. For this reason, importing/exporting slide notes with FamiTracker should be considered a lossy process.","title":"FamiTracker Text or Binary"},{"location":"import/#midi","text":"Standard MIDI files can be imported with the desktop version of FamiStudio. Notes, time signature and tempo changes will be imported. Only blank instruments, named after their GM instrument, will be created. Users should not expect the imported song to sound anything like the original. Moreover, since the NES can only play one note at a time for a given channel, any kind of polyphony is not supported. Users are responsible for properly processing their MIDI files before importing them. That being said, this can be a handy feature to bring notes from an old project in FamiStudio. Available options: Expansion : Allows selecting the expansion audio to set for the project. This will add extra sound channels. Polyphony behavior : Although polyphony is not supported, if it were to happen, there are 2 ways FamiStudio can resolve it: Favor most recent note : If a new note is triggered while one was still playing, the old note will be stopped and the new note will start. Favor currently playing note : If a new note is triggered while one was still playing, the old note will keep playing and the new note will be ignored. Measures per pattern : Having a single measure per pattern tends to create too many patterns. FamiStudio can try to pack multiple measures in a single pattern. Note that tempo/time signature changes will always cause a new pattern to start. Import velocity as volume : Will convert velocity values to volume effects. Create PAL project : Will create a PAL project and do all BPMs calculations using PAL speeds. At the bottom of the dialog is the channel mapping table. For each of the NES channels, you can specific which MIDI data should be put in that channel. Double-clicking on a NES channel will bring up more options. There are 3 MIDI sources from which MIDI data can be read from: Channel : Data from the specified MIDI channel will be assigned to the NES channel. This is basically a 1:1 mapping between NES an channel and a MIDI channel. Track : If the MIDI file has proper tracks defined, data from the that track can be assigned to the NES channel. None : Will not read any data in this channel. The NES channel will be left blank. The MIDI channel 10 is special an specific keys can be selected to filter specific drum sounds.","title":"MIDI"},{"location":"import/#famistudio-text","text":"The FamiStudio text format is support, please see the documentation above for the format specification.","title":"FamiStudio Text"},{"location":"import/#nintendo-sound-format","text":"NSF (and NSFE) files can be imported in the desktop version of FamiStudio. This includes NSF with expansion audio. When opening and NSF file, you will be presented a dialog box. Most NSF file will not contain the names of songs so they will usually have placeholder names. Besides the song to import, are the most important settings : Duration : Time (in sec) to extract from the NSF. Pattern Length : Number of frames in a pattern. Start frame : Used to offset the entire song by a number of frames. This is useful when a song has an intro that is not the same length as the other patterns. Remove intro silence : Some songs start with a bit of silence, this will wait until any sound is produce to start recording. Reverse DPCM bits : This will set the \"Reverse Bits\" flag on all the imported samples. This come from a recent discovery that quite a few games had packed their bits in the wrong order, leading to samples sounding worse than they should. Preserve DPCM padding bytes : Force FamiStudio to keep the last byte of every sample, this will make all samples 16 bytes larger simply to keep an extra byte. This could be useful to keep looping samples intact. Should remain off most of the time since most games seem to ignore this byte. NSF file are essentially programs designed to run on actual hardware. They will contain no instrument, no envelopes, no repeating pattern, etc. All the volumes and pitches will be set through the effect panel. They are going to appear extremely messy and unoptimized. That being said, NSF can still be extremely useful to reverse engineer how songs were made. In fact, this is how most of the Demo Songs that come with FamiStudio were made. In the example below, we can imagine that the notes on the left were all using the same instrument with a decreasing volume envelope. The note of the right clearly was using a vibrato effect or a pitch envelope. Only features that are supported by FamiStudio will be imported. Things like hardware sweeps & advanced DPCM manipulations will all be ignored.","title":"Nintendo Sound Format"},{"location":"import/#error-log","text":"When importing/exporting from/to specific format, an error log may appear providing a list of warnings/errors that occurred during the process. Please pay attention to these as they may explain why your song sound differently than intended. The mobile version does not display these types of errors. So if you encounter a weird behavior, opening the file with the desktop version may help diagnose the issue.","title":"Error Log"},{"location":"install/","text":"Installation Depending on how you download FamiStudio, you might get scary warnings the first time you try to install or run it. Windows On Windows, if you get an error trying to start the application, but sure to install these 2 requirements: You will need the Visual Studio runtime You also may need (especially on Windows 7) to install this rather old and cluncky DirectX package It is going to ask you to extra the files to somewhere, extract to a temporary folder Run DXSETUP.exe inside that temporary folder to really install. Delete the temp folder afterwards to cleanup. On Windows, SmartScreen might say \"Windows protected your PC\". To bypass the warning, simply click \"More Info\" and then \"Run Anyway\". MacOS On MacOS, you will need to install Mono . GateKeeper can be quite aggressive when first running the application. At first it will look like you simply cannot run it and it will give you the option to throw FamiStudio in the recycling bin. To bypass this warning, open the \"Security and Privacy\" settings and look for the warning saying that FamiStudio was blocked. Click \"Open Anyway\" and then you will have the option to launch it. Linux The Linux version should work on most x64 ditros. But given the very non-standard nature of the OS, your mileage may vary. Please install the following dependencies before trying to run the Linux version. Install Mono Then simply run: mono FamiStudio.exe If you run a very old version of Linux or if you are running an exotic architecture, you may have missing dependencies. If this is the case, you may have to compile some of the libraries. This is a rather manual process. Please follow the build steps on GitHub .","title":"Installation"},{"location":"install/#installation","text":"Depending on how you download FamiStudio, you might get scary warnings the first time you try to install or run it.","title":"Installation"},{"location":"install/#windows","text":"On Windows, if you get an error trying to start the application, but sure to install these 2 requirements: You will need the Visual Studio runtime You also may need (especially on Windows 7) to install this rather old and cluncky DirectX package It is going to ask you to extra the files to somewhere, extract to a temporary folder Run DXSETUP.exe inside that temporary folder to really install. Delete the temp folder afterwards to cleanup. On Windows, SmartScreen might say \"Windows protected your PC\". To bypass the warning, simply click \"More Info\" and then \"Run Anyway\".","title":"Windows"},{"location":"install/#macos","text":"On MacOS, you will need to install Mono . GateKeeper can be quite aggressive when first running the application. At first it will look like you simply cannot run it and it will give you the option to throw FamiStudio in the recycling bin. To bypass this warning, open the \"Security and Privacy\" settings and look for the warning saying that FamiStudio was blocked. Click \"Open Anyway\" and then you will have the option to launch it.","title":"MacOS"},{"location":"install/#linux","text":"The Linux version should work on most x64 ditros. But given the very non-standard nature of the OS, your mileage may vary. Please install the following dependencies before trying to run the Linux version. Install Mono Then simply run: mono FamiStudio.exe If you run a very old version of Linux or if you are running an exotic architecture, you may have missing dependencies. If this is the case, you may have to compile some of the libraries. This is a rather manual process. Please follow the build steps on GitHub .","title":"Linux"},{"location":"instruments/","text":"Editing Instruments The project explorer displays the list of songs and instruments in the current project. This section is only going to cover editing of instruments and arpeggios. Please refer to the Editing Songs & Project section to learn how to edit project and song properties. Most standard instruments have 4 buttons : The duty cycle envelope The volume envelope The pitch envelope The arpeggio envelope An envelope is simply a parameter that can change over the duration of a note as it plays. It can be used to create vibrato, tremolo, change the attack and release of a note, for example. If an instrument currently has no envelope for a particular type, it will appear dimmed. Expansion instruments may have different envelope types. For details on Expansion audio instruments please visit the Expansion Audio section . Editing instrument properties Clicking on the little gear icon next to an instrument (or right-clicking and selecting \"Instrument Properties...\") will show its properties. Like most things in FamiStudio, you can rename the instrument and change its color. Most instruments also have parameters that can be edited in real-time by clicking the little arrow and expanding the button. Parameter(s) that is available on most instruments: Pitch Envelope : Defines how FamiStudio will interpret the values in the pitch envelope. Absolute : By default, FamiStudio's pitch envelope are absolute. Meaning that the envelope values are the pitch you are going to hear, this is especially useful for vibrato where you can draw a simple sine wave. Relative : It is sometimes useful to have relative pitch envelope to create pitches that rapidly ascend or descend (useful for bass drum sounds). This is how FamiTracker handles pitch envelopes. Adding instruments You can add an instrument by pressing the \"+\" sign, and you can delete one by selecting \"Delete Instrument\" from the context menu. Deleting an instrument will delete all notes used by that instrument. Replacing an instrument by another To replace an instrument by another throughout the entire project, you can select the \"Replace Instrument...\" option from the context menu of the instrument. This will bring up a list allowing you to select the new instrument. This works similarly on mobile, except the list is less colored. Importing instruments You can import instruments in your project from any supported input format, as well as FamiTracker instrument files (FTI files, official FamiTracker 0.4.6 only) by clicking the little folder icon. When importing instruments from another project or a FamiTracker file, you will be prompted with a list of instruments to import. Simply check the instrument to bring over. Also, when importing instruments from another FMS file that uses DPCM samples, you will also be able to import the \"DPCM Instrument\" from that project. This will import all the samples and their assignments to keys of the pianos. Note that instruments that are using incompatible expansion audio will not be able to be imported. Also, instruments with the same names are assumed to be the same. If you project already contains an instrument called \"Piano\" and you try to import another one called \"Piano\", nothing will happen. You are responsible to uniquely name your instruments if they are truly different. Editing instrument envelopes Clicking on an envelope icon in the project explorer will open the envelope of that instrument in the piano roll. The length of the envelope can be changed by clicking and dragging the little arrow icon in the top right corner. Setting the length of an envelope to zero will essentially disable it. The loop point of an envelope can be set by left-clicking in bottom part of the header or by using the context menu. Volume tracks (and N163 wave envelopes) are also allowed to have release points. Releases are played when a release note is encountered and terminates the loop by jumping to the release point. This is useful for fading out notes smoothly. The release point is set by right-clicking in the bottom part of the header, or by using the context menu. On mobile, you can editing envelope values individually by tapping them. But a much more natural way of drawing envelope is by first long pressing, waiting for the prompt, and then drawing the shape of the envelope. Copying envelope values Right-clicking and dragging in the envelope editor allows for range selection of envelope values. These can then be copy and pasted elsewhere. It is also possible to paste envelope values coming from raw text. Any series of number that is space, tab, comma, semicolon or newline separated can be pasted in the envelope editor. You can also copy envelope values as text if you want to use them in another app. To do so, use the \"Copy Selected Values as Text\" option from the context menu when there is a valid selection. Copying envelopes Clicking on an envelope button and dragging it on another instrument will copy that envelope from the first to the second. Note that unlike FamiTracker, envelopes are not explicitly shared between instruments. Identical envelopes will be combined when exporting to various formats, but it is your responsibility to optimize the content and ensure that you limit the number of unique envelopes. Clearing or Deleting envelopes Envelopes cannot be deleted per-se, they can be cleared to they have essentially no effect. To clear and envelope, simply select the \"Clear Envelope\" option from the instrument context menu. DPCM Instrument The DPCM Instrument is a special instrument able to play DPCM samples. It is always present and cannot be deleted. For more information, please refer to the DPCM Samples section. Editing Arpeggios Arpeggios (not to be confused with arpeggio instrument envelopes) are typically used to simulate chords by playing changing notes very rapidly. They work in the exact same way as arpeggio instrument envelopes, but they are not bound to any specific instrument. For example, if you define a \"Major chord\" arpeggio that repeats a sequence 0-4-7 of notes, you can then re-use this arpeggio on any instrument later on. Saving you the trouble or either inputting many tiny notes, or creating many instruments for each chord. Arpeggios are handled in a very similar way to instrument. You can add a new arpeggio by click on the + button of the Arpeggios section. To edit the sequence of note you can then click of the little note icon on the right side of the arpeggio button. You can also assign a name and a color to each arpeggio by clicking the little gear icon next to it (or double-clicking on the arpeggio). This color will be displayed in the piano roll when the arpeggio is used. Replacing arpeggios by another Much like instrument, you can replace every usage of an arpeggio by another by using the \"Replace Arpeggio...\" option from the context menu.","title":"Editing Instruments & Arpeggios"},{"location":"instruments/#editing-instruments","text":"The project explorer displays the list of songs and instruments in the current project. This section is only going to cover editing of instruments and arpeggios. Please refer to the Editing Songs & Project section to learn how to edit project and song properties. Most standard instruments have 4 buttons : The duty cycle envelope The volume envelope The pitch envelope The arpeggio envelope An envelope is simply a parameter that can change over the duration of a note as it plays. It can be used to create vibrato, tremolo, change the attack and release of a note, for example. If an instrument currently has no envelope for a particular type, it will appear dimmed. Expansion instruments may have different envelope types. For details on Expansion audio instruments please visit the Expansion Audio section .","title":"Editing Instruments"},{"location":"instruments/#editing-instrument-properties","text":"Clicking on the little gear icon next to an instrument (or right-clicking and selecting \"Instrument Properties...\") will show its properties. Like most things in FamiStudio, you can rename the instrument and change its color. Most instruments also have parameters that can be edited in real-time by clicking the little arrow and expanding the button. Parameter(s) that is available on most instruments: Pitch Envelope : Defines how FamiStudio will interpret the values in the pitch envelope. Absolute : By default, FamiStudio's pitch envelope are absolute. Meaning that the envelope values are the pitch you are going to hear, this is especially useful for vibrato where you can draw a simple sine wave. Relative : It is sometimes useful to have relative pitch envelope to create pitches that rapidly ascend or descend (useful for bass drum sounds). This is how FamiTracker handles pitch envelopes.","title":"Editing instrument properties"},{"location":"instruments/#adding-instruments","text":"You can add an instrument by pressing the \"+\" sign, and you can delete one by selecting \"Delete Instrument\" from the context menu. Deleting an instrument will delete all notes used by that instrument.","title":"Adding instruments"},{"location":"instruments/#replacing-an-instrument-by-another","text":"To replace an instrument by another throughout the entire project, you can select the \"Replace Instrument...\" option from the context menu of the instrument. This will bring up a list allowing you to select the new instrument. This works similarly on mobile, except the list is less colored.","title":"Replacing an instrument by another"},{"location":"instruments/#importing-instruments","text":"You can import instruments in your project from any supported input format, as well as FamiTracker instrument files (FTI files, official FamiTracker 0.4.6 only) by clicking the little folder icon. When importing instruments from another project or a FamiTracker file, you will be prompted with a list of instruments to import. Simply check the instrument to bring over. Also, when importing instruments from another FMS file that uses DPCM samples, you will also be able to import the \"DPCM Instrument\" from that project. This will import all the samples and their assignments to keys of the pianos. Note that instruments that are using incompatible expansion audio will not be able to be imported. Also, instruments with the same names are assumed to be the same. If you project already contains an instrument called \"Piano\" and you try to import another one called \"Piano\", nothing will happen. You are responsible to uniquely name your instruments if they are truly different.","title":"Importing instruments"},{"location":"instruments/#editing-instrument-envelopes","text":"Clicking on an envelope icon in the project explorer will open the envelope of that instrument in the piano roll. The length of the envelope can be changed by clicking and dragging the little arrow icon in the top right corner. Setting the length of an envelope to zero will essentially disable it. The loop point of an envelope can be set by left-clicking in bottom part of the header or by using the context menu. Volume tracks (and N163 wave envelopes) are also allowed to have release points. Releases are played when a release note is encountered and terminates the loop by jumping to the release point. This is useful for fading out notes smoothly. The release point is set by right-clicking in the bottom part of the header, or by using the context menu. On mobile, you can editing envelope values individually by tapping them. But a much more natural way of drawing envelope is by first long pressing, waiting for the prompt, and then drawing the shape of the envelope.","title":"Editing instrument envelopes"},{"location":"instruments/#copying-envelope-values","text":"Right-clicking and dragging in the envelope editor allows for range selection of envelope values. These can then be copy and pasted elsewhere. It is also possible to paste envelope values coming from raw text. Any series of number that is space, tab, comma, semicolon or newline separated can be pasted in the envelope editor. You can also copy envelope values as text if you want to use them in another app. To do so, use the \"Copy Selected Values as Text\" option from the context menu when there is a valid selection.","title":"Copying envelope values"},{"location":"instruments/#copying-envelopes","text":"Clicking on an envelope button and dragging it on another instrument will copy that envelope from the first to the second. Note that unlike FamiTracker, envelopes are not explicitly shared between instruments. Identical envelopes will be combined when exporting to various formats, but it is your responsibility to optimize the content and ensure that you limit the number of unique envelopes.","title":"Copying envelopes"},{"location":"instruments/#clearing-or-deleting-envelopes","text":"Envelopes cannot be deleted per-se, they can be cleared to they have essentially no effect. To clear and envelope, simply select the \"Clear Envelope\" option from the instrument context menu.","title":"Clearing or Deleting envelopes"},{"location":"instruments/#dpcm-instrument","text":"The DPCM Instrument is a special instrument able to play DPCM samples. It is always present and cannot be deleted. For more information, please refer to the DPCM Samples section.","title":"DPCM Instrument"},{"location":"instruments/#editing-arpeggios","text":"Arpeggios (not to be confused with arpeggio instrument envelopes) are typically used to simulate chords by playing changing notes very rapidly. They work in the exact same way as arpeggio instrument envelopes, but they are not bound to any specific instrument. For example, if you define a \"Major chord\" arpeggio that repeats a sequence 0-4-7 of notes, you can then re-use this arpeggio on any instrument later on. Saving you the trouble or either inputting many tiny notes, or creating many instruments for each chord. Arpeggios are handled in a very similar way to instrument. You can add a new arpeggio by click on the + button of the Arpeggios section. To edit the sequence of note you can then click of the little note icon on the right side of the arpeggio button. You can also assign a name and a color to each arpeggio by clicking the little gear icon next to it (or double-clicking on the arpeggio). This color will be displayed in the piano roll when the arpeggio is used.","title":"Editing Arpeggios"},{"location":"instruments/#replacing-arpeggios-by-another","text":"Much like instrument, you can replace every usage of an arpeggio by another by using the \"Replace Arpeggio...\" option from the context menu.","title":"Replacing arpeggios by another"},{"location":"pianoroll/","text":"Editing Notes The Piano Roll is where you editing the actual notes of the song, the instrument envelopes, as well as some special effects. You can also use it to preview instrument by clicking on the piano. The currently selected instrument (in bold in the project explorer) will play on the currently selected channel (in bold in the sequencer). Subdivision Horizontal lines in the piano rolls are aligned with the notes of the piano. The vertical lines represent multiple levels of subdivision: Thin dashes gray lines separate individual frames (1/60th of a sec in NTSC, 1/50th in PAL) (FamiStudio tempo mode only) Thin gray lines separate notes Thin black lines separate beats Thick black lines separate patterns In FamiTracker tempo mode, you do not have access to the individual frames, so the dashes lines will not be visible. For more information about tempo, please refer to this section . Seeking Clicking in the timeline (header) of the piano roll will move the play position. You can also drag the seek back to move it more accurately. Adding & deleting notes Clicking a pattern in the sequencer will scroll the piano roll to its location. On desktop, Left-clicking in the piano roll will add a note of the currently selected instrument and dragging while still holding the left button will allow you to set the duration. A pattern may be automatically created if you click on an area where there was no pattern. Double-clicking deletes a note. Alternatively Shift+click also deletes. Similarly, on mobile, notes are created by a quick tap and deleted by double-tapping . Moving & resizing notes When moving the mouse around the piano roll, the note under the mouse cursor will be highlighted and the mouse cursor will change to reflect the type of action you can do : Possible actions are: Move one or multiple note(s) Resize one or multiple note(s) Move the release point of one or multiple note(s) On mobile, notes must be first given a white highlight by tapping once before being edited. Only they have that, you can move them or resize them. Note duration & priority FamiStudio is a monophonic app, in other words, only one note can play at a time on a given channel. The general rule is that the latest/newest note (the one that is rightmost on the timeline) always has priority, this mean that it can interrupt a previous note, making it shorter than it would normally be. As you can see, in the following example, even through i am trying to resize the left note, I cannot go beyond the right note. If I move the right now back, it is still interrupting the left note. Only when I move the right now far enough to the right we can see the real duration of the left note. Selecting notes There are three main ways of selecting notes, selected notes will appear with a thick silver border. You can select notes by right-clicking and dragging in the header of the piano roll or anywhere in the background of the piano roll (where there is no note). You can select the duration of a note using the context menu that appears if you right-click above or below a note. You can select an entire pattern or an entire song using the context menu that appears when you right-click on the header. The following images shows all 3 techniques. Once notes are selected, then can be moved or resized all at once. They can also be moved or transposed using the keyboard array keys (up, down, left and right). Holding Ctrl while doing so will make the notes move by larger increments. On mobile, there is just only way to select notes and it is done by swiping in the header of the piano roll. A long press in the background will allow you to clear the selection. Release point Release points triggers the envelope to jump to the release point and are represented by making the note thinner. Release envelopes are useful to nicely fade out a note when its release, while preserving other effects like vibrato. There is no point to adding a release point to an instrument that does not have a release envelope. To set a release point on a note on desktop, simply right-click on a note a choose the \"Toggle Release\" option. Alternatively, you can hold R and click on a note to toggle a release. Once a note has a release point, it can be moved by dragging. On mobile, the release point is toggled by long pressing on a note and selecting \"Toggle Release\". The default position of a release will be in the middle of the note but you can move it afterwards. Stop notes Stop notes simply stop the sound and are displayed as little triangles. Although they are displayed next to the note preceding them, they actually have no pitch or instrument, they simply stop the sound. To create a stop note on Desktop, right-click on a note and select \"Make Stop Note\". Alternatively, you can use T+click to create a stop note. As of FamiStudio 3.0.0 stop notes are no longer needed since they have been replaced by note durations. There are cases where stop notes will still remain when notes are detected to have inconsistent durations, but those should be relatively rare. One use case where they can be useful is to interrupt a long note from a previous pattern. Instrument Picker You can make the instrument used by a note the selected instrument by selected \"Make Instrument Current\" from the note context menu. This is often known as the eye dropper or pipette tool in drawing software. Alternatively, on desktop, you can hold I and click on a note. Recording mode Recording mode is another way to input notes and is enabled by pressing the record button on the toolbar. Recording mode allows inputting notes using a MIDI controller or using a piano-type layout on the QWERTY keyboard. This layout is very similar to what FamiTracker uses. Note that this is not a \"real-time\" recording mode, simply a note-by-note input mode. This is default layout for an en-US keyboard. The Configuration Dialog allows re-mapping the keys for other types of keyboards. The QWERTY keyboard input will give you a range of approximately 2.5 octaves. By default, this will go from C3 to C5 but it can be moved up/down by pressing Page Up and Page Down . Which keyboard key maps to which piano key will be displayed in the piano roll. When recording mode is active, the seek bar will turn red. Each note you input will be snapped to the current snap precision (see next section for info about snapping) and the seek bar will advance to the next snapping position. There are a few other special keys that are enabled when recording mode is activated: Backspace : moves back by 1 note (or snapping interval), erasing any note inside the interval. Tab : Advances by 1 note (or snapping interval), not recording anything. Page Up/Down : Moves the octave range that can be inputted using the QWERTY keyboard up/down. On mobile, recording mode will automatically pop-up the piano and each note played will be recorded. Snapping Snapping help you keep notes aligned to the grid. It can be toggled by clicking the little magnet in the top-left corner of the piano roll. Shift+S can also be used to quickly toggle snapping on/off. The precision of the snapping can be changed by right-clicking on the magnet and selecting a different precision. Alternatively, you can rotate the mouse wheel over the magnet. The snapping precision is expressed in Beats (which are numbered as x.1, x.2, x.3, etc. in the header). So with the default settings, a snapping precision of 1 will mean a quarter note. Adding, selecting and dragging of notes are currently the only actions affected by snapping. More might be added in future based on user feedback. At any time, when snapping is ON, you can hold Alt to temporarely disable it. There is also an option to snap effect values. When enabled, newly created effect values in the effect panel will be snapped to the desired precision. The following keyboard shortcuts can be used to switch between common snapping values: Alt+1 : Set snapping to 1 beat. Alt+2 : Set snapping to 1/2 beat. Alt+3 : Set snapping to 1/4 beat. Alt+4 : Set snapping to 1/8 beat. On mobile, the snapping precision is set from the Quick Access Bar, on the right size but works similarly. Note attack By default, notes will have an \"attack\" which mean they will restart their envelopes (volume, pitch, etc.) from the beginning. This is represented by the little dark rectangle on the left of each note. The attack can be toggled for a particular note by selecting the \"Toggle Attack\" option from the note context menu. Alternatively, you can hold A and click on a note to toggle its attack. Similarly, on mobile, toggling the note attack is done by long pressing on a note and selecting \"Toggle Attack\". Note that if a note does not use the same instrument as the previous one, the attack will still play, even if disabled. Also please note that this will generally not carry over to FamiTracker, besides specific use cases around slide notes. In this example, the first note will have an attack, while the second one will not. Since envelopes are not reset, this means that if a note was released, it will remain released if the subsequent notes have no attack. Slide notes Slide notes are notes that start at a given pitch (the pitch of the note) and slowly change to hit a target pitch which is represented by where the triangle ends. In this example, the attack of the second note is also disabled. Slide notes guarantees that the target pitch will be reached by the end of the note (end of the triangle) but this might happen a bit earlier than the visual representation suggests. Especially in the higher pitches. This is due to the fact that the pitch calculations are all integer-based (with 1-bit of fraction) and it is often impossible to get the exact required slope to reach the pitch at the exact time. To create a slide note, simply select \"Toggle Slide Note\" from the note context menu and adjust the target note. On desktop, you can also simply hold S , click on a note and drag up/down to create a slide note. Arpeggios Arpeggios (not to be confused with arpeggio instrument envelopes) are typically used to simulate chords by playing changing notes very rapidly. A note can optionally have an arpeggio associated to it, just like it has an instrument associated to it. When an arpeggio is used, the notes used by this arpeggio will be displayed in a semi-transparent way and the extra notes will take the color of the associated arpeggio. Note that in order to keep things simple, the individual sequence of notes inside the arpeggio will not be displayed. You can change which arpeggio is associated with a note the same way to can replace an instrument. You can select a new arpeggio and click on an existing note. Or you can select a few notes and drag and drop an arpeggio from the Project Explorer on to the selection. If an instrument uses an arpeggio envelope and also uses an arpeggio chord, the chord will take over and completely override the arpeggio envelope of the instrument. Replacing Instruments To replace the instrument used by a note, you can simply drag the instrument on the note. To replace multiple notes at a time, simply create a selection and drag the instrument on the selection. On mobile, you can replace an instrument or arpeggio by first making a selection, then long pressing on an instrument from the Quick Access Bar, then selecting \"Replace Selection Instrument\". Copying & pasting notes Much like the sequencer, selected notes can be copy (or cut) by pressing Ctrl+C (or Ctrl+X ). You can then move the selection somewhere else and paste the notes with Ctrl+V . Copying & pasting notes between projects It is possible to copy notes from one project to another. When doing so, FamiStudio will first look to make sure the instruments used by these notes exist in the other project. It will look for instruments having the same name . If some instruments are not found in the second project, it will offer you to create them for you, thus bringing the instrument from one project to another. For example, if you copy a note from project 1 using an instrument called \"Piano\", FamiStudio will look for an instrument named \"Piano\" in the second. If it finds one, it will assume it is the same (even though it might not be). If no \"Piano\" instrument is found, it will offer you to create it for you. This can be used as a way of transferring instruments from one project to another. Place a few notes using all the instruments you can to transfer. Copy them and paste them in the second project. Special paste \"Special paste\" is a more advanced form of pasting. It is used to to do things like pasting notes without their associated effects or volume track (or vice-versa), or to just paste specific effects. You can use a \"special paste\" by pressing Ctrl+Shift+V . This will open a popup dialog. Mix With Existing Notes : The default behavior of pasting is to completely replace everything by the content of the clipboard. Using the \"Mix with existing notes\" option will preserve any existing data (notes, volumes, effects) and only insert new data if there is nothing there already. Paste Notes : Will paste the actual notes (including slide notes and arpeggio information). Paste Effects : You can choose the list of effect that you with to paste. Unchecked effect will not be pasted. Repeat : You can repeat the same paste operation multiple times to quickly repeat a sequence of note/effect values multiple times. The start of the next paste will be where the last one ended. On mobile, the same functionality is accessible by long pressing on the \"Paste\" icon of the toolbar. The dialog will look different by contains the same functionality. Special delete Much like Special paste, \"Special delete\" is a more advanced form of deletion. You can bring up the special delete dialog by selecting a range of notes and pressing Ctrl+Shift+Delete . Delete Notes : If checked, will delete all the selected notes. Delete Effects : You can choose here the list of effects to delete. All unchecked effects will be preserved. The start of the next paste will be where the last one ended. On mobile, the same functionality is accessible by long pressing on the \"Delete\" icon of the toolbar. The dialog will look different by contains the same functionality. Editing volume & effects The effect panel can be opened by clicking the little triangle at the top-left of the piano roll. Here is the list of effects currently supported, note that not every effect is available on every channel: Volume : The overall volume of the channel. Vib Speed : Vibrato speed, used in conjunction with vibrato depth to create a vibrato effect. Vib Depth : Vibrato depth, used in conjunction with vibrato speed to create a vibrato effect. Pitch : Allow tweaking the fine-pitch of a channel. Duty Cycle : Allow changing the duty cycle of an instrument without using a duty cycle envelope (only instruments with no duty cycle envelopes will use the specified value). FDS Speed : Famicom Disk System audio modulation speed (FDS audio expansion only). FDS Depth : Famicom Disk System audio modulation depth (FDS audio expansion only). Speed : Changes the speed of the song (FamiTracker tempo mode only) Note Delay : Number of frames to delay the current note (FamiTracker tempo mode only) Cut Delay : Stop the note after the specified number of frames (FamiTracker tempo mode only) Effects are edited by selecting and effect and dragging up or down to change the value. Right-clicking on an effect value deletes it. For effects that have huge values (such as FDS Depth), you can hold Shift to fine tune the exact value (a movement of 1 pixel will change the value by 1). Volume track The volume tracks dictates how loud the current channel should play. This volume is combined with volume envelope by multiplication (50% volume track x 50% envelope volume = 25% total volume). It is much more efficient to use volume envelopes wherever possible and only use volume tracks to control the global volume of the song. The volume track is allowed to have slides to smoothly raise or lower the volume. Volume slides are created exactly like regular slide notes, by either using the context menu that appears by right-clicking on an effect value or by holding S , clicking on effect values and dragging up or down. These slides use fixed point arithmetic and have limited precision. They will go up/down by 1 volume unit every 16 frames at most. Very slow/long slides may end earlier than their visual representation. On mobile, a volume slide is created by long pressing on a volume value and selecting \"Toggle Volume Slide\". Vibrato depth & speed Vibrato depth and speed are used to add vibrato to a portion of the song without having to bother creating a new instrument. Please note that vibrato will temporarily override any pitch envelope on the current instrument. When vibrato is disabled (by setting depth or speed, or both to zero), the instrument will essentially have no pitch envelope until a new note is played. The depth values for the vibrato are identical to FamiTracker but the speeds are slightly different. The way FamiTracker implements vibrato, while clever, is flawed as it undersamples the vibrato curve at high speed, leading to aliasing which ends up with a low-frequency tone that has a \"ringing\" sound to it. Please see the Export page for a table that maps between FamiStudio and FamiTracker. Pitch Controls the global pitch of the track. Can be used to make an entire channel slightly out of tune. Duty Cycle Allow changing the duty cycle of an instrument without using a duty cycle envelope. This can only affect instruments with no duty cycle envelopes. This effect is mostly just there for compatibility with FamiTracker. Unless you have special cases where you often need to change the duty cycle, you should always favor creating different instruments instead of using this effect. Speed This changes the speed parameter of the FamiTracker tempo settings and is only available in FamiTracker tempo mode. Larger values will make the song scroll slower. Please refer to the Editing Songs & Project section for more information about tempo management. Note and Cut delay Note delays allows delaying the moment a note is played by a few frames while cut delay will stop a note after a few frames. This also is only available in FamiTracker tempo mode. Please refer to the Editing Songs & Project section for more information about tempo management.","title":"Editing Notes"},{"location":"pianoroll/#editing-notes","text":"The Piano Roll is where you editing the actual notes of the song, the instrument envelopes, as well as some special effects. You can also use it to preview instrument by clicking on the piano. The currently selected instrument (in bold in the project explorer) will play on the currently selected channel (in bold in the sequencer).","title":"Editing Notes"},{"location":"pianoroll/#subdivision","text":"Horizontal lines in the piano rolls are aligned with the notes of the piano. The vertical lines represent multiple levels of subdivision: Thin dashes gray lines separate individual frames (1/60th of a sec in NTSC, 1/50th in PAL) (FamiStudio tempo mode only) Thin gray lines separate notes Thin black lines separate beats Thick black lines separate patterns In FamiTracker tempo mode, you do not have access to the individual frames, so the dashes lines will not be visible. For more information about tempo, please refer to this section .","title":"Subdivision"},{"location":"pianoroll/#seeking","text":"Clicking in the timeline (header) of the piano roll will move the play position. You can also drag the seek back to move it more accurately.","title":"Seeking"},{"location":"pianoroll/#adding-deleting-notes","text":"Clicking a pattern in the sequencer will scroll the piano roll to its location. On desktop, Left-clicking in the piano roll will add a note of the currently selected instrument and dragging while still holding the left button will allow you to set the duration. A pattern may be automatically created if you click on an area where there was no pattern. Double-clicking deletes a note. Alternatively Shift+click also deletes. Similarly, on mobile, notes are created by a quick tap and deleted by double-tapping .","title":"Adding &amp; deleting notes"},{"location":"pianoroll/#moving-resizing-notes","text":"When moving the mouse around the piano roll, the note under the mouse cursor will be highlighted and the mouse cursor will change to reflect the type of action you can do : Possible actions are: Move one or multiple note(s) Resize one or multiple note(s) Move the release point of one or multiple note(s) On mobile, notes must be first given a white highlight by tapping once before being edited. Only they have that, you can move them or resize them.","title":"Moving &amp; resizing notes"},{"location":"pianoroll/#note-duration-priority","text":"FamiStudio is a monophonic app, in other words, only one note can play at a time on a given channel. The general rule is that the latest/newest note (the one that is rightmost on the timeline) always has priority, this mean that it can interrupt a previous note, making it shorter than it would normally be. As you can see, in the following example, even through i am trying to resize the left note, I cannot go beyond the right note. If I move the right now back, it is still interrupting the left note. Only when I move the right now far enough to the right we can see the real duration of the left note.","title":"Note duration &amp; priority"},{"location":"pianoroll/#selecting-notes","text":"There are three main ways of selecting notes, selected notes will appear with a thick silver border. You can select notes by right-clicking and dragging in the header of the piano roll or anywhere in the background of the piano roll (where there is no note). You can select the duration of a note using the context menu that appears if you right-click above or below a note. You can select an entire pattern or an entire song using the context menu that appears when you right-click on the header. The following images shows all 3 techniques. Once notes are selected, then can be moved or resized all at once. They can also be moved or transposed using the keyboard array keys (up, down, left and right). Holding Ctrl while doing so will make the notes move by larger increments. On mobile, there is just only way to select notes and it is done by swiping in the header of the piano roll. A long press in the background will allow you to clear the selection.","title":"Selecting notes"},{"location":"pianoroll/#release-point","text":"Release points triggers the envelope to jump to the release point and are represented by making the note thinner. Release envelopes are useful to nicely fade out a note when its release, while preserving other effects like vibrato. There is no point to adding a release point to an instrument that does not have a release envelope. To set a release point on a note on desktop, simply right-click on a note a choose the \"Toggle Release\" option. Alternatively, you can hold R and click on a note to toggle a release. Once a note has a release point, it can be moved by dragging. On mobile, the release point is toggled by long pressing on a note and selecting \"Toggle Release\". The default position of a release will be in the middle of the note but you can move it afterwards.","title":"Release point"},{"location":"pianoroll/#stop-notes","text":"Stop notes simply stop the sound and are displayed as little triangles. Although they are displayed next to the note preceding them, they actually have no pitch or instrument, they simply stop the sound. To create a stop note on Desktop, right-click on a note and select \"Make Stop Note\". Alternatively, you can use T+click to create a stop note. As of FamiStudio 3.0.0 stop notes are no longer needed since they have been replaced by note durations. There are cases where stop notes will still remain when notes are detected to have inconsistent durations, but those should be relatively rare. One use case where they can be useful is to interrupt a long note from a previous pattern.","title":"Stop notes"},{"location":"pianoroll/#instrument-picker","text":"You can make the instrument used by a note the selected instrument by selected \"Make Instrument Current\" from the note context menu. This is often known as the eye dropper or pipette tool in drawing software. Alternatively, on desktop, you can hold I and click on a note.","title":"Instrument Picker"},{"location":"pianoroll/#recording-mode","text":"Recording mode is another way to input notes and is enabled by pressing the record button on the toolbar. Recording mode allows inputting notes using a MIDI controller or using a piano-type layout on the QWERTY keyboard. This layout is very similar to what FamiTracker uses. Note that this is not a \"real-time\" recording mode, simply a note-by-note input mode. This is default layout for an en-US keyboard. The Configuration Dialog allows re-mapping the keys for other types of keyboards. The QWERTY keyboard input will give you a range of approximately 2.5 octaves. By default, this will go from C3 to C5 but it can be moved up/down by pressing Page Up and Page Down . Which keyboard key maps to which piano key will be displayed in the piano roll. When recording mode is active, the seek bar will turn red. Each note you input will be snapped to the current snap precision (see next section for info about snapping) and the seek bar will advance to the next snapping position. There are a few other special keys that are enabled when recording mode is activated: Backspace : moves back by 1 note (or snapping interval), erasing any note inside the interval. Tab : Advances by 1 note (or snapping interval), not recording anything. Page Up/Down : Moves the octave range that can be inputted using the QWERTY keyboard up/down. On mobile, recording mode will automatically pop-up the piano and each note played will be recorded.","title":"Recording mode"},{"location":"pianoroll/#snapping","text":"Snapping help you keep notes aligned to the grid. It can be toggled by clicking the little magnet in the top-left corner of the piano roll. Shift+S can also be used to quickly toggle snapping on/off. The precision of the snapping can be changed by right-clicking on the magnet and selecting a different precision. Alternatively, you can rotate the mouse wheel over the magnet. The snapping precision is expressed in Beats (which are numbered as x.1, x.2, x.3, etc. in the header). So with the default settings, a snapping precision of 1 will mean a quarter note. Adding, selecting and dragging of notes are currently the only actions affected by snapping. More might be added in future based on user feedback. At any time, when snapping is ON, you can hold Alt to temporarely disable it. There is also an option to snap effect values. When enabled, newly created effect values in the effect panel will be snapped to the desired precision. The following keyboard shortcuts can be used to switch between common snapping values: Alt+1 : Set snapping to 1 beat. Alt+2 : Set snapping to 1/2 beat. Alt+3 : Set snapping to 1/4 beat. Alt+4 : Set snapping to 1/8 beat. On mobile, the snapping precision is set from the Quick Access Bar, on the right size but works similarly.","title":"Snapping"},{"location":"pianoroll/#note-attack","text":"By default, notes will have an \"attack\" which mean they will restart their envelopes (volume, pitch, etc.) from the beginning. This is represented by the little dark rectangle on the left of each note. The attack can be toggled for a particular note by selecting the \"Toggle Attack\" option from the note context menu. Alternatively, you can hold A and click on a note to toggle its attack. Similarly, on mobile, toggling the note attack is done by long pressing on a note and selecting \"Toggle Attack\". Note that if a note does not use the same instrument as the previous one, the attack will still play, even if disabled. Also please note that this will generally not carry over to FamiTracker, besides specific use cases around slide notes. In this example, the first note will have an attack, while the second one will not. Since envelopes are not reset, this means that if a note was released, it will remain released if the subsequent notes have no attack.","title":"Note attack"},{"location":"pianoroll/#slide-notes","text":"Slide notes are notes that start at a given pitch (the pitch of the note) and slowly change to hit a target pitch which is represented by where the triangle ends. In this example, the attack of the second note is also disabled. Slide notes guarantees that the target pitch will be reached by the end of the note (end of the triangle) but this might happen a bit earlier than the visual representation suggests. Especially in the higher pitches. This is due to the fact that the pitch calculations are all integer-based (with 1-bit of fraction) and it is often impossible to get the exact required slope to reach the pitch at the exact time. To create a slide note, simply select \"Toggle Slide Note\" from the note context menu and adjust the target note. On desktop, you can also simply hold S , click on a note and drag up/down to create a slide note.","title":"Slide notes"},{"location":"pianoroll/#arpeggios","text":"Arpeggios (not to be confused with arpeggio instrument envelopes) are typically used to simulate chords by playing changing notes very rapidly. A note can optionally have an arpeggio associated to it, just like it has an instrument associated to it. When an arpeggio is used, the notes used by this arpeggio will be displayed in a semi-transparent way and the extra notes will take the color of the associated arpeggio. Note that in order to keep things simple, the individual sequence of notes inside the arpeggio will not be displayed. You can change which arpeggio is associated with a note the same way to can replace an instrument. You can select a new arpeggio and click on an existing note. Or you can select a few notes and drag and drop an arpeggio from the Project Explorer on to the selection. If an instrument uses an arpeggio envelope and also uses an arpeggio chord, the chord will take over and completely override the arpeggio envelope of the instrument.","title":"Arpeggios"},{"location":"pianoroll/#replacing-instruments","text":"To replace the instrument used by a note, you can simply drag the instrument on the note. To replace multiple notes at a time, simply create a selection and drag the instrument on the selection. On mobile, you can replace an instrument or arpeggio by first making a selection, then long pressing on an instrument from the Quick Access Bar, then selecting \"Replace Selection Instrument\".","title":"Replacing Instruments"},{"location":"pianoroll/#copying-pasting-notes","text":"Much like the sequencer, selected notes can be copy (or cut) by pressing Ctrl+C (or Ctrl+X ). You can then move the selection somewhere else and paste the notes with Ctrl+V .","title":"Copying &amp; pasting notes"},{"location":"pianoroll/#copying-pasting-notes-between-projects","text":"It is possible to copy notes from one project to another. When doing so, FamiStudio will first look to make sure the instruments used by these notes exist in the other project. It will look for instruments having the same name . If some instruments are not found in the second project, it will offer you to create them for you, thus bringing the instrument from one project to another. For example, if you copy a note from project 1 using an instrument called \"Piano\", FamiStudio will look for an instrument named \"Piano\" in the second. If it finds one, it will assume it is the same (even though it might not be). If no \"Piano\" instrument is found, it will offer you to create it for you. This can be used as a way of transferring instruments from one project to another. Place a few notes using all the instruments you can to transfer. Copy them and paste them in the second project.","title":"Copying &amp; pasting notes between projects"},{"location":"pianoroll/#special-paste","text":"\"Special paste\" is a more advanced form of pasting. It is used to to do things like pasting notes without their associated effects or volume track (or vice-versa), or to just paste specific effects. You can use a \"special paste\" by pressing Ctrl+Shift+V . This will open a popup dialog. Mix With Existing Notes : The default behavior of pasting is to completely replace everything by the content of the clipboard. Using the \"Mix with existing notes\" option will preserve any existing data (notes, volumes, effects) and only insert new data if there is nothing there already. Paste Notes : Will paste the actual notes (including slide notes and arpeggio information). Paste Effects : You can choose the list of effect that you with to paste. Unchecked effect will not be pasted. Repeat : You can repeat the same paste operation multiple times to quickly repeat a sequence of note/effect values multiple times. The start of the next paste will be where the last one ended. On mobile, the same functionality is accessible by long pressing on the \"Paste\" icon of the toolbar. The dialog will look different by contains the same functionality.","title":"Special paste"},{"location":"pianoroll/#special-delete","text":"Much like Special paste, \"Special delete\" is a more advanced form of deletion. You can bring up the special delete dialog by selecting a range of notes and pressing Ctrl+Shift+Delete . Delete Notes : If checked, will delete all the selected notes. Delete Effects : You can choose here the list of effects to delete. All unchecked effects will be preserved. The start of the next paste will be where the last one ended. On mobile, the same functionality is accessible by long pressing on the \"Delete\" icon of the toolbar. The dialog will look different by contains the same functionality.","title":"Special delete"},{"location":"pianoroll/#editing-volume-effects","text":"The effect panel can be opened by clicking the little triangle at the top-left of the piano roll. Here is the list of effects currently supported, note that not every effect is available on every channel: Volume : The overall volume of the channel. Vib Speed : Vibrato speed, used in conjunction with vibrato depth to create a vibrato effect. Vib Depth : Vibrato depth, used in conjunction with vibrato speed to create a vibrato effect. Pitch : Allow tweaking the fine-pitch of a channel. Duty Cycle : Allow changing the duty cycle of an instrument without using a duty cycle envelope (only instruments with no duty cycle envelopes will use the specified value). FDS Speed : Famicom Disk System audio modulation speed (FDS audio expansion only). FDS Depth : Famicom Disk System audio modulation depth (FDS audio expansion only). Speed : Changes the speed of the song (FamiTracker tempo mode only) Note Delay : Number of frames to delay the current note (FamiTracker tempo mode only) Cut Delay : Stop the note after the specified number of frames (FamiTracker tempo mode only) Effects are edited by selecting and effect and dragging up or down to change the value. Right-clicking on an effect value deletes it. For effects that have huge values (such as FDS Depth), you can hold Shift to fine tune the exact value (a movement of 1 pixel will change the value by 1).","title":"Editing volume &amp; effects"},{"location":"pianoroll/#volume-track","text":"The volume tracks dictates how loud the current channel should play. This volume is combined with volume envelope by multiplication (50% volume track x 50% envelope volume = 25% total volume). It is much more efficient to use volume envelopes wherever possible and only use volume tracks to control the global volume of the song. The volume track is allowed to have slides to smoothly raise or lower the volume. Volume slides are created exactly like regular slide notes, by either using the context menu that appears by right-clicking on an effect value or by holding S , clicking on effect values and dragging up or down. These slides use fixed point arithmetic and have limited precision. They will go up/down by 1 volume unit every 16 frames at most. Very slow/long slides may end earlier than their visual representation. On mobile, a volume slide is created by long pressing on a volume value and selecting \"Toggle Volume Slide\".","title":"Volume track"},{"location":"pianoroll/#vibrato-depth-speed","text":"Vibrato depth and speed are used to add vibrato to a portion of the song without having to bother creating a new instrument. Please note that vibrato will temporarily override any pitch envelope on the current instrument. When vibrato is disabled (by setting depth or speed, or both to zero), the instrument will essentially have no pitch envelope until a new note is played. The depth values for the vibrato are identical to FamiTracker but the speeds are slightly different. The way FamiTracker implements vibrato, while clever, is flawed as it undersamples the vibrato curve at high speed, leading to aliasing which ends up with a low-frequency tone that has a \"ringing\" sound to it. Please see the Export page for a table that maps between FamiStudio and FamiTracker.","title":"Vibrato depth &amp; speed"},{"location":"pianoroll/#pitch","text":"Controls the global pitch of the track. Can be used to make an entire channel slightly out of tune.","title":"Pitch"},{"location":"pianoroll/#duty-cycle","text":"Allow changing the duty cycle of an instrument without using a duty cycle envelope. This can only affect instruments with no duty cycle envelopes. This effect is mostly just there for compatibility with FamiTracker. Unless you have special cases where you often need to change the duty cycle, you should always favor creating different instruments instead of using this effect.","title":"Duty Cycle"},{"location":"pianoroll/#speed","text":"This changes the speed parameter of the FamiTracker tempo settings and is only available in FamiTracker tempo mode. Larger values will make the song scroll slower. Please refer to the Editing Songs & Project section for more information about tempo management.","title":"Speed"},{"location":"pianoroll/#note-and-cut-delay","text":"Note delays allows delaying the moment a note is played by a few frames while cut delay will stop a note after a few frames. This also is only available in FamiTracker tempo mode. Please refer to the Editing Songs & Project section for more information about tempo management.","title":"Note and Cut delay"},{"location":"privacy/","text":"Privacy Policy FamiStudio does not collect or store your data, period, nor does it uses any third party library that does. For any inquiries about privacy, please contact us .","title":"Privacy Policy"},{"location":"privacy/#privacy-policy","text":"FamiStudio does not collect or store your data, period, nor does it uses any third party library that does. For any inquiries about privacy, please contact us .","title":"Privacy Policy"},{"location":"sequencer/","text":"Editing Patterns The Sequencer is where you decide which pattern plays when. A pattern is a small portion of a song, usually of fixed length, that is likely to be repeated. Patterns are laid out on one of the five channels that NES support (more if you have expansion audio enabled). Seeking Clicking in the timeline (header) of the sequencer will move the play position. You can also drag the seek back to move it more accurately. Changing the active channel Clicking on a channel will make it the active one. Alternatively, you can press the keyboard key F1...F5 (more if using expansion) to quickly change the active channel. Muting & soloing channels Clicking on the icon of a channel (Square, triangle, noise, DPCM) will toggle mute. Double-clicking will toggle solo. Alternatively, you can right-click on the channel name to get a context menu that will offer you these options. On mobile, this is done by long pressing on a channel name, either here in the sequencer, or in the Quick Access Bar. Force display channel Clicking the tiny eye icon next to the channel name will force display it in the piano roll. Alternatively, you can press the keyboard key Ctrl + F1...F5 (more if using expansion). You can force display all channels at once by double-clicking on the eye icon. Channels that are force displayed and are not the current channel will appear dimmed in the piano roll. This is useful when harmonizing between multiple channels, or editing drum patterns. On mobile, this is done by long pressing on a channel name, either here in the sequencer, or in the Quick Access Bar. Adding & removing patterns You can add a new pattern by left-clicking on an empty space. Double-clicking on a pattern deletes it. Editing patterns Clicking a pattern selects it and opens the piano roll for the current channel at the location of the pattern. Right-clicking a pattern (or long pressing on mobile) will reveal a context menu with various options. Selecting \"Pattern Properties...\" allows renaming and changing its color (pattern names need to be unique per channel). Selecting patterns You can select entire columns of patterns by right-clicking and dragging from the header bar. You can do a rectangle selection right-clicking and dragging from any pattern location in the sequencer. To un-select everything, simply press Esc . When multiple patterns are selected, only the color can be edited in the pattern properties. On mobile, you can select full columns of patterns by swiping from the header. You can do rectangular selection by first selecting a single pattern, then long pressing somewhere else and selecting \"Expand Selection\". Moving & copying patterns When one or multiple patterns are selected, dragging them will move them in the timeline. While dragging, holding Ctrl will create another instance of the pattern(s). An instance is a copy that is linked to the original pattern, it will have the same name and color. Modifying one instance will modify all of them. This will be shown by a \"link\" icon when dragging. Holding Ctrl+Shift while dragging will create a completely independent copy of the selected patterns. This will be shown by a \"copy\" icon when dragging. They will be renamed in the process. Dragging a pattern to a different channel will create a copy, but delete the original. This is because internally, patterns cannot be shared across different channels. The pattern may be renamed in the process. Holding Ctrl+Shift will preserve the original (create a copy). On mobile, patterns can be moved in a similar way but they first must be tapped to be given the white highlight. To create copies/instances of one or multiple patterns, first make a selection, then long press where you want to copy them. Copy & pasting patterns When one or multiple patterns are selected, press Ctrl+C (or Ctrl+X for cut). Move the selection somewhere else and paste with Ctrl+V . Copy and pasting always create instances of patterns. Copying & pasting patterns between projects Copy and pasting patterns between projects is possible When doing so, FamiStudio will assume patterns having the same name are identical. If a pattern is not found, it will offer you to create it for you. For example, if you copy a pattern named \"Chorus1\" from a project to another. If no such pattern is found, it will be copied. Otherwise, if an existing pattern named \"Chorus1\" is found in the second project, it will assume it is the same. Inside patterns, for notes and instrument, the same rule applies. Paste Special Pressing Ctrl+Shift+V will open the Paste Special dialog which gives more options than a regular paste. Insert : Will insert the copied patterns and move all the existing ones to the right. Extend song : Will extend the song duration to accommodate the newly inserted patterns (Only available when Insert is enabled). Repeat : Allows pasting the copied patterns multiple times in a row. On mobile, the same functionality is accessible by long pressing the \"Paste\" button while in the Sequencer. Setting the loop point The Loop point is where the song will repeat once it reaches the end and is represented by a little arrow. You can move the loop point around or remove it entirely by right-clicking (or long pressing on mobile) in the header and selecting the appropriate option from the context menu. Alternatively, you can hold the L key and clicking at a location in the Sequencer. Custom pattern settings Right-clicking on the header of sequencer and selecting \"Custom Pattern Settings...\" will allow you to set some customs settings for one or multiple columns of patterns. This will allow you to change the number of notes and tempo parameters. This dialog will look quite different depending on the tempo mode you are using. To learn more about tempo modes, please check out the Project properties section . FamiStudio Tempo FamiTracker tempo Enabling Custom Pattern will allow you to change the values. Once a pattern has any kind of custom setting, it will no longer take its values from the Song's properties and will be display with a asterisk (*) next to its index in the Sequencer. The parameters here are the same as when editing the Song properties , but are localized to a column of patterns. On mobile, the same functionality is accessible by long pressing in the sequencer header and selecting \"Custom Pattern Settings\".","title":"Editing Patterns"},{"location":"sequencer/#editing-patterns","text":"The Sequencer is where you decide which pattern plays when. A pattern is a small portion of a song, usually of fixed length, that is likely to be repeated. Patterns are laid out on one of the five channels that NES support (more if you have expansion audio enabled).","title":"Editing Patterns"},{"location":"sequencer/#seeking","text":"Clicking in the timeline (header) of the sequencer will move the play position. You can also drag the seek back to move it more accurately.","title":"Seeking"},{"location":"sequencer/#changing-the-active-channel","text":"Clicking on a channel will make it the active one. Alternatively, you can press the keyboard key F1...F5 (more if using expansion) to quickly change the active channel.","title":"Changing the active channel"},{"location":"sequencer/#muting-soloing-channels","text":"Clicking on the icon of a channel (Square, triangle, noise, DPCM) will toggle mute. Double-clicking will toggle solo. Alternatively, you can right-click on the channel name to get a context menu that will offer you these options. On mobile, this is done by long pressing on a channel name, either here in the sequencer, or in the Quick Access Bar.","title":"Muting &amp; soloing channels"},{"location":"sequencer/#force-display-channel","text":"Clicking the tiny eye icon next to the channel name will force display it in the piano roll. Alternatively, you can press the keyboard key Ctrl + F1...F5 (more if using expansion). You can force display all channels at once by double-clicking on the eye icon. Channels that are force displayed and are not the current channel will appear dimmed in the piano roll. This is useful when harmonizing between multiple channels, or editing drum patterns. On mobile, this is done by long pressing on a channel name, either here in the sequencer, or in the Quick Access Bar.","title":"Force display channel"},{"location":"sequencer/#adding-removing-patterns","text":"You can add a new pattern by left-clicking on an empty space. Double-clicking on a pattern deletes it.","title":"Adding &amp; removing patterns"},{"location":"sequencer/#editing-patterns_1","text":"Clicking a pattern selects it and opens the piano roll for the current channel at the location of the pattern. Right-clicking a pattern (or long pressing on mobile) will reveal a context menu with various options. Selecting \"Pattern Properties...\" allows renaming and changing its color (pattern names need to be unique per channel).","title":"Editing patterns"},{"location":"sequencer/#selecting-patterns","text":"You can select entire columns of patterns by right-clicking and dragging from the header bar. You can do a rectangle selection right-clicking and dragging from any pattern location in the sequencer. To un-select everything, simply press Esc . When multiple patterns are selected, only the color can be edited in the pattern properties. On mobile, you can select full columns of patterns by swiping from the header. You can do rectangular selection by first selecting a single pattern, then long pressing somewhere else and selecting \"Expand Selection\".","title":"Selecting patterns"},{"location":"sequencer/#moving-copying-patterns","text":"When one or multiple patterns are selected, dragging them will move them in the timeline. While dragging, holding Ctrl will create another instance of the pattern(s). An instance is a copy that is linked to the original pattern, it will have the same name and color. Modifying one instance will modify all of them. This will be shown by a \"link\" icon when dragging. Holding Ctrl+Shift while dragging will create a completely independent copy of the selected patterns. This will be shown by a \"copy\" icon when dragging. They will be renamed in the process. Dragging a pattern to a different channel will create a copy, but delete the original. This is because internally, patterns cannot be shared across different channels. The pattern may be renamed in the process. Holding Ctrl+Shift will preserve the original (create a copy). On mobile, patterns can be moved in a similar way but they first must be tapped to be given the white highlight. To create copies/instances of one or multiple patterns, first make a selection, then long press where you want to copy them.","title":"Moving &amp; copying patterns"},{"location":"sequencer/#copy-pasting-patterns","text":"When one or multiple patterns are selected, press Ctrl+C (or Ctrl+X for cut). Move the selection somewhere else and paste with Ctrl+V . Copy and pasting always create instances of patterns.","title":"Copy &amp; pasting patterns"},{"location":"sequencer/#copying-pasting-patterns-between-projects","text":"Copy and pasting patterns between projects is possible When doing so, FamiStudio will assume patterns having the same name are identical. If a pattern is not found, it will offer you to create it for you. For example, if you copy a pattern named \"Chorus1\" from a project to another. If no such pattern is found, it will be copied. Otherwise, if an existing pattern named \"Chorus1\" is found in the second project, it will assume it is the same. Inside patterns, for notes and instrument, the same rule applies.","title":"Copying &amp; pasting patterns between projects"},{"location":"sequencer/#paste-special","text":"Pressing Ctrl+Shift+V will open the Paste Special dialog which gives more options than a regular paste. Insert : Will insert the copied patterns and move all the existing ones to the right. Extend song : Will extend the song duration to accommodate the newly inserted patterns (Only available when Insert is enabled). Repeat : Allows pasting the copied patterns multiple times in a row. On mobile, the same functionality is accessible by long pressing the \"Paste\" button while in the Sequencer.","title":"Paste Special"},{"location":"sequencer/#setting-the-loop-point","text":"The Loop point is where the song will repeat once it reaches the end and is represented by a little arrow. You can move the loop point around or remove it entirely by right-clicking (or long pressing on mobile) in the header and selecting the appropriate option from the context menu. Alternatively, you can hold the L key and clicking at a location in the Sequencer.","title":"Setting the loop point"},{"location":"sequencer/#custom-pattern-settings","text":"Right-clicking on the header of sequencer and selecting \"Custom Pattern Settings...\" will allow you to set some customs settings for one or multiple columns of patterns. This will allow you to change the number of notes and tempo parameters. This dialog will look quite different depending on the tempo mode you are using. To learn more about tempo modes, please check out the Project properties section . FamiStudio Tempo FamiTracker tempo Enabling Custom Pattern will allow you to change the values. Once a pattern has any kind of custom setting, it will no longer take its values from the Song's properties and will be display with a asterisk (*) next to its index in the Sequencer. The parameters here are the same as when editing the Song properties , but are localized to a column of patterns. On mobile, the same functionality is accessible by long pressing in the sequencer header and selecting \"Custom Pattern Settings\".","title":"Custom pattern settings"},{"location":"song/","text":"Editing projects The project explorer displays the name of the project, the list of songs and instruments in the current project. This section is going to focus on the very top part, which is the project and the songs. Editing project properties Clicking on the little gear icon or selecting the \"Project Properties...\" option from the context menu of the project (first button in the project explorer) will allow you to change its name, author and copyright information. This information is used when exporting to NSF, for example. Expansion audio The project properties is also where you select your Expansion Audio . Expansion will add extra channels on top of the default 5 that the NES supported. Note that changing the expansion audio in a project will delete all data (patterns, notes, instrument) related to the previous expansion. Please visit the Expansion Audio section for more detail about each expansion. Tempo modes FamiStudio supports two tempo modes : FamiStudio and FamiTracker . The tempo mode will affect how the tempo of you songs is calculated, how much control you have over the notes of your song and how your song plays on PAL systems. Note that changing the tempo mode when you have songs created is possible, but not recommended, the conversion is quite crude at the moment. FamiStudio Tempo Mode FamiStudio tempo modes gives full control over every frame (1/60th of a second on NTSC, 1/50th on PAL). It is the default mode. In this mode you will see the individual frames in the piano roll and will have more precise control on where each note starts/end. For example, a C-D-E-F scale where each note is stopped for 1 frame between each note will look like this using FamiStudio tempo. The dashed lines separate individual frames, so you can leave and empty frame 1 frame before the new note starts. Very intuitive and visual. FamiStudio tempo mode let's you simply choose a BPM value for the song (or an individual pattern) and will automatically choose the appropriate number of frames to make each notes. Some BPMs will require the use of a groove which is an uneven sequence of frames. For example, at 142 BPM (in NTSC), FamiStudio will know to use a 7-6-6 groove, which mean that the first note will be 7 frames long, then followed by two notes of 6 frames, and the whole thing will repeat until there is a tempo change in the song. But in order to keep the piano roll nice and even, FamiStudio will only only display the minimum values of the groove, 6 in our example. This mean that out of 19 frames in the groove, you only have control over 18. In other words, every 3rd note, FamiStudio will inject an empty frame for which you do not have any control. Effects, instrument envelopes & arpeggios will still advance on these empty frames, but otherwise no new note will be processed. You can tell FamiStudio where to inject this empty frame, by changing the Groove Padding Mode (Beginning, Middle or End). On of the limitation of FamiStudio tempo mode is that it will limit your ability to suddenly changes tempo in the middle of a pattern. When using FamiStudio tempo, you can only change the BPM at the start of a new pattern. FamiTracker Tempo Mode FamiTracker tempo has a limited visual granularity and relies on effects (delayed notes/cuts) to get frame-level precision. It uses the speed/tempo paradigm. Please check out the FamiTracker documentation for a detailed explanation on how the playback speed is affected. If you import a FamiTracker Text or FTM file, the project will be in this tempo mode. Same example, but using FamiTracker tempo. Here we do not have the individual frames so we need to use a \"delayed cut\" effect to achieve the same result. The delayed cut tells the sound engine to insert a stop note after 9 frames have elapsed, achieving the exact same result. That being said, one might argue that it is not very visual and feels like using a Tracker. Moreover, this would not always work correctly on PAL. Which one to use? You should use FamiStudio tempo mode if: You want to be able to visually control the position of every note at a frame-level precision. You are not planning to do smooth tempo changes during the song and you are OK with changing the tempo only at the start of a new pattern. You should use FamiTracker tempo mode if: You are OK with using effects tracks (delayed notes, cuts) to finely tune the start/end of each notes. You need compatibility with FamiTracker. You want to have smooth tempo changes during the song, especially in the middle of a pattern. Editing songs Right below the project name are the songs. Adding/Deleting songs To add new songs, simply click on the little \"+\" icon on the song header. Reordering songs You can drag & drop songs to reorder them in the list. Songs are the only things that are not always sorted alphabetically in the project explorer at the moment. Importing/Merging songs To merge a song coming from another project, click on the little folder icon on the song header. Songs from another project must use the same audio expansion and tempo mode. Also, please note that instruments, samples and arpeggios, used by the other song will be matched by their name. In other words, instruments with the same names are assumed to be the same. If you project already contains an instrument called \"Piano\" and you try to import a song using another one called \"Piano\", the existing one will be used. You are responsible to uniquely name your instruments if they are truly different. Editing song properties Clicking the gear icon next to a song or using the \"Song/Tempo Properties...\" will allow you to change its name, color and other attributes. Names must be unique. This dialog will look different depending on the Tempo Mode of the current project. FamiStudio Tempo FamiTracker tempo Common properties: Song length : The number of patterns in the song Notes Per Pattern : Default number of notes in a pattern. Pattern length can be customized on a per-pattern basis in the Sequencer. Notes Per Beat : Number of notes in a beat. The piano roll will draw a darker line at every beat. Simply a visual aid, does not affect the audio in any way, although it does affect the displayed BPM calculation. It is recommended to keep that at 4. Properties unique FamiTracker tempo mode: Speed : How much the timer is increment each frame, values other than 150 might create uneven notes Tempo : How many frames to wait before advancing to the next note (at least when using the integral tempo or 150) Properties unique FamiStudio tempo mode: Groove : For some BPM values, you will have multiple choices of \"grooves\". A groove is a sequence of number of frames that will be applied to get close to the desired BPM. This is again a consequence of the fact that the NES runs at 60 FPS (50 FPS on PAL), limiting our ability to achieve exact BPMs. Groove Padding : FamiStudio will sometimes inject frames where the song does not advance to maintain the correct BPM. You can set a preference as to the location of those \"do nothing\" frames. Putting them in the middle of notes is preferable since it is less likely to lead to audible unevenness in the tempo. Tempo Configuring tempo in FamiStudio is definitely less intuitive than in a regular DAW, so please bear with me. This mainly for technical reasons (the fact that the NES runs at 50/60 FPS). The key thing to understand is that the piano roll simply gives you a series of, what I am going to loosely call, notes ( rows if you come from FamiTracker). It is up to the composer to configure these notes and achieve the desired time signature. For example, let's look at the simple melody of the children song \"A, B, C, ...\". On the right side are the song settings that were used to achieve this. In this example, the project was set to use the FamiStudio tempo mode, but the same logic applies to the FamiTracker tempo mode. Click on the image to zoom in. Here is a zoomed-in version of the first beat. Observations: Frames are separated by dashes grey line (they will disappear if you zoom out enough). Notes are separated by thin grey lines. Beats are separated by thin black lines. Patterns are separated by thick black lines. Here we chosen to have 1 bar = 1 pattern, we could have chosen to fit the whole song in a single pattern, this is totally arbitrary. You should try to use a pattern size is a good trade off between re-usability (being able to copy patterns and re-use them) and size (having many small patterns is annoying). Also we have chosen to assemble 4 notes into a beat, and 4 beats in a pattern (16 notes), which is how we get something that looks like a 4/4 time signature. This also means our smallest granularity for our melody is 1/16th of a note. That being said, you can move notes at the frame-level, so you actually have a lot more control than this. When using FamiStudio tempo mode, as you change the BPM, the number of frames (1/60th of a second) in a note may change. At a BPM of 112.5, FamiStudio calculates that we need 8 frames per note. When using FamiTracker tempo, this is the equivalent of the Speed parameter. Example of time signatures There is no real concept of time signature in FamiStudio. But given the subdivisions discussed in the previous section, we can group notes in a way that feels like a time signature. Here are a few examples of settings to achieve various time signatures, assuming you want 1 bar per pattern. Also, this table assumes that you left \"Notes per Beat\" to 4, which is the default. Time Signature Notes per Pattern Additional Setting 2/4 8 3/4 12 4/4 16 5/4 20 6/8 24 Then double the BPM 2/2 8 Then halve the BPM You can obviously double or triple the \"Notes per Pattern\" to have 2 or 3 bars in a pattern, for example. You are free to decide what a pattern represents, it does not have to be 1 bar. FamiStudio Tempo & PAL conversion This is a more technical discussion of how FamiStudio tempo handles NTSC -> PAL and PAL -> NTSC conversion. Example of NTSC to PAL conversion For example, in the image below, we have a NTSC at 150 BPM, so we have frames (1/60th of a sec) per note. On PAL system (50 FPS), if were were to play back this song, it would play 20% slower. To faithfully play back our NTSC song on PAL systems, FamiStudio will sometimes run 2 NTSC frames in a single PAL frame so it can keep up with NTSC. This makes the playback speed almost the same, but unfortunately, this is not always this simple. Let's look at an example with a BPM of 112.5, which is 8 frames per note. Again, if we were to try to naively play this back on PAL, it would play back 20% slower than NTSC. If we try to apply the same strategy of running 2 NTSC frame once per note, we would still end up playing 5% slower. The solution here is to skip 4 NTSC frames, over 3 notes to distribute the error. This ends up reduce the playback speed error well below 1%. Tempo Envelopes So in general, FamiStudio will automatically compute what is called a tempo envelope that needs to be applied when playing on the non-native platform (e.g. playing a NTSC song on PAL, and vice versa). This envelope will determine where double-frames must be ran (playing NTSC on PAL), or where idle frames must be inserted (playing PAL on NSTC). This tempo envelope will be optimized and will try to place the double/idle frames following these rules: Distribute the double/idle frames as evenly as possible while maintaining deterministic positions inside the notes. Avoid placing a double/idle frame on the first frame of the note, where the attack usually is. Avoid placing a double/idle frame on the last frame of the note, where a silent note could be.","title":"Editing Songs & Project"},{"location":"song/#editing-projects","text":"The project explorer displays the name of the project, the list of songs and instruments in the current project. This section is going to focus on the very top part, which is the project and the songs.","title":"Editing projects"},{"location":"song/#editing-project-properties","text":"Clicking on the little gear icon or selecting the \"Project Properties...\" option from the context menu of the project (first button in the project explorer) will allow you to change its name, author and copyright information. This information is used when exporting to NSF, for example.","title":"Editing project properties"},{"location":"song/#expansion-audio","text":"The project properties is also where you select your Expansion Audio . Expansion will add extra channels on top of the default 5 that the NES supported. Note that changing the expansion audio in a project will delete all data (patterns, notes, instrument) related to the previous expansion. Please visit the Expansion Audio section for more detail about each expansion.","title":"Expansion audio"},{"location":"song/#tempo-modes","text":"FamiStudio supports two tempo modes : FamiStudio and FamiTracker . The tempo mode will affect how the tempo of you songs is calculated, how much control you have over the notes of your song and how your song plays on PAL systems. Note that changing the tempo mode when you have songs created is possible, but not recommended, the conversion is quite crude at the moment.","title":"Tempo modes"},{"location":"song/#famistudio-tempo-mode","text":"FamiStudio tempo modes gives full control over every frame (1/60th of a second on NTSC, 1/50th on PAL). It is the default mode. In this mode you will see the individual frames in the piano roll and will have more precise control on where each note starts/end. For example, a C-D-E-F scale where each note is stopped for 1 frame between each note will look like this using FamiStudio tempo. The dashed lines separate individual frames, so you can leave and empty frame 1 frame before the new note starts. Very intuitive and visual. FamiStudio tempo mode let's you simply choose a BPM value for the song (or an individual pattern) and will automatically choose the appropriate number of frames to make each notes. Some BPMs will require the use of a groove which is an uneven sequence of frames. For example, at 142 BPM (in NTSC), FamiStudio will know to use a 7-6-6 groove, which mean that the first note will be 7 frames long, then followed by two notes of 6 frames, and the whole thing will repeat until there is a tempo change in the song. But in order to keep the piano roll nice and even, FamiStudio will only only display the minimum values of the groove, 6 in our example. This mean that out of 19 frames in the groove, you only have control over 18. In other words, every 3rd note, FamiStudio will inject an empty frame for which you do not have any control. Effects, instrument envelopes & arpeggios will still advance on these empty frames, but otherwise no new note will be processed. You can tell FamiStudio where to inject this empty frame, by changing the Groove Padding Mode (Beginning, Middle or End). On of the limitation of FamiStudio tempo mode is that it will limit your ability to suddenly changes tempo in the middle of a pattern. When using FamiStudio tempo, you can only change the BPM at the start of a new pattern.","title":"FamiStudio Tempo Mode"},{"location":"song/#famitracker-tempo-mode","text":"FamiTracker tempo has a limited visual granularity and relies on effects (delayed notes/cuts) to get frame-level precision. It uses the speed/tempo paradigm. Please check out the FamiTracker documentation for a detailed explanation on how the playback speed is affected. If you import a FamiTracker Text or FTM file, the project will be in this tempo mode. Same example, but using FamiTracker tempo. Here we do not have the individual frames so we need to use a \"delayed cut\" effect to achieve the same result. The delayed cut tells the sound engine to insert a stop note after 9 frames have elapsed, achieving the exact same result. That being said, one might argue that it is not very visual and feels like using a Tracker. Moreover, this would not always work correctly on PAL.","title":"FamiTracker Tempo Mode"},{"location":"song/#which-one-to-use","text":"You should use FamiStudio tempo mode if: You want to be able to visually control the position of every note at a frame-level precision. You are not planning to do smooth tempo changes during the song and you are OK with changing the tempo only at the start of a new pattern. You should use FamiTracker tempo mode if: You are OK with using effects tracks (delayed notes, cuts) to finely tune the start/end of each notes. You need compatibility with FamiTracker. You want to have smooth tempo changes during the song, especially in the middle of a pattern.","title":"Which one to use?"},{"location":"song/#editing-songs","text":"Right below the project name are the songs.","title":"Editing songs"},{"location":"song/#addingdeleting-songs","text":"To add new songs, simply click on the little \"+\" icon on the song header.","title":"Adding/Deleting songs"},{"location":"song/#reordering-songs","text":"You can drag & drop songs to reorder them in the list. Songs are the only things that are not always sorted alphabetically in the project explorer at the moment.","title":"Reordering songs"},{"location":"song/#importingmerging-songs","text":"To merge a song coming from another project, click on the little folder icon on the song header. Songs from another project must use the same audio expansion and tempo mode. Also, please note that instruments, samples and arpeggios, used by the other song will be matched by their name. In other words, instruments with the same names are assumed to be the same. If you project already contains an instrument called \"Piano\" and you try to import a song using another one called \"Piano\", the existing one will be used. You are responsible to uniquely name your instruments if they are truly different.","title":"Importing/Merging songs"},{"location":"song/#editing-song-properties","text":"Clicking the gear icon next to a song or using the \"Song/Tempo Properties...\" will allow you to change its name, color and other attributes. Names must be unique. This dialog will look different depending on the Tempo Mode of the current project. FamiStudio Tempo FamiTracker tempo Common properties: Song length : The number of patterns in the song Notes Per Pattern : Default number of notes in a pattern. Pattern length can be customized on a per-pattern basis in the Sequencer. Notes Per Beat : Number of notes in a beat. The piano roll will draw a darker line at every beat. Simply a visual aid, does not affect the audio in any way, although it does affect the displayed BPM calculation. It is recommended to keep that at 4. Properties unique FamiTracker tempo mode: Speed : How much the timer is increment each frame, values other than 150 might create uneven notes Tempo : How many frames to wait before advancing to the next note (at least when using the integral tempo or 150) Properties unique FamiStudio tempo mode: Groove : For some BPM values, you will have multiple choices of \"grooves\". A groove is a sequence of number of frames that will be applied to get close to the desired BPM. This is again a consequence of the fact that the NES runs at 60 FPS (50 FPS on PAL), limiting our ability to achieve exact BPMs. Groove Padding : FamiStudio will sometimes inject frames where the song does not advance to maintain the correct BPM. You can set a preference as to the location of those \"do nothing\" frames. Putting them in the middle of notes is preferable since it is less likely to lead to audible unevenness in the tempo.","title":"Editing song properties"},{"location":"song/#tempo","text":"Configuring tempo in FamiStudio is definitely less intuitive than in a regular DAW, so please bear with me. This mainly for technical reasons (the fact that the NES runs at 50/60 FPS). The key thing to understand is that the piano roll simply gives you a series of, what I am going to loosely call, notes ( rows if you come from FamiTracker). It is up to the composer to configure these notes and achieve the desired time signature. For example, let's look at the simple melody of the children song \"A, B, C, ...\". On the right side are the song settings that were used to achieve this. In this example, the project was set to use the FamiStudio tempo mode, but the same logic applies to the FamiTracker tempo mode. Click on the image to zoom in. Here is a zoomed-in version of the first beat. Observations: Frames are separated by dashes grey line (they will disappear if you zoom out enough). Notes are separated by thin grey lines. Beats are separated by thin black lines. Patterns are separated by thick black lines. Here we chosen to have 1 bar = 1 pattern, we could have chosen to fit the whole song in a single pattern, this is totally arbitrary. You should try to use a pattern size is a good trade off between re-usability (being able to copy patterns and re-use them) and size (having many small patterns is annoying). Also we have chosen to assemble 4 notes into a beat, and 4 beats in a pattern (16 notes), which is how we get something that looks like a 4/4 time signature. This also means our smallest granularity for our melody is 1/16th of a note. That being said, you can move notes at the frame-level, so you actually have a lot more control than this. When using FamiStudio tempo mode, as you change the BPM, the number of frames (1/60th of a second) in a note may change. At a BPM of 112.5, FamiStudio calculates that we need 8 frames per note. When using FamiTracker tempo, this is the equivalent of the Speed parameter.","title":"Tempo"},{"location":"song/#example-of-time-signatures","text":"There is no real concept of time signature in FamiStudio. But given the subdivisions discussed in the previous section, we can group notes in a way that feels like a time signature. Here are a few examples of settings to achieve various time signatures, assuming you want 1 bar per pattern. Also, this table assumes that you left \"Notes per Beat\" to 4, which is the default. Time Signature Notes per Pattern Additional Setting 2/4 8 3/4 12 4/4 16 5/4 20 6/8 24 Then double the BPM 2/2 8 Then halve the BPM You can obviously double or triple the \"Notes per Pattern\" to have 2 or 3 bars in a pattern, for example. You are free to decide what a pattern represents, it does not have to be 1 bar.","title":"Example of time signatures"},{"location":"song/#famistudio-tempo-pal-conversion","text":"This is a more technical discussion of how FamiStudio tempo handles NTSC -> PAL and PAL -> NTSC conversion.","title":"FamiStudio Tempo &amp; PAL conversion"},{"location":"song/#example-of-ntsc-to-pal-conversion","text":"For example, in the image below, we have a NTSC at 150 BPM, so we have frames (1/60th of a sec) per note. On PAL system (50 FPS), if were were to play back this song, it would play 20% slower. To faithfully play back our NTSC song on PAL systems, FamiStudio will sometimes run 2 NTSC frames in a single PAL frame so it can keep up with NTSC. This makes the playback speed almost the same, but unfortunately, this is not always this simple. Let's look at an example with a BPM of 112.5, which is 8 frames per note. Again, if we were to try to naively play this back on PAL, it would play back 20% slower than NTSC. If we try to apply the same strategy of running 2 NTSC frame once per note, we would still end up playing 5% slower. The solution here is to skip 4 NTSC frames, over 3 notes to distribute the error. This ends up reduce the playback speed error well below 1%.","title":"Example of NTSC to PAL conversion"},{"location":"song/#tempo-envelopes","text":"So in general, FamiStudio will automatically compute what is called a tempo envelope that needs to be applied when playing on the non-native platform (e.g. playing a NTSC song on PAL, and vice versa). This envelope will determine where double-frames must be ran (playing NTSC on PAL), or where idle frames must be inserted (playing PAL on NSTC). This tempo envelope will be optimized and will try to place the double/idle frames following these rules: Distribute the double/idle frames as evenly as possible while maintaining deterministic positions inside the notes. Avoid placing a double/idle frame on the first frame of the note, where the attack usually is. Avoid placing a double/idle frame on the last frame of the note, where a silent note could be.","title":"Tempo Envelopes"},{"location":"soundengine/","text":"FamiStudio NES/Famicom Sound Engine This section will cover the NES sound engine that comes with FamiStudio that you can use to play music/sound effects made with FamiStudio in your homebrew NES games. Overview The FamiStudio sound engine is used by the NSF and ROM exporter of FamiStudio and can be used to make homebrew NES/Famicom games. It supports every feature from FamiStudio, including audio expansions, and will continue to do so in the future. Some of these features are toggeable to save CPU/memory. The engine is essentially a heavily modified version of FamiTone2 by Shiru . A lot of his code and comments are still present, so massive thanks to him!! I am not trying to steal his work or anything, i renamed a lot of functions and variables because at some point it was becoming a mess of coding standards and getting hard to maintain. The engine, as well as a demo project, is available for all 3 major assemblers: CA65 (and CC65) NESASM ASM6 Features The engine has a basic set of features, as well as a few extra toggeable features that you may wish to disable to same CPU/RAM. If you disable a feature, you need to make sure that you definitely are not using it in any of your songs. Using a feature in a song without enabling it in the song engine may lead to crashes (BRK) or undefined behaviors. The basic feature set that is always available in engine is: Support for the first four 2A03 channels (2 squares, triangle and noise channel). Support for the full 96 notes (C0 to B7). Instruments with duty cycle, volume, pitch and arpeggio envelopes. Absolute and relative pitch envelopes. Looping sections in envelopes. Release points for volume envelopes. Ability to change the speed (FamiTracker tempo mode only). Ability to loop over a portion of the song. Up to 64 instruments per export, an export can consist of as little as 1 song, or as many as 17. Features that can be toggled on/off depending on the needs of your projects: Audio expansions chips (at most one can be enabled) : VRC6, VRC7, FDS, S5B and N163. PAL/NTSC playback support. DPCM sample support Sound effect support (with configurable number of streams) Blaarg Smooth Vibrato technique to eliminate \"pops\" on square channels FamiTracker/FamiStudio tempo mode. Release notes support Volume track support. Volume slides Fine pitch track support. Slide notes. Slide notes (noise channel). Vibrato effect. Arpeggios (not to be confused with arpeggio instrument envelopes which are always enabled). Duty cycle effect track Delayed notes/cuts (only when FamiTracker tempo is enabled) Delta counter effect track RAM/CODE usage Enabling more features will make the sound engine code larger and use more RAM. The zeropage usage is 7 bytes and can be easily aliased with some of your ZP variables as they are only used as temporary variables inside the famistudio_xxx subroutines. Here is a table to give a rough idea of the best/worst cast of RAM/CODE usage. Note that each column includes all features of the columns on the left. So the rightmost column has every feature enabled. In reality, you can toggle features individually. These tables where generated with only NTSC support, DPCM support enabled and no SFX streams. Code size RAM usage Demo A small demo is included with the engine sound code. The demo is available for all 3 major assemblers and they will all generate binary identical ROMs. The source code for the demo is located in the \\DemoSource subfolder. CA65: DemoSource\\demo_ca65.s CC65: DemoSource\\demo_cc65.c NESASM: DemoSource\\demo_nesasm.asm ASM6: DemoSource\\demo_asm6.asm The songs used in the demo are available in the demo songs that are included with FamiStudio: Silver Surfer.fms Journey To Silius.fms Shatterhand.fms The sound effects used in the demo are available in SFX.fms, which is in the \\DemoAssets folder that comes with the sound engine. Integrating in your game The sound engine is contained in a single file which can be simply included in one of your assembly file, like it is done in the demo. CA65: famistudio_ca65.s NESASM: famistudio_nesasm.asm ASM6: famistudio_asm6.asm Another approach would be to compile the engine as a separate obj file and link it. This might require you to import the famistudio_xxx calls in other parts of your project. All the instructions to use it in your project are included as comments at the top of these files. For using the C bindings with CC65, you will need to include the famistudio_cc65.h header and also include the famistudio_ca65.s into your assembly startup routine. Make sure that FAMISTUDIO_CFG_C_BINDINGS = 1 is set either as part of your external config or in the file or else the linker will be unable link object files. Interface The interface is pretty much the same as FamiTone2, with a slightly different naming convention. The subroutines you can call from your game are: famistudio_init : Initialize the engine with some music data. famistudio_music_play : Start music playback with a specific song. famistudio_music_pause : Pause/unpause music playback. famistudio_music_stop : Stops music playback. famistudio_sfx_init : Initialize SFX engine with SFX data. famistudio_sfx_play : Play a SFX. famistudio_sfx_sample_play : Play a DPCM SFX. famistudio_update : Updates the music/SFX engine, call once per frame, ideally from NMI. To play a song, you will need to first call famistudio_init with you song data, then famistudio_play with your song number, then call famistudio_update once per frame. Configuration There are 2 main ways of configuring the sound engine: Internally : which means modifying the famistudio_xxx assembly file directly. This is the simplest way for small projects. Externally : which means that all the configuration is done through defines provided from outside of the famistudio_xxx assembly file, without modifying it. This is the recommended way of using the engine when the code file is shared across multiple projects. This is how the NSF and ROM exported, as well as the demo project uses it, as they all points to the same engine file, but use different settings. To enable this mode, simply define FAMISTUDIO_CFG_EXTERNAL=1 and you will be in charge of providing all the configuration. There are four main things to configure in the engine: Segments (ZP/RAM/PRG) Audio expansion Global engine parameters Supported features Note that unless specified, the engine uses if and not ifdef for all boolean values so you need to define these to non-zero values. Undefined values will be assumed to be zero. 1. Segments Configuration You need to tell where you want to allocate the zeropage, RAM and code. This section will be slightly different for each assembler. CA65 (and CC65) For CA65, you need to specify the name of your ZEROPAGE, RAM/BSS and CODE/PRG segments as c-style macros ( .define ) like the example below. .define FAMISTUDIO_CA65_ZP_SEGMENT ZP .define FAMISTUDIO_CA65_RAM_SEGMENT RAM .define FAMISTUDIO_CA65_CODE_SEGMENT PRG NESASM For NESASM, you may specify the .rsset location for ZP/BSS and the .bank / .org location for the code. Optionally, the .zp / .bss / .code directives may be emitted. Please refer to the demo or engine assembly file for an example of how to use this. ; Define this to emit the \".zp\" directive before the zeropage variables. FAMISTUDIO_NESASM_ZP_SECTION = 1 ; Address where to allocate the zeropage variables that the engine use. FAMISTUDIO_NESASM_ZP_RSSET = $00a0 ; Define this to emit the \".bss\" directive before the RAM/BSS variables. FAMISTUDIO_NESASM_BSS_SECTION = 1 ; Address where to allocate the RAN/BSS variables that the engine use. FAMISTUDIO_NESASM_BSS_RSSET = $0400 ; Define this to emit the \".code\" directive before the code section. FAMISTUDIO_NESASM_CODE_SECTION = 1 ; Define this to emit the \".bank\" directive before the code section. FAMISTUDIO_NESASM_CODE_BANK = 0 ; Address where to place the engine code. FAMISTUDIO_NESASM_CODE_ORG = $8000 ASM6 For ASM6, you simply need to specify the location at which to allocate the ZP / BSS and CODE . FAMISTUDIO_ASM6_ZP_ENUM = $0000 FAMISTUDIO_ASM6_BSS_ENUM = $0200 FAMISTUDIO_ASM6_CODE_BASE = $8000 2. Audio Expansions Configuration You can enable up to one audio expansion ( FAMISTUDIO_EXP_XXX ). Enabling more than one expansion will lead to undefined behavior. Memory usage goes up as more complex expansions are used. The audio expansion you choose MUST MATCH with the data you will load in the engine. Loading a FDS song while enabling VRC6 will lead to undefined behavior. ; Konami VRC6 (2 extra square + saw) FAMISTUDIO_EXP_VRC6 = 1 ; Konami VRC7 (6 FM channels) FAMISTUDIO_EXP_VRC7 = 1 ; Nintendo MMC5 (2 extra squares, extra DPCM not supported) FAMISTUDIO_EXP_MMC5 = 1 ; Sunsoft S5B (2 extra squares, advanced features not supported.) FAMISTUDIO_EXP_S5B = 1 ; Famicom Disk System (extra wavetable channel) FAMISTUDIO_EXP_FDS = 1 ; Namco 163 (between 1 and 8 extra wavetable channels) + number of channels. FAMISTUDIO_EXP_N163 = 1 FAMISTUDIO_EXP_N163_CHN_CNT = 4 3. Global Engine Configuration These are parameters that configures the engine, but are independent of the data you will be importing, such as which platform ( PAL / NTSC ) you want to support playback for, whether SFX are enabled or not, etc. They all have the form FAMISTUDIO_CFG_XXX . ; One of these MUST be defined (PAL or NTSC playback). ; Note that only NTSC support is supported when using any of the audio expansions. FAMISTUDIO_CFG_PAL_SUPPORT = 1 FAMISTUDIO_CFG_NTSC_SUPPORT = 1 ; Support for sound effects playback + number of SFX that can play at once. FAMISTUDIO_CFG_SFX_SUPPORT = 1 FAMISTUDIO_CFG_SFX_STREAMS = 2 ; Blaarg's smooth vibrato technique. Eliminates phase resets (\"pops\") on ; square channels. FAMISTUDIO_CFG_SMOOTH_VIBRATO = 1 ; Enables DPCM playback support. FAMISTUDIO_CFG_DPCM_SUPPORT = 1 ; Must be enabled if you are calling sound effects from a different ; thread than the sound engine update. FAMISTUDIO_CFG_THREAD = 1 4. Supported Features Configuration Every feature supported in FamiStudio is supported by this sound engine. If you know for sure that you are not using specific features in your music, you can disable them to save memory/processing time. Using a feature in your song and failing to enable it will likely lead to crashes ( BRK ), or undefined behavior. They all have the form FAMISTUDIO_USE_XXX . ; Must be enabled if the songs you will be importing have been created using FamiTracker tempo mode. ; If you are using FamiStudio tempo mode, this must be undefined. You cannot mix and match tempo modes, ; the engine can only run in one mode or the other. ; More information at: https://famistudio.org/doc/song/#tempo-modes FAMISTUDIO_USE_FAMITRACKER_TEMPO = 1 ; Must be enabled if the songs uses delayed notes or delayed cuts. This is obviously only available when using ; FamiTracker tempo mode as FamiStudio tempo mode does not need this. FAMISTUDIO_USE_FAMITRACKER_DELAYED_NOTES_OR_CUTS = 1 ; Must be enabled if the songs uses release notes. ; More information at: https://famistudio.org/doc/pianoroll/#release-point FAMISTUDIO_USE_RELEASE_NOTES = 1 ; Must be enabled if any song uses the volume track. The volume track allows manipulating the volume at the track ; level independently from instruments. ; More information at: https://famistudio.org/doc/pianoroll/#editing-volume-tracks-effects FAMISTUDIO_USE_VOLUME_TRACK = 1 ; Must be enabled if any song uses slides on the volume track. Volume track must be enabled too. ; More information at: https://famistudio.org/doc/pianoroll/#editing-volume-tracks-effects FAMISTUDIO_USE_VOLUME_SLIDES = 1 ; Must be enabled if any song uses the pitch track. The pitch track allows manipulating the pitch at the track ; level independently from instruments. ; More information at: https://famistudio.org/doc/pianoroll/#pitch FAMISTUDIO_USE_PITCH_TRACK = 1 ; Must be enabled if any song uses slide notes. Slide notes allows portamento and slide effects. ; More information at: https://famistudio.org/doc/pianoroll/#slide-notes FAMISTUDIO_USE_SLIDE_NOTES = 1 ; Must be enabled if any song uses slide notes on the noise channel too. ; More information at: https://famistudio.org/doc/pianoroll/#slide-notes FAMISTUDIO_USE_NOISE_SLIDE_NOTES = 1 ; Must be enabled if any song uses the vibrato speed/depth effect track. ; More information at: https://famistudio.org/doc/pianoroll/#vibrato-depth-speed FAMISTUDIO_USE_VIBRATO = 1 ; Must be enabled if any song uses arpeggios (not to be confused with instrument arpeggio envelopes, those ; are always supported). ; More information at: (TODO) FAMISTUDIO_USE_ARPEGGIO = 1 ; Must be enabled if any song uses the \"Duty Cycle\" effect (equivalent of FamiTracker Vxx, also called \"Timbre\"). FAMISTUDIO_USE_DUTYCYCLE_EFFECT = 1 ; Must be enabled if any song uses the DPCM delta counter. Only makes sense if DPCM samples ; are enabled (FAMISTUDIO_CFG_DPCM_SUPPORT). ; More information at: (TODO) ; FAMISTUDIO_USE_DELTA_COUNTER = 1 Exporting Music/SFX to the engine You can export music or sound effect data to the engine by using either the Export Dialog or from the command line . Issues with ASM6 There is a bug in ASM6 that makes it use the wrong macro values in some rare situations. The FamiStudio sound engine is sometimes affected by this. The bug is in the way ASM6 expands macros. You can fix it yourself in the original ASM6 code, or download the fixed executable from the FamiStudio Github . Code fix if you want to compile it yourself: void equ(label *id, char **next) { char str[LINEMAX]; char *s=*next; if(!labelhere) errmsg=NeedName;//EQU without a name else { if((*labelhere).type==LABEL) {//new EQU.. good reverse(str,s+strspn(s,whitesp)); //eat whitesp off both ends reverse(s,str+strspn(str,whitesp)); if(*s) { (*labelhere).line=my_strdup(s); (*labelhere).type=EQUATE; } else { errmsg=IncompleteExp; } } else if((*labelhere).type!=EQUATE) { errmsg=LabelDefined; } else { (*labelhere).line = my_strdup(s); // ***** MISSING ASSIGNMENT HERE ***** } *s=0;//end line } }","title":"NES/Famicom Sound Engine"},{"location":"soundengine/#famistudio-nesfamicom-sound-engine","text":"This section will cover the NES sound engine that comes with FamiStudio that you can use to play music/sound effects made with FamiStudio in your homebrew NES games.","title":"FamiStudio NES/Famicom Sound Engine"},{"location":"soundengine/#overview","text":"The FamiStudio sound engine is used by the NSF and ROM exporter of FamiStudio and can be used to make homebrew NES/Famicom games. It supports every feature from FamiStudio, including audio expansions, and will continue to do so in the future. Some of these features are toggeable to save CPU/memory. The engine is essentially a heavily modified version of FamiTone2 by Shiru . A lot of his code and comments are still present, so massive thanks to him!! I am not trying to steal his work or anything, i renamed a lot of functions and variables because at some point it was becoming a mess of coding standards and getting hard to maintain. The engine, as well as a demo project, is available for all 3 major assemblers: CA65 (and CC65) NESASM ASM6","title":"Overview"},{"location":"soundengine/#features","text":"The engine has a basic set of features, as well as a few extra toggeable features that you may wish to disable to same CPU/RAM. If you disable a feature, you need to make sure that you definitely are not using it in any of your songs. Using a feature in a song without enabling it in the song engine may lead to crashes (BRK) or undefined behaviors. The basic feature set that is always available in engine is: Support for the first four 2A03 channels (2 squares, triangle and noise channel). Support for the full 96 notes (C0 to B7). Instruments with duty cycle, volume, pitch and arpeggio envelopes. Absolute and relative pitch envelopes. Looping sections in envelopes. Release points for volume envelopes. Ability to change the speed (FamiTracker tempo mode only). Ability to loop over a portion of the song. Up to 64 instruments per export, an export can consist of as little as 1 song, or as many as 17. Features that can be toggled on/off depending on the needs of your projects: Audio expansions chips (at most one can be enabled) : VRC6, VRC7, FDS, S5B and N163. PAL/NTSC playback support. DPCM sample support Sound effect support (with configurable number of streams) Blaarg Smooth Vibrato technique to eliminate \"pops\" on square channels FamiTracker/FamiStudio tempo mode. Release notes support Volume track support. Volume slides Fine pitch track support. Slide notes. Slide notes (noise channel). Vibrato effect. Arpeggios (not to be confused with arpeggio instrument envelopes which are always enabled). Duty cycle effect track Delayed notes/cuts (only when FamiTracker tempo is enabled) Delta counter effect track","title":"Features"},{"location":"soundengine/#ramcode-usage","text":"Enabling more features will make the sound engine code larger and use more RAM. The zeropage usage is 7 bytes and can be easily aliased with some of your ZP variables as they are only used as temporary variables inside the famistudio_xxx subroutines. Here is a table to give a rough idea of the best/worst cast of RAM/CODE usage. Note that each column includes all features of the columns on the left. So the rightmost column has every feature enabled. In reality, you can toggle features individually. These tables where generated with only NTSC support, DPCM support enabled and no SFX streams. Code size RAM usage","title":"RAM/CODE usage"},{"location":"soundengine/#demo","text":"A small demo is included with the engine sound code. The demo is available for all 3 major assemblers and they will all generate binary identical ROMs. The source code for the demo is located in the \\DemoSource subfolder. CA65: DemoSource\\demo_ca65.s CC65: DemoSource\\demo_cc65.c NESASM: DemoSource\\demo_nesasm.asm ASM6: DemoSource\\demo_asm6.asm The songs used in the demo are available in the demo songs that are included with FamiStudio: Silver Surfer.fms Journey To Silius.fms Shatterhand.fms The sound effects used in the demo are available in SFX.fms, which is in the \\DemoAssets folder that comes with the sound engine.","title":"Demo"},{"location":"soundengine/#integrating-in-your-game","text":"The sound engine is contained in a single file which can be simply included in one of your assembly file, like it is done in the demo. CA65: famistudio_ca65.s NESASM: famistudio_nesasm.asm ASM6: famistudio_asm6.asm Another approach would be to compile the engine as a separate obj file and link it. This might require you to import the famistudio_xxx calls in other parts of your project. All the instructions to use it in your project are included as comments at the top of these files. For using the C bindings with CC65, you will need to include the famistudio_cc65.h header and also include the famistudio_ca65.s into your assembly startup routine. Make sure that FAMISTUDIO_CFG_C_BINDINGS = 1 is set either as part of your external config or in the file or else the linker will be unable link object files.","title":"Integrating in your game"},{"location":"soundengine/#interface","text":"The interface is pretty much the same as FamiTone2, with a slightly different naming convention. The subroutines you can call from your game are: famistudio_init : Initialize the engine with some music data. famistudio_music_play : Start music playback with a specific song. famistudio_music_pause : Pause/unpause music playback. famistudio_music_stop : Stops music playback. famistudio_sfx_init : Initialize SFX engine with SFX data. famistudio_sfx_play : Play a SFX. famistudio_sfx_sample_play : Play a DPCM SFX. famistudio_update : Updates the music/SFX engine, call once per frame, ideally from NMI. To play a song, you will need to first call famistudio_init with you song data, then famistudio_play with your song number, then call famistudio_update once per frame.","title":"Interface"},{"location":"soundengine/#configuration","text":"There are 2 main ways of configuring the sound engine: Internally : which means modifying the famistudio_xxx assembly file directly. This is the simplest way for small projects. Externally : which means that all the configuration is done through defines provided from outside of the famistudio_xxx assembly file, without modifying it. This is the recommended way of using the engine when the code file is shared across multiple projects. This is how the NSF and ROM exported, as well as the demo project uses it, as they all points to the same engine file, but use different settings. To enable this mode, simply define FAMISTUDIO_CFG_EXTERNAL=1 and you will be in charge of providing all the configuration. There are four main things to configure in the engine: Segments (ZP/RAM/PRG) Audio expansion Global engine parameters Supported features Note that unless specified, the engine uses if and not ifdef for all boolean values so you need to define these to non-zero values. Undefined values will be assumed to be zero.","title":"Configuration"},{"location":"soundengine/#1-segments-configuration","text":"You need to tell where you want to allocate the zeropage, RAM and code. This section will be slightly different for each assembler.","title":"1. Segments Configuration"},{"location":"soundengine/#ca65-and-cc65","text":"For CA65, you need to specify the name of your ZEROPAGE, RAM/BSS and CODE/PRG segments as c-style macros ( .define ) like the example below. .define FAMISTUDIO_CA65_ZP_SEGMENT ZP .define FAMISTUDIO_CA65_RAM_SEGMENT RAM .define FAMISTUDIO_CA65_CODE_SEGMENT PRG","title":"CA65 (and CC65)"},{"location":"soundengine/#nesasm","text":"For NESASM, you may specify the .rsset location for ZP/BSS and the .bank / .org location for the code. Optionally, the .zp / .bss / .code directives may be emitted. Please refer to the demo or engine assembly file for an example of how to use this. ; Define this to emit the \".zp\" directive before the zeropage variables. FAMISTUDIO_NESASM_ZP_SECTION = 1 ; Address where to allocate the zeropage variables that the engine use. FAMISTUDIO_NESASM_ZP_RSSET = $00a0 ; Define this to emit the \".bss\" directive before the RAM/BSS variables. FAMISTUDIO_NESASM_BSS_SECTION = 1 ; Address where to allocate the RAN/BSS variables that the engine use. FAMISTUDIO_NESASM_BSS_RSSET = $0400 ; Define this to emit the \".code\" directive before the code section. FAMISTUDIO_NESASM_CODE_SECTION = 1 ; Define this to emit the \".bank\" directive before the code section. FAMISTUDIO_NESASM_CODE_BANK = 0 ; Address where to place the engine code. FAMISTUDIO_NESASM_CODE_ORG = $8000","title":"NESASM"},{"location":"soundengine/#asm6","text":"For ASM6, you simply need to specify the location at which to allocate the ZP / BSS and CODE . FAMISTUDIO_ASM6_ZP_ENUM = $0000 FAMISTUDIO_ASM6_BSS_ENUM = $0200 FAMISTUDIO_ASM6_CODE_BASE = $8000","title":"ASM6"},{"location":"soundengine/#2-audio-expansions-configuration","text":"You can enable up to one audio expansion ( FAMISTUDIO_EXP_XXX ). Enabling more than one expansion will lead to undefined behavior. Memory usage goes up as more complex expansions are used. The audio expansion you choose MUST MATCH with the data you will load in the engine. Loading a FDS song while enabling VRC6 will lead to undefined behavior. ; Konami VRC6 (2 extra square + saw) FAMISTUDIO_EXP_VRC6 = 1 ; Konami VRC7 (6 FM channels) FAMISTUDIO_EXP_VRC7 = 1 ; Nintendo MMC5 (2 extra squares, extra DPCM not supported) FAMISTUDIO_EXP_MMC5 = 1 ; Sunsoft S5B (2 extra squares, advanced features not supported.) FAMISTUDIO_EXP_S5B = 1 ; Famicom Disk System (extra wavetable channel) FAMISTUDIO_EXP_FDS = 1 ; Namco 163 (between 1 and 8 extra wavetable channels) + number of channels. FAMISTUDIO_EXP_N163 = 1 FAMISTUDIO_EXP_N163_CHN_CNT = 4","title":"2. Audio Expansions Configuration"},{"location":"soundengine/#3-global-engine-configuration","text":"These are parameters that configures the engine, but are independent of the data you will be importing, such as which platform ( PAL / NTSC ) you want to support playback for, whether SFX are enabled or not, etc. They all have the form FAMISTUDIO_CFG_XXX . ; One of these MUST be defined (PAL or NTSC playback). ; Note that only NTSC support is supported when using any of the audio expansions. FAMISTUDIO_CFG_PAL_SUPPORT = 1 FAMISTUDIO_CFG_NTSC_SUPPORT = 1 ; Support for sound effects playback + number of SFX that can play at once. FAMISTUDIO_CFG_SFX_SUPPORT = 1 FAMISTUDIO_CFG_SFX_STREAMS = 2 ; Blaarg's smooth vibrato technique. Eliminates phase resets (\"pops\") on ; square channels. FAMISTUDIO_CFG_SMOOTH_VIBRATO = 1 ; Enables DPCM playback support. FAMISTUDIO_CFG_DPCM_SUPPORT = 1 ; Must be enabled if you are calling sound effects from a different ; thread than the sound engine update. FAMISTUDIO_CFG_THREAD = 1","title":"3. Global Engine Configuration"},{"location":"soundengine/#4-supported-features-configuration","text":"Every feature supported in FamiStudio is supported by this sound engine. If you know for sure that you are not using specific features in your music, you can disable them to save memory/processing time. Using a feature in your song and failing to enable it will likely lead to crashes ( BRK ), or undefined behavior. They all have the form FAMISTUDIO_USE_XXX . ; Must be enabled if the songs you will be importing have been created using FamiTracker tempo mode. ; If you are using FamiStudio tempo mode, this must be undefined. You cannot mix and match tempo modes, ; the engine can only run in one mode or the other. ; More information at: https://famistudio.org/doc/song/#tempo-modes FAMISTUDIO_USE_FAMITRACKER_TEMPO = 1 ; Must be enabled if the songs uses delayed notes or delayed cuts. This is obviously only available when using ; FamiTracker tempo mode as FamiStudio tempo mode does not need this. FAMISTUDIO_USE_FAMITRACKER_DELAYED_NOTES_OR_CUTS = 1 ; Must be enabled if the songs uses release notes. ; More information at: https://famistudio.org/doc/pianoroll/#release-point FAMISTUDIO_USE_RELEASE_NOTES = 1 ; Must be enabled if any song uses the volume track. The volume track allows manipulating the volume at the track ; level independently from instruments. ; More information at: https://famistudio.org/doc/pianoroll/#editing-volume-tracks-effects FAMISTUDIO_USE_VOLUME_TRACK = 1 ; Must be enabled if any song uses slides on the volume track. Volume track must be enabled too. ; More information at: https://famistudio.org/doc/pianoroll/#editing-volume-tracks-effects FAMISTUDIO_USE_VOLUME_SLIDES = 1 ; Must be enabled if any song uses the pitch track. The pitch track allows manipulating the pitch at the track ; level independently from instruments. ; More information at: https://famistudio.org/doc/pianoroll/#pitch FAMISTUDIO_USE_PITCH_TRACK = 1 ; Must be enabled if any song uses slide notes. Slide notes allows portamento and slide effects. ; More information at: https://famistudio.org/doc/pianoroll/#slide-notes FAMISTUDIO_USE_SLIDE_NOTES = 1 ; Must be enabled if any song uses slide notes on the noise channel too. ; More information at: https://famistudio.org/doc/pianoroll/#slide-notes FAMISTUDIO_USE_NOISE_SLIDE_NOTES = 1 ; Must be enabled if any song uses the vibrato speed/depth effect track. ; More information at: https://famistudio.org/doc/pianoroll/#vibrato-depth-speed FAMISTUDIO_USE_VIBRATO = 1 ; Must be enabled if any song uses arpeggios (not to be confused with instrument arpeggio envelopes, those ; are always supported). ; More information at: (TODO) FAMISTUDIO_USE_ARPEGGIO = 1 ; Must be enabled if any song uses the \"Duty Cycle\" effect (equivalent of FamiTracker Vxx, also called \"Timbre\"). FAMISTUDIO_USE_DUTYCYCLE_EFFECT = 1 ; Must be enabled if any song uses the DPCM delta counter. Only makes sense if DPCM samples ; are enabled (FAMISTUDIO_CFG_DPCM_SUPPORT). ; More information at: (TODO) ; FAMISTUDIO_USE_DELTA_COUNTER = 1","title":"4. Supported Features Configuration"},{"location":"soundengine/#exporting-musicsfx-to-the-engine","text":"You can export music or sound effect data to the engine by using either the Export Dialog or from the command line .","title":"Exporting Music/SFX to the engine"},{"location":"soundengine/#issues-with-asm6","text":"There is a bug in ASM6 that makes it use the wrong macro values in some rare situations. The FamiStudio sound engine is sometimes affected by this. The bug is in the way ASM6 expands macros. You can fix it yourself in the original ASM6 code, or download the fixed executable from the FamiStudio Github . Code fix if you want to compile it yourself: void equ(label *id, char **next) { char str[LINEMAX]; char *s=*next; if(!labelhere) errmsg=NeedName;//EQU without a name else { if((*labelhere).type==LABEL) {//new EQU.. good reverse(str,s+strspn(s,whitesp)); //eat whitesp off both ends reverse(s,str+strspn(str,whitesp)); if(*s) { (*labelhere).line=my_strdup(s); (*labelhere).type=EQUATE; } else { errmsg=IncompleteExp; } } else if((*labelhere).type!=EQUATE) { errmsg=LabelDefined; } else { (*labelhere).line = my_strdup(s); // ***** MISSING ASSIGNMENT HERE ***** } *s=0;//end line } }","title":"Issues with ASM6"},{"location":"thanks/","text":"Acknowledgements Libraries FamiStudio uses some external libraries for sound emulation, import and export to various formats. Many thanks to the developers working on these. Nes_Snd_Emu Great little NES sound emulation library created by Blargg . It also includes improvements they made later on in Game_Music_Emu. Was also modified by me to add a few more expansions. NotSoFatso Originally a Winamp plugin to play NSF created by Disch , it was stripped down to only keep the audio emulation core and is used for the NSF import. emu2149 Small library that emulates the YM2149 chip (aka PSG), created by by Mitsutaka Okazaki . It is used for the EPSM emulation. emu2413 Very similar to emu2149 and also created by Mitsutaka Okazaki , but used for the VRC7 emulation. Nuked-OPN2 OPN2 is a high-accuracy YM3438 emulator. FamiStudio uses a slightly modified version of this library from BambooTracker for EPSM emulation. ShineMp3 Created by Gabriel Bouvigne, Pete Everett, Patrick Roberts and others. Used for the MP3 export. Vorbis Created by the Xiph.Org Foundation . Used for the OGG/Vorbis export. GifDec GifDec is a tiny little C library to read animated GIF files. It does one thing and does it very well. It is used to display the tutorials on all platforms. GLFW GLFW is a very simple windowing & input management system for OpenGL. It is used by all 3 platforms on Desktop for the main FamiStudio window. The C# bindings are provided by GLFWDotNet . Demo Songs A few demo songs are also provided with FamiStudio. Unless mentioned, the demo songs are my re-creations, done by reverse-engineering the NSF. Another Winter - Anamanagughi (cover by How2Bboss . Thanks!!!) Nice - Full Soundtrack (by How2Bboss . Thanks!!!) Dedrecil - Full Soundtrack (by How2Bboss . Thanks!!!) Layla : The Iris Missions - Iris (by Supper) Tower of Heaven - Indignant Divinity (Flashygoodness, cover by Danooct1 . Thanks!!!) Green Hill Zone Theme - Sonic (cover by How2Bboss . Thanks!!!) Mega Man 2 - Stage Select & Dr. Wily's Castle Journey To Silius - Intro DuckTales! - The Moon Castlevania 2 - Bloody Tears Shovel Knight - Strike the Earth! (Plains of Passage) Shatterhand - Final Stage Gimmick - Strange Memories of Death (Improvements contributed by marklincadet. Thanks!!!) Silver Surfer : BGM2 Gradius II - Farewell Gyruss - Stage 2 FamiStudio - Tutorial Song (song created in tutorial) Lagrange Point - Theme of Isis & Aqueduct (Contributed by marklincadet. Thanks!!!) Megami Tensei II - Explorer (Contributed by marklincadet. Thanks!!!)","title":"Acknowledgements"},{"location":"thanks/#acknowledgements","text":"","title":"Acknowledgements"},{"location":"thanks/#libraries","text":"FamiStudio uses some external libraries for sound emulation, import and export to various formats. Many thanks to the developers working on these.","title":"Libraries"},{"location":"thanks/#nes_snd_emu","text":"Great little NES sound emulation library created by Blargg . It also includes improvements they made later on in Game_Music_Emu. Was also modified by me to add a few more expansions.","title":"Nes_Snd_Emu"},{"location":"thanks/#notsofatso","text":"Originally a Winamp plugin to play NSF created by Disch , it was stripped down to only keep the audio emulation core and is used for the NSF import.","title":"NotSoFatso"},{"location":"thanks/#emu2149","text":"Small library that emulates the YM2149 chip (aka PSG), created by by Mitsutaka Okazaki . It is used for the EPSM emulation.","title":"emu2149"},{"location":"thanks/#emu2413","text":"Very similar to emu2149 and also created by Mitsutaka Okazaki , but used for the VRC7 emulation.","title":"emu2413"},{"location":"thanks/#nuked-opn2","text":"OPN2 is a high-accuracy YM3438 emulator. FamiStudio uses a slightly modified version of this library from BambooTracker for EPSM emulation.","title":"Nuked-OPN2"},{"location":"thanks/#shinemp3","text":"Created by Gabriel Bouvigne, Pete Everett, Patrick Roberts and others. Used for the MP3 export.","title":"ShineMp3"},{"location":"thanks/#vorbis","text":"Created by the Xiph.Org Foundation . Used for the OGG/Vorbis export.","title":"Vorbis"},{"location":"thanks/#gifdec","text":"GifDec is a tiny little C library to read animated GIF files. It does one thing and does it very well. It is used to display the tutorials on all platforms.","title":"GifDec"},{"location":"thanks/#glfw","text":"GLFW is a very simple windowing & input management system for OpenGL. It is used by all 3 platforms on Desktop for the main FamiStudio window. The C# bindings are provided by GLFWDotNet .","title":"GLFW"},{"location":"thanks/#demo-songs","text":"A few demo songs are also provided with FamiStudio. Unless mentioned, the demo songs are my re-creations, done by reverse-engineering the NSF. Another Winter - Anamanagughi (cover by How2Bboss . Thanks!!!) Nice - Full Soundtrack (by How2Bboss . Thanks!!!) Dedrecil - Full Soundtrack (by How2Bboss . Thanks!!!) Layla : The Iris Missions - Iris (by Supper) Tower of Heaven - Indignant Divinity (Flashygoodness, cover by Danooct1 . Thanks!!!) Green Hill Zone Theme - Sonic (cover by How2Bboss . Thanks!!!) Mega Man 2 - Stage Select & Dr. Wily's Castle Journey To Silius - Intro DuckTales! - The Moon Castlevania 2 - Bloody Tears Shovel Knight - Strike the Earth! (Plains of Passage) Shatterhand - Final Stage Gimmick - Strange Memories of Death (Improvements contributed by marklincadet. Thanks!!!) Silver Surfer : BGM2 Gradius II - Farewell Gyruss - Stage 2 FamiStudio - Tutorial Song (song created in tutorial) Lagrange Point - Theme of Isis & Aqueduct (Contributed by marklincadet. Thanks!!!) Megami Tensei II - Explorer (Contributed by marklincadet. Thanks!!!)","title":"Demo Songs"},{"location":"troubleshooting/","text":"Troubleshooting This section will contain solutions to problems that have been encountered by FamiStudio users. This section is still work in progress. Keyboard issues on MacOS If the keyboards does not seems to work on MacOS, you may have to grant a few more permissions to the app. In the Security & Privacy settings, make sure Input Monitoring is allowed for both sh and Terminal .","title":"Troubleshooting"},{"location":"troubleshooting/#troubleshooting","text":"This section will contain solutions to problems that have been encountered by FamiStudio users. This section is still work in progress.","title":"Troubleshooting"},{"location":"troubleshooting/#keyboard-issues-on-macos","text":"If the keyboards does not seems to work on MacOS, you may have to grant a few more permissions to the app. In the Security & Privacy settings, make sure Input Monitoring is allowed for both sh and Terminal .","title":"Keyboard issues on MacOS"}]}