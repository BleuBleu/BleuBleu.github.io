<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Editing Instruments & Arpeggios - FamiStudio Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/darcula.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">FamiStudio Documentation</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Welcome</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../basics/" class="dropdown-item">Basics</a>
</li>
                                    
<li>
    <a href="../pianoroll/" class="dropdown-item">Editing Notes</a>
</li>
                                    
<li>
    <a href="../sequencer/" class="dropdown-item">Editing Patterns</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Editing Instruments & Arpeggios</a>
</li>
                                    
<li>
    <a href="../song/" class="dropdown-item">Editing Songs & Project</a>
</li>
                                    
<li>
    <a href="../importexport/" class="dropdown-item">Importing & Exporting Your Songs</a>
</li>
                                    
<li>
    <a href="../expansion/" class="dropdown-item">Using Expansion Audio</a>
</li>
                                    
<li>
    <a href="../cleanup/" class="dropdown-item">Cleaning-up your Project</a>
</li>
                                    
<li>
    <a href="../config/" class="dropdown-item">Configuring FamiStudio</a>
</li>
                                    
<li>
    <a href="../cmdline/" class="dropdown-item">Command-line Processing</a>
</li>
                                    
<li>
    <a href="../soundengine/" class="dropdown-item">NES Sound Engine</a>
</li>
                                    
<li>
    <a href="../troubleshooting/" class="dropdown-item">Troubleshooting</a>
</li>
                                    
<li>
    <a href="../changelog/" class="dropdown-item">Change Log</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../sequencer/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../song/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#editing-instruments" class="nav-link">Editing Instruments</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#editing-instrument-properties" class="nav-link">Editing instrument properties</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#adding-instruments" class="nav-link">Adding instruments</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#replacing-an-instrument-by-another" class="nav-link">Replacing an instrument by another</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#importing-instruments" class="nav-link">Importing instruments</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#editing-instrument-envelopes" class="nav-link">Editing instrument envelopes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#copying-envelope-values" class="nav-link">Copying envelope values</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#copying-envelopes" class="nav-link">Copying envelopes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#deleting-envelopes" class="nav-link">Deleting envelopes</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#editing-dpcm-samples" class="nav-link">Editing DPCM samples</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#assigning-a-dpcm-sample-to-a-key" class="nav-link">Assigning a DPCM sample to a key</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#unassigning-a-dpcm-sample" class="nav-link">Unassigning a DPCM sample</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#moving-dpcm-samples-to-another-key" class="nav-link">Moving DPCM samples to another key</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#editing-dpcm-samples-properties" class="nav-link">Editing DPCM samples properties</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#exporting-dpcm-samples" class="nav-link">Exporting DPCM samples</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#editing-arpeggios" class="nav-link">Editing Arpeggios</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#replacing-arpeggios-by-another" class="nav-link">Replacing arpeggios by another</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#copying-arpeggios" class="nav-link">Copying arpeggios</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="editing-instruments">Editing Instruments</h1>
<p>The project explorer displays the list of songs and instruments in the current project. This section is only going to cover editing of instruments and arpeggios. Please refer to the <a href="../song/">Editing Songs &amp; Project</a> section to learn how to edit project and song properties.</p>
<p><img alt="" src="../images/ProjectExplorer.png#center" /></p>
<p>Most instrument (except DPCM samples) has 4 buttons :</p>
<ul>
<li>The duty cycle envelope</li>
<li>The volume envelope</li>
<li>The pitch envelope</li>
<li>The arpeggio envelope</li>
</ul>
<p>An envelope is simply a parameter that can change over the duration of a note as it plays. It can be used to create vibrato, tremolo, change the attack and release of a note, for example. If an instrument currently has no envelope for a particular type, it will appear dimmed.</p>
<p>For details on Expansion audio instruments please visit the <a href="../expansion/">Expansion Audio section</a>.</p>
<h2 id="editing-instrument-properties">Editing instrument properties</h2>
<p>Double-clicking on an instrument will show its properties.</p>
<ul>
<li><strong>Relative pitch</strong> : By default, FamiStudio's pitch envelope are absolute. Meaning that the envelope values are the pitch you are going to hear, this is especially useful for vibrato where you can draw a simple sine wave. It is sometimes useful to have relative pitch envelope to create pitches that rapidly ascend or decend (useful for bassdrum sounds). This is how FamiTracker handles pitch envelopes.</li>
</ul>
<p><img alt="" src="../images/EditInstrument.png#center" /></p>
<h2 id="adding-instruments">Adding instruments</h2>
<p>You can an instrument by pressing the "+" sign, and you can one by right-clicking on it. Deleting an instrument will delete all notes used by that instrument.</p>
<h2 id="replacing-an-instrument-by-another">Replacing an instrument by another</h2>
<p>Clicking on an instrument name and dragging it over another instrument will allow you to replace all notes of the first instrument by the second. This is useful prior to deleting an instrument.</p>
<h2 id="importing-instruments">Importing instruments</h2>
<p>You can import intruments in your project from any supported input format, as well as FamiTracker instrument files (FTI files, official FamiTracker 0.4.6 only) by clicking the little folder icon. </p>
<p>When importing instruments from another project or a FamiTracker file, you will be prompted with a list of instruments to import. Simply check the instrument to bring over.</p>
<p><img alt="" src="../images/ImportInstruments.png#center" /></p>
<p>Note that instruments that are using incompatible expansion audio will not be able to be imported. Also, instruments with the same names are assumed to be the same. If you project already contains an instrument called "Piano" and you try to import another one called "Piano", nothing will happen. You are responsible to uniquely name your instruments if they are truly different.</p>
<h2 id="editing-instrument-envelopes">Editing instrument envelopes</h2>
<p>Clicking on an envelope icon in the project explorer will open the envelope of that instrument in the piano roll. The length of the envelope can be changed by left-clicking (and potentially dragging) in the timeline of the piano roll. Setting the length of an envelope to zero will disable it.</p>
<p><img alt="" src="../images/EditEnvelope.png#center" /></p>
<p>The loop point of an envelope can be set by right-clicking in the timeline. Volume tracks are also allowed to have release envelopes. Release envelopes are played when a release note is encountered and terminates the loop by jumping to the release point. This is useful for fading out notes smoothly. The release point is set by right-dragging from the rightmost side of the envelope.</p>
<p><img alt="" src="../images/EditEnvelopeRelease.png#center" /></p>
<h2 id="copying-envelope-values">Copying envelope values</h2>
<p>Right-clicking on the numbers on the header of the envelope editor allows for range selection of envelope values. These can then be copy and pasted elsewhere.</p>
<p><img alt="" src="../images/CopyEnvelopeValues.png#center" /></p>
<p>It is also possible to paste envelope values coming for raw text. Any series of number that is space, tab, comma, semicolon or newline separated can be pasted in the envelope editor. </p>
<h2 id="copying-envelopes">Copying envelopes</h2>
<p>Clicking on an envelope button and dragging it on another instrument will copy that envelope from the first to the second. Note that unlike FamiTracker, envelopes are not explicitly shared between instruments. Identical envelopes will be combined when exporting to FamiTone2, but it is your responsibility to optimize the content and ensure that you limit the number of unique envelopes.</p>
<h2 id="deleting-envelopes">Deleting envelopes</h2>
<p>Right-clicking on the icon of an envelope deletes it.</p>
<h1 id="editing-dpcm-samples">Editing DPCM samples</h1>
<p>Clicking on the little icon next to the DPCM samples in the project explorer will open the piano roll in DPCM edition mode.</p>
<p>DPCM (Delta Pulse Coded Modulation)samples are very low quality 1-bit digital samples that the NES supported. They are of very low quality but have been used quite successfully for drums and basses. </p>
<p><img alt="" src="../images/EditDPCM.png#center" /></p>
<h2 id="assigning-a-dpcm-sample-to-a-key">Assigning a DPCM sample to a key</h2>
<p>You can assign a sample to a key of the piano. Clicking anywhere on a note that does not have a DPCM sample associated will prompt you to open a .DMC file. </p>
<p>No DMC edition tool is provided, you can use <a href="http://famitracker.com/">FamiTracker</a>, <a href="http://forums.famitracker.com/viewtopic.php?t=95">RJDMC</a>, <a href="https://www.romhacking.net/utilities/1451/">MakeDPCM</a> or any other tool. DPCM samples are assumed to have unique names and 2 samples with the same name will be assume to be the same. Note that only notes between C1 and D6 are allowed to have DPCM samples.</p>
<h2 id="unassigning-a-dpcm-sample">Unassigning a DPCM sample</h2>
<p>Right clicking on a sample that has been mapped to a key will remove it from that key. The memory for a sample will not be freed if it is still being used by another key. </p>
<h2 id="moving-dpcm-samples-to-another-key">Moving DPCM samples to another key</h2>
<p>DPCM samples can be dragged to another key. When the drag is completed, FamiStudio will offer you to transpose all notes using the old key to the new key.</p>
<h2 id="editing-dpcm-samples-properties">Editing DPCM samples properties</h2>
<p>Double-clicking on an existing sample will show its properties. </p>
<ul>
<li><strong>Name</strong> : Name of the sample. Needs to be unique. The name is shared accross all instances of the same sample, renaming one will rename all the others.</li>
<li><strong>Pitch</strong> : Allows pitching the sample down.</li>
<li><strong>Loop</strong> : Makes the sample loop.</li>
<li><strong>Reverse Bits</strong> : Will reverse the bits of the sample. This come from a recent discovery that quite a few games had packed their bits in the wrong order, leading to samples sounding worse than they should. Much like the name, this is shared accross all instances of the sample (all samples will the same name). </li>
</ul>
<p><img alt="" src="../images/DPCMProperties.png#center" /></p>
<h2 id="exporting-dpcm-samples">Exporting DPCM samples</h2>
<p>Holding <strong>S</strong> and clicking on a sample will allow you to save it to a file. Only the RAW sample data will be save. Any properties set, such as pitch, loop and bit reverse will be ignored.</p>
<p>DPCMProperties.png</p>
<h1 id="editing-arpeggios">Editing Arpeggios</h1>
<p>Arpeggios (not to be confused with arpeggio instrument envelopes) are typically used to simulate chords by playing changing notes very rapidly. They work in the exact same way as arpeggio instrument envelopes, but they are not bound to any specific instrument. For example, if you define a "Major chord" arpeggio that repeats a sequence 0-4-7 of notes, you can then re-use this arpeggio on any instrument later on. Saving you the trouble or either inputting many tiny notes, or creating many instruments for each chord.</p>
<p>Arpeggios are handled in a very similar way to instrument. You can add a new arpeggio by click on the <strong>+</strong> button of the <strong>Arpeggios</strong> section. To edit the sequence of note you can then click of the little note icon on the right side of the arpeggio button. </p>
<p><img alt="" src="../images/EditArpeggio.png#center" /></p>
<p>You can also assign a name and a color to each arpeggio by double-clicking on an arpeggio. This color will be displayed in the piano roll when the arpeggio is used.</p>
<p><img alt="" src="../images/EditArpeggioProperties.png#center" /></p>
<h2 id="replacing-arpeggios-by-another">Replacing arpeggios by another</h2>
<p>Much like instrument, you can replace every usage of an arpeggio by another by simply dragging an arpeggio on to another. FamiStudio will prompt you to confirm the replacement.</p>
<h2 id="copying-arpeggios">Copying arpeggios</h2>
<p>You can also copy the sequence of note from one arpeggio to another by dragging the little note icon (the one on the right side) on to another arpeggio. </p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
